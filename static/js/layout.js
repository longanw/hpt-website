$(document).ready(function(){"use strict";$(function(){jQuery("img.svg").each(function(){var a=jQuery(this);var s=a.attr("id");var n=a.attr("class");var e=a.attr("src");jQuery.get(e,function(e){var t=jQuery(e).find("svg");if(typeof s!=="undefined"){t=t.attr("id",s)}if(typeof n!=="undefined"){t=t.attr("class",n+" replaced-svg")}t=t.removeAttr("xmlns:a");if(!t.attr("viewBox")&&t.attr("height")&&t.attr("width")){t.attr("viewBox","0 0 "+t.attr("height")+" "+t.attr("width"))}a.replaceWith(t)},"xml")})});$("#banner").owlCarousel({loop:true,dots:true,nav:true,slideSpeed:300,paginationSpeed:400,autoplay:true,autoplayTimeout:5e3,autoplayHoverPause:true,singleItem:true,responsiveClass:true,responsive:{0:{items:1,nav:false},768:{items:1,nav:false},1e3:{items:1}}});$("#services-slider").owlCarousel({loop:true,dots:true,autoHeight:true,autoHeightClass:"owl-height",nav:false,slideSpeed:600,paginationSpeed:400,singleItem:true,responsiveClass:true,responsive:{0:{items:1},768:{items:1},1e3:{items:1},1024:{items:1}}});$("#cases-slider").owlCarousel({autoplay:true,autoplayHoverPause:true,autoplayTimeout:3e3,loop:true,dots:false,nav:true,slideSpeed:600,paginationSpeed:400,singleItem:true,responsiveClass:true,responsive:{0:{items:1,nav:false,dots:true},768:{items:2,nav:false,dots:true},1e3:{items:3,nav:true,dots:false},1025:{items:4,nav:true,dots:false}}});$("#news").owlCarousel({autoplay:true,autoplayHoverPause:true,autoplayTimeout:8e3,loop:true,dots:false,margin:20,nav:false,slideSpeed:300,paginationSpeed:400,singleItem:true,responsiveClass:true,responsive:{0:{items:1,nav:false,dots:false},768:{items:2,nav:false,dots:false},1e3:{items:3,nav:false,dots:false},1025:{items:3,nav:false,dots:false}}});$(".search-toggle").on("click",function(){if($(window).width()>767){if($(this).hasClass("active")){$(this).removeClass("active");$(".search-form").removeClass("open");setTimeout(function(){$(".navbar-nav").removeClass("hide")},300)}else{$(this).addClass("active");$(".search-form").addClass("open");$(".search-form .form-control").focus();$(".navbar-nav").addClass("hide")}}});$(window).on("scroll load resize",n);$('.primary-navbar .navbar-nav a[href^="#"]').on("click",function(e){e.preventDefault();if($(window).width()<768){$(".pmd-sidebar-overlay").trigger("click")}$(document).off("scroll");var t=this.hash,a=$(t);var s=$(".navbar").height();if($("body").hasClass("propeller-topbar-body")){$("html, body").stop().animate({scrollTop:a.offset().top-s-48},500,function(){$(document).on("scroll",n)})}else{$("html, body").stop().animate({scrollTop:a.offset().top-s},500,function(){$(document).on("scroll",n)})}});function n(){var n=$(document).scrollTop()+205;$(".primary-navbar .nav > li > a").each(function(){var e=$(this);var t=$(e.attr("href"));if(t.position().top<=n&&t.position().top+t.height()>n){$(".nav li a").removeClass("active");e.addClass("active");var a=$(".active").offset().left-$(".nav").offset().left;var s=$(this).outerWidth();$(".nav .nav-active").css({left:a,width:s})}else{e.removeClass("active")}})}$(window).on("load",function(){var e=location.hash;if(e!==""){t(e)}});function t(e){$(window).scrollTop(0);var t=$(".navbar").height();$("body, html").animate({scrollTop:$(e).offset().top-t},600)}$(window).on("scroll",function(){var e=$(this).scrollTop();if(e>56){if($(".pmd-navbar").hasClass("primary-navbar")){$("nav.navbar").addClass("navbar-small");$("nav.navbar").removeClass("navbar-inverse")}}else{if($(".pmd-navbar").hasClass("primary-navbar")){$("nav.navbar").removeClass("navbar-small");$("nav.navbar").addClass("navbar-inverse")}}});$(window).on("load",function(){$("#status").fadeOut();$("#preloader").delay(300).fadeOut("slow");$("body").delay(300).css({overflow:"visible"})})});$(function(){$(".to-top").on("click",function(){$("html,body").stop().animate({scrollTop:0},200)});function s(l){var e=l.parents("div").offset().top,t=l.attr("bolExec");$(document).scrollTop()>e-3*$(window).height()/4&&!t&&(!function(){l.text(l.text().replace(".",""));var s=0,n=l.text()-0,o=(n+"").length,r=setInterval(function(){s++;for(var e=parseInt(n/100*s),t="",a=0;a<o-(e+"").length;a++)t+=0;l.text(t+e);if(s>=100){l.text(l.attr("rel"));clearInterval(r)}},50)}(),l.attr("bolExec",!0))}function e(){var a=$(window).scrollTop();$(".num").each(function(e){var t=$(this).offset().top;if(a>t-800){s($(this))}})}$(window).on("scroll",function(){e()})});var Email={send:function(s){return new Promise(function(t,e){s.nocache=Math.floor(1e6*Math.random()+1),s.Action="Send";var a=JSON.stringify(s);Email.ajaxPost("https://smtpjs.com/v3/smtpjs.aspx?",a,function(e){t(e)})})},ajaxPost:function(e,t,a){var s=Email.createCORSRequest("POST",e);s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.onload=function(){var e=s.responseText;null!=a&&a(e)},s.send(t)},ajax:function(e,t){var a=Email.createCORSRequest("GET",e);a.onload=function(){var e=a.responseText;null!=t&&t(e)},a.send()},createCORSRequest:function(e,t){var a=new XMLHttpRequest;return"withCredentials"in a?a.open(e,t,!0):"undefined"!=typeof XDomainRequest?(a=new XDomainRequest).open(e,t):a=null,a}};function blur_fullname(){var e=document.getElementsByName("fullname")[0].value;if(e.length===0){document.getElementById("user_res").innerHTML="<font color='#f00'>您没有输入姓名</font>";return false}else if($.trim(e).length<2){document.getElementById("user_res").innerHTML="<font color='#f00'>姓名不少于两个字</font>";return false}else{document.getElementById("user_res").innerHTML="<font color='#00f'>OK</font>";return true}}function blur_phone(){var e=document.getElementsByName("phone")[0].value;var t=/^1[3456789]\d{9}$/;if(e.length===0){document.getElementById("phone_res").innerHTML="<font color='#f00'>您没有输入手机号码</font>";return false}else if(!t.test(e)){document.getElementById("phone_res").innerHTML="<font color='#f00'>手机号码有误，请核对</font>";return false}else{document.getElementById("phone_res").innerHTML="<font color='#00f'>OK</font>";return true}}function blur_email(){var e=document.getElementsByName("email")[0].value;var t=/^\S+@\S+\.\S+$/;if(e.length===0){document.getElementById("email_res").innerHTML="<font color='#f00'>您没有输入电子邮箱</font>";return false}else if(!t.test(e)){document.getElementById("email_res").innerHTML="<font color='#f00'>电子邮箱有误，请核对</font>";return false}else{document.getElementById("email_res").innerHTML="<font color='#00f'>OK</font>";return true}}function blur_message(){var e=document.getElementsByName("message")[0].value;if(e.length===0){document.getElementById("message_res").innerHTML="<font color='#f00'>您没有输入内容</font>";return false}else if($.trim(e).length<2){document.getElementById("message_res").innerHTML="<font color='#f00'>留言不少于两个字</font>";return false}else{document.getElementById("message_res").innerHTML="<font color='#00f'>OK</font>";return true}}function checkForm(){var e=blur_fullname();var t=blur_phone();var a=blur_email();var s=blur_message();if(e&&t&&a&&s){return true}else{alert("输入有误，请按要求修改再提交。");return false}}function sendEmail(e,t,a){Email.send({SecureToken:"c49f358a-44b9-40cf-b59a-ed4f0593f624",To:"longanw@163.com",From:e,Subject:t,Body:a}).then(e=>{if(e=="OK"){document.getElementById("contact-form").reset();alert("留言成功，感谢您的支持。")}else{console.error(e);alert("抱歉，服务出了点差错，欢迎继续尝试，谢谢！")}})}const form=document.getElementById("contact-form");form.addEventListener("submit",e=>{e.preventDefault();const t=new FormData(e.target);const a=`${t.get("fullname")} 先生/女士( ${t.get("phone")} )的留言`;const s=`留言如下：<br> ${t.get("message")} <br> 电话：${t.get("phone")} <br> 邮箱: ${t.get("email")} `;var n=checkForm();if(n){sendEmail("longanw@gmail.com",a,s)}else{}});form.addEventListener("reset",e=>{$("#user_res").empty();$("#phone_res").empty();$("#email_res").empty();$("#message_res").empty()});$("#viewer_flag").click(function(){var e=$(this).attr("res");if(e==0){$(this).attr("res","1");$(this).html("");$(this).html("详细浏览<img style='height: 12px' src='static/images/swap.png'>快速浏览")}else{$(this).attr("res","0");$(this).html("");$(this).html("快速浏览<img style='height: 12px' src='static/images/swap.png'>详细浏览")}});function openFile(e){var t="..%2Fservice%2F";var a=$("#viewer_flag").attr("res");if(a==0){window.open("static/quickviewer.html?file="+t+e)}else{window.open("static/viewer.html?file="+t+e)}}$.hulla=new hullabaloo;setTimeout(function(){$.hulla.send("&#129409操作提示<br>点击图片可以查看详情。","info")},5e3);setTimeout(function(){$.hulla.send("&#127873更多信息有待您的探索与发掘！","success")},6e3);$(function(){var e=0;var t=0;var a=4;s(t,a);$(document).on("click","#load-more-cert",function(){e++;t=e*a;s(t,a)});function s(o,r){$.ajax({type:"GET",url:"static/json/cert.json",dataType:"json",success:function(e){var t=e.lists;var a=e.lists.length;var s="";if(a-o<r){r=a-o}for(var n=o;n<o+r;n++){if(n<r){s+='<div class="col-lg-3 col-md-3 col-sm-6 col-xs-12"><div class="pmd-card pmd-card-border pmd-z-depth"><div class="cert pmd-card-media pmd-card-media-overlay"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="'+t[n].pic+'" alt="'+t[n].alt+'" title="'+t[n].title+'" class="lazyload img-responsive" />'+"</div></div></div>"}else{s+='<div class="col-lg-3 col-md-3 col-sm-6 col-xs-12"><div class="pmd-card pmd-card-border pmd-z-depth"><div class="cert pmd-card-media pmd-card-media-overlay"><img src="'+t[n].pic+'" alt="'+t[n].alt+'" title="'+t[n].title+'" class="img-responsive" />'+"</div></div></div>"}}$(".lists-cert").append(s);if(o+r>=a){$("#load-more-cert").hide()}else{$("#load-more-cert").show()}},error:function(e,t){setTimeout(function(){$.hulla.send("&#9889读取数据出错！","warning")},500)}})}});$(function(){var e=0;var t=0;var a=4;s(t,a);$(document).on("click","#load-more-partner",function(){e++;t=e*a;s(t,a)});function s(o,r){$.ajax({type:"GET",url:"static/json/partner.json",dataType:"json",success:function(e){var t=e.lists;var a=e.lists.length;var s="";if(a-o<r){r=a-o}for(var n=o;n<o+r;n++){if(n<r){s+='<div class="col-lg-3 col-md-3 col-sm-6 col-xs-12"><div class="pmd-card pmd-z-depth"><div class="pmd-card-media"><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" data-src="'+t[n].pic+'" alt="'+t[n].alt+'" title="'+t[n].title+'" class="lazyload img-responsive" />'+"</div></div></div>"}else{s+='<div class="col-lg-3 col-md-3 col-sm-6 col-xs-12"><div class="pmd-card pmd-z-depth"><div class="pmd-card-media"><img src="'+t[n].pic+'" alt="'+t[n].alt+'" title="'+t[n].title+'" class="img-responsive" />'+"</div></div></div>"}}$(".lists-partner").append(s);if(o+r>=a){$("#load-more-partner").hide()}else{$("#load-more-partner").show()}},error:function(e,t){setTimeout(function(){$.hulla.send("&#9889服务器出错！","warning")},1e3)}})}});$(function(){var e=0;var t=0;var a=5;s(t,a);$(document).on("click","#load-more-standards",function(){e++;t=e*a;s(t,a)});function s(o,r){$.ajax({type:"GET",url:"static/json/standards.json",dataType:"json",success:function(e){var t=e.lists;var a=e.lists.length;var s="";if(a-o<r){r=a-o}for(var n=o;n<o+r;n++){s+='<div class="lb_thumb" style="margin: 20px"><div class="lb_book-cover" style="background-image: url('+t[n].pic+');" onclick=\'javascript:openFile("'+t[n].src+'");\'><span class="lb_book-title">'+t[n].title+"</span></div></div>"}$(".lists-standards").append(s);if(o+r>=a){$("#load-more-standards").hide()}else{$("#load-more-standards").show()}},error:function(e,t){setTimeout(function(){$.hulla.send("&#9889服务器未返回数据！","warning")},1e3)}})}});