(function e(t,r){if(typeof exports==="object"&&typeof module==="object")module.exports=r();else if(typeof define==="function"&&define.amd)define("pdfjs-dist/build/pdf",[],r);else if(typeof exports==="object")exports["pdfjs-dist/build/pdf"]=r();else t["pdfjs-dist/build/pdf"]=t.pdfjsLib=r()})(this,function(){return(()=>{var __webpack_modules__=[,(e,t,r)=>{"use strict";function n(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){n=function e(t){return typeof t}}else{n=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return n(e)}Object.defineProperty(t,"__esModule",{value:true});t.StatTimer=t.RenderingCancelledException=t.PixelsPerInch=t.PageViewport=t.PDFDateString=t.LinkTarget=t.DOMStandardFontDataFactory=t.DOMSVGFactory=t.DOMCanvasFactory=t.DOMCMapReaderFactory=void 0;t.addLinkAttributes=j;t.deprecated=z;t.getFilenameFromUrl=N;t.getPdfFilenameFromUrl=q;t.getXfaPageViewport=V;t.isDataScheme=L;t.isPdfFile=D;t.isValidFetchUrl=U;t.loadScript=W;var o=i(r(2));var d=r(4);var a=r(135);function i(e){return e&&e.__esModule?e:{default:e}}function f(t,e){var r=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=u(t))||e&&t&&typeof t.length==="number"){if(r)t=r;var n=0;var a=function e(){};return{s:a,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,o=false,s;return{s:function e(){r=r.call(t)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!i&&r["return"]!=null)r["return"]()}finally{if(o)throw s}}}}function u(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function l(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function c(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=s.apply(e,o);function a(e){l(n,t,r,a,i,"next",e)}function i(e){l(n,t,r,a,i,"throw",e)}a(undefined)})}}function A(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function v(e,t,r){if(t)h(e.prototype,t);if(r)h(e,r);return e}function p(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)y(e,t)}function y(e,t){y=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return y(e,t)}function m(a){var i=_();return function e(){var t=S(a),r;if(i){var n=S(this).constructor;r=Reflect.construct(t,arguments,n)}else{r=t.apply(this,arguments)}return g(this,r)}}function g(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return b(e)}function b(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}function S(e){S=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return S(e)}var w="noopener noreferrer nofollow";var k="http://www.w3.org/2000/svg";var x={CSS:96,PDF:72,get PDF_TO_CSS_UNITS(){return(0,d.shadow)(this,"PDF_TO_CSS_UNITS",this.CSS/this.PDF)}};t.PixelsPerInch=x;var C=function(e){p(i,e);var a=m(i);function i(){var e;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.ownerDocument,n=r===void 0?globalThis.document:r;A(this,i);e=a.call(this);e._document=n;return e}v(i,[{key:"_createCanvas",value:function e(t,r){var n=this._document.createElement("canvas");n.width=t;n.height=r;return n}}]);return i}(a.BaseCanvasFactory);t.DOMCanvasFactory=C;function P(e){return T.apply(this,arguments)}function T(){T=c(o["default"].mark(function e(a){var i,r,n=arguments;return o["default"].wrap(function e(t){while(1){switch(t.prev=t.next){case 0:i=n.length>1&&n[1]!==undefined?n[1]:false;if(!U(a,document.baseURI)){t.next=21;break}t.next=4;return fetch(a);case 4:r=t.sent;if(r.ok){t.next=7;break}throw new Error(r.statusText);case 7:if(!i){t.next=15;break}t.t1=Uint8Array;t.next=11;return r.arrayBuffer();case 11:t.t2=t.sent;t.t0=new t.t1(t.t2);t.next=20;break;case 15:t.t3=d.stringToBytes;t.next=18;return r.text();case 18:t.t4=t.sent;t.t0=(0,t.t3)(t.t4);case 20:return t.abrupt("return",t.t0);case 21:return t.abrupt("return",new Promise(function(t,r){var n=new XMLHttpRequest;n.open("GET",a,true);if(i){n.responseType="arraybuffer"}n.onreadystatechange=function(){if(n.readyState!==XMLHttpRequest.DONE){return}if(n.status===200||n.status===0){var e;if(i&&n.response){e=new Uint8Array(n.response)}else if(!i&&n.responseText){e=(0,d.stringToBytes)(n.responseText)}if(e){t(e);return}}r(new Error(n.statusText))};n.send(null)}));case 22:case"end":return t.stop()}}},e)}));return T.apply(this,arguments)}var R=function(e){p(r,e);var t=m(r);function r(){A(this,r);return t.apply(this,arguments)}v(r,[{key:"_fetchData",value:function e(t,r){return P(t,this.isCompressed).then(function(e){return{cMapData:e,compressionType:r}})}}]);return r}(a.BaseCMapReaderFactory);t.DOMCMapReaderFactory=R;var E=function(e){p(r,e);var t=m(r);function r(){A(this,r);return t.apply(this,arguments)}v(r,[{key:"_fetchData",value:function e(t){return P(t,true)}}]);return r}(a.BaseStandardFontDataFactory);t.DOMStandardFontDataFactory=E;var O=function(e){p(r,e);var t=m(r);function r(){A(this,r);return t.apply(this,arguments)}v(r,[{key:"_createSVG",value:function e(t){return document.createElementNS(k,t)}}]);return r}(a.BaseSVGFactory);t.DOMSVGFactory=O;var F=function(){function _(e){var t=e.viewBox,r=e.scale,n=e.rotation,a=e.offsetX,i=a===void 0?0:a,o=e.offsetY,s=o===void 0?0:o,u=e.dontFlip,l=u===void 0?false:u;A(this,_);this.viewBox=t;this.scale=r;this.rotation=n;this.offsetX=i;this.offsetY=s;var c=(t[2]+t[0])/2;var f=(t[3]+t[1])/2;var d,h,v,p;n%=360;if(n<0){n+=360}switch(n){case 180:d=-1;h=0;v=0;p=1;break;case 90:d=0;h=1;v=1;p=0;break;case 270:d=0;h=-1;v=-1;p=0;break;case 0:d=1;h=0;v=0;p=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}if(l){v=-v;p=-p}var y,m;var g,b;if(d===0){y=Math.abs(f-t[1])*r+i;m=Math.abs(c-t[0])*r+s;g=Math.abs(t[3]-t[1])*r;b=Math.abs(t[2]-t[0])*r}else{y=Math.abs(c-t[0])*r+i;m=Math.abs(f-t[1])*r+s;g=Math.abs(t[2]-t[0])*r;b=Math.abs(t[3]-t[1])*r}this.transform=[d*r,h*r,v*r,p*r,y-d*r*c-v*r*f,m-h*r*c-p*r*f];this.width=g;this.height=b}v(_,[{key:"clone",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.scale,n=r===void 0?this.scale:r,a=t.rotation,i=a===void 0?this.rotation:a,o=t.offsetX,s=o===void 0?this.offsetX:o,u=t.offsetY,l=u===void 0?this.offsetY:u,c=t.dontFlip,f=c===void 0?false:c;return new _({viewBox:this.viewBox.slice(),scale:n,rotation:i,offsetX:s,offsetY:l,dontFlip:f})}},{key:"convertToViewportPoint",value:function e(t,r){return d.Util.applyTransform([t,r],this.transform)}},{key:"convertToViewportRectangle",value:function e(t){var r=d.Util.applyTransform([t[0],t[1]],this.transform);var n=d.Util.applyTransform([t[2],t[3]],this.transform);return[r[0],r[1],n[0],n[1]]}},{key:"convertToPdfPoint",value:function e(t,r){return d.Util.applyInverseTransform([t,r],this.transform)}}]);return _}();t.PageViewport=F;var M=function(e){p(a,e);var n=m(a);function a(e,t){var r;A(this,a);r=n.call(this,e,"RenderingCancelledException");r.type=t;return r}return a}(d.BaseException);t.RenderingCancelledException=M;var I={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};t.LinkTarget=I;function j(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=t.url,n=t.target,a=t.rel,i=t.enabled,o=i===void 0?true:i;(0,d.assert)(r&&typeof r==="string",'addLinkAttributes: A valid "url" parameter must provided.');var s=(0,d.removeNullCharacters)(r);if(o){e.href=e.title=s}else{e.href="";e.title="Disabled: ".concat(s);e.onclick=function(){return false}}var u="";switch(n){case I.NONE:break;case I.SELF:u="_self";break;case I.BLANK:u="_blank";break;case I.PARENT:u="_parent";break;case I.TOP:u="_top";break}e.target=u;e.rel=typeof a==="string"?a:w}function L(e){var t=e.length;var r=0;while(r<t&&e[r].trim()===""){r++}return e.substring(r,r+5).toLowerCase()==="data:"}function D(e){return typeof e==="string"&&/\.pdf$/i.test(e)}function N(e){var t=e.indexOf("#");var r=e.indexOf("?");var n=Math.min(t>0?t:e.length,r>0?r:e.length);return e.substring(e.lastIndexOf("/",n)+1,n)}function q(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"document.pdf";if(typeof e!=="string"){return t}if(L(e)){(0,d.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.');return t}var r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/;var n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i;var a=r.exec(e);var i=n.exec(a[1])||n.exec(a[2])||n.exec(a[3]);if(i){i=i[0];if(i.includes("%")){try{i=n.exec(decodeURIComponent(i))[0]}catch(e){}}}return i||t}var B=function(){function e(){A(this,e);this.started=Object.create(null);this.times=[]}v(e,[{key:"time",value:function e(t){if(t in this.started){(0,d.warn)("Timer is already running for ".concat(t))}this.started[t]=Date.now()}},{key:"timeEnd",value:function e(t){if(!(t in this.started)){(0,d.warn)("Timer has not been started for ".concat(t))}this.times.push({name:t,start:this.started[t],end:Date.now()});delete this.started[t]}},{key:"toString",value:function e(){var t=[];var r=0;var n=f(this.times),a;try{for(n.s();!(a=n.n()).done;){var i=a.value;var o=i.name;if(o.length>r){r=o.length}}}catch(e){n.e(e)}finally{n.f()}var s=f(this.times),u;try{for(s.s();!(u=s.n()).done;){var l=u.value;var c=l.end-l.start;t.push("".concat(l.name.padEnd(r)," ").concat(c,"ms\n"))}}catch(e){s.e(e)}finally{s.f()}return t.join("")}}]);return e}();t.StatTimer=B;function U(e,t){try{var r=t?new URL(e,t):new URL(e),n=r.protocol;return n==="http:"||n==="https:"}catch(e){return false}}function W(n){var a=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;return new Promise(function(t,e){var r=document.createElement("script");r.src=n;r.onload=function(e){if(a){r.remove()}t(e)};r.onerror=function(){e(new Error("Cannot load script at: ".concat(r.src)))};(document.head||document.documentElement).appendChild(r)})}function z(e){console.log("Deprecated API usage: "+e)}var G;var H=function(){function e(){A(this,e)}v(e,null,[{key:"toDateObject",value:function e(t){if(!t||!(0,d.isString)(t)){return null}if(!G){G=new RegExp("^D:"+"(\\d{4})"+"(\\d{2})?"+"(\\d{2})?"+"(\\d{2})?"+"(\\d{2})?"+"(\\d{2})?"+"([Z|+|-])?"+"(\\d{2})?"+"'?"+"(\\d{2})?"+"'?")}var r=G.exec(t);if(!r){return null}var n=parseInt(r[1],10);var a=parseInt(r[2],10);a=a>=1&&a<=12?a-1:0;var i=parseInt(r[3],10);i=i>=1&&i<=31?i:1;var o=parseInt(r[4],10);o=o>=0&&o<=23?o:0;var s=parseInt(r[5],10);s=s>=0&&s<=59?s:0;var u=parseInt(r[6],10);u=u>=0&&u<=59?u:0;var l=r[7]||"Z";var c=parseInt(r[8],10);c=c>=0&&c<=23?c:0;var f=parseInt(r[9],10)||0;f=f>=0&&f<=59?f:0;if(l==="-"){o+=c;s+=f}else if(l==="+"){o-=c;s-=f}return new Date(Date.UTC(n,a,i,o,s,u))}}]);return e}();t.PDFDateString=H;function V(e,t){var r=t.scale,n=r===void 0?1:r,a=t.rotation,i=a===void 0?0:a;var o=e.attributes.style,s=o.width,u=o.height;var l=[0,0,parseInt(s),parseInt(u)];return new F({viewBox:l,scale:n,rotation:i})}},(e,t,r)=>{"use strict";e.exports=r(3)},(e,t,r)=>{"use strict";e=r.nmd(e);function F(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){F=function e(t){return typeof t}}else{F=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return F(e)}var n=function(o){"use strict";var e=Object.prototype;var c=e.hasOwnProperty;var l;var t=typeof Symbol==="function"?Symbol:{};var a=t.iterator||"@@iterator";var r=t.asyncIterator||"@@asyncIterator";var n=t.toStringTag||"@@toStringTag";function i(e,t,r){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true});return e[t]}try{i({},"")}catch(e){i=function e(t,r,n){return t[r]=n}}function s(e,t,r,n){var a=t&&t.prototype instanceof u?t:u;var i=Object.create(a.prototype);var o=new R(n||[]);i._invoke=x(e,r,o);return i}o.wrap=s;function f(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}var d="suspendedStart";var h="suspendedYield";var v="executing";var p="completed";var y={};function u(){}function m(){}function g(){}var b={};i(b,a,function(){return this});var _=Object.getPrototypeOf;var A=_&&_(_(E([])));if(A&&A!==e&&c.call(A,a)){b=A}var S=g.prototype=u.prototype=Object.create(b);m.prototype=g;i(S,"constructor",g);i(g,"constructor",m);m.displayName=i(g,n,"GeneratorFunction");function w(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}o.isGeneratorFunction=function(e){var t=typeof e==="function"&&e.constructor;return t?t===m||(t.displayName||t.name)==="GeneratorFunction":false};o.mark=function(e){if(Object.setPrototypeOf){Object.setPrototypeOf(e,g)}else{e.__proto__=g;i(e,n,"GeneratorFunction")}e.prototype=Object.create(S);return e};o.awrap=function(e){return{__await:e}};function k(s,u){function l(e,t,r,n){var a=f(s[e],s,t);if(a.type==="throw"){n(a.arg)}else{var i=a.arg;var o=i.value;if(o&&F(o)==="object"&&c.call(o,"__await")){return u.resolve(o.__await).then(function(e){l("next",e,r,n)},function(e){l("throw",e,r,n)})}return u.resolve(o).then(function(e){i.value=e;r(i)},function(e){return l("throw",e,r,n)})}}var t;function e(r,n){function e(){return new u(function(e,t){l(r,n,e,t)})}return t=t?t.then(e,e):e()}this._invoke=e}w(k.prototype);i(k.prototype,r,function(){return this});o.AsyncIterator=k;o.async=function(e,t,r,n,a){if(a===void 0)a=Promise;var i=new k(s(e,t,r,n),a);return o.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})};function x(o,s,u){var l=d;return function e(t,r){if(l===v){throw new Error("Generator is already running")}if(l===p){if(t==="throw"){throw r}return O()}u.method=t;u.arg=r;while(true){var n=u.delegate;if(n){var a=C(n,u);if(a){if(a===y)continue;return a}}if(u.method==="next"){u.sent=u._sent=u.arg}else if(u.method==="throw"){if(l===d){l=p;throw u.arg}u.dispatchException(u.arg)}else if(u.method==="return"){u.abrupt("return",u.arg)}l=v;var i=f(o,s,u);if(i.type==="normal"){l=u.done?p:h;if(i.arg===y){continue}return{value:i.arg,done:u.done}}else if(i.type==="throw"){l=p;u.method="throw";u.arg=i.arg}}}}function C(e,t){var r=e.iterator[t.method];if(r===l){t.delegate=null;if(t.method==="throw"){if(e.iterator["return"]){t.method="return";t.arg=l;C(e,t);if(t.method==="throw"){return y}}t.method="throw";t.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var n=f(r,e.iterator,t.arg);if(n.type==="throw"){t.method="throw";t.arg=n.arg;t.delegate=null;return y}var a=n.arg;if(!a){t.method="throw";t.arg=new TypeError("iterator result is not an object");t.delegate=null;return y}if(a.done){t[e.resultName]=a.value;t.next=e.nextLoc;if(t.method!=="return"){t.method="next";t.arg=l}}else{return a}t.delegate=null;return y}w(S);i(S,n,"Generator");i(S,a,function(){return this});i(S,"toString",function(){return"[object Generator]"});function P(e){var t={tryLoc:e[0]};if(1 in e){t.catchLoc=e[1]}if(2 in e){t.finallyLoc=e[2];t.afterLoc=e[3]}this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal";delete t.arg;e.completion=t}function R(e){this.tryEntries=[{tryLoc:"root"}];e.forEach(P,this);this.reset(true)}o.keys=function(r){var n=[];for(var e in r){n.push(e)}n.reverse();return function e(){while(n.length){var t=n.pop();if(t in r){e.value=t;e.done=false;return e}}e.done=true;return e}};function E(t){if(t){var e=t[a];if(e){return e.call(t)}if(typeof t.next==="function"){return t}if(!isNaN(t.length)){var r=-1,n=function e(){while(++r<t.length){if(c.call(t,r)){e.value=t[r];e.done=false;return e}}e.value=l;e.done=true;return e};return n.next=n}}return{next:O}}o.values=E;function O(){return{value:l,done:true}}R.prototype={constructor:R,reset:function e(t){this.prev=0;this.next=0;this.sent=this._sent=l;this.done=false;this.delegate=null;this.method="next";this.arg=l;this.tryEntries.forEach(T);if(!t){for(var r in this){if(r.charAt(0)==="t"&&c.call(this,r)&&!isNaN(+r.slice(1))){this[r]=l}}}},stop:function e(){this.done=true;var t=this.tryEntries[0];var r=t.completion;if(r.type==="throw"){throw r.arg}return this.rval},dispatchException:function e(r){if(this.done){throw r}var n=this;function t(e,t){o.type="throw";o.arg=r;n.next=e;if(t){n.method="next";n.arg=l}return!!t}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a];var o=i.completion;if(i.tryLoc==="root"){return t("end")}if(i.tryLoc<=this.prev){var s=c.call(i,"catchLoc");var u=c.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc){return t(i.catchLoc,true)}else if(this.prev<i.finallyLoc){return t(i.finallyLoc)}}else if(s){if(this.prev<i.catchLoc){return t(i.catchLoc,true)}}else if(u){if(this.prev<i.finallyLoc){return t(i.finallyLoc)}}else{throw new Error("try statement without catch or finally")}}}},abrupt:function e(t,r){for(var n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n];if(a.tryLoc<=this.prev&&c.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var i=a;break}}if(i&&(t==="break"||t==="continue")&&i.tryLoc<=r&&r<=i.finallyLoc){i=null}var o=i?i.completion:{};o.type=t;o.arg=r;if(i){this.method="next";this.next=i.finallyLoc;return y}return this.complete(o)},complete:function e(t,r){if(t.type==="throw"){throw t.arg}if(t.type==="break"||t.type==="continue"){this.next=t.arg}else if(t.type==="return"){this.rval=this.arg=t.arg;this.method="return";this.next="end"}else if(t.type==="normal"&&r){this.next=r}return y},finish:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.finallyLoc===t){this.complete(n.completion,n.afterLoc);T(n);return y}}},catch:function e(t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc===t){var a=n.completion;if(a.type==="throw"){var i=a.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function e(t,r,n){this.delegate={iterator:E(t),resultName:r,nextLoc:n};if(this.method==="next"){this.arg=l}return y}};return o}((false?0:F(e))==="object"?e.exports:{});try{regeneratorRuntime=n}catch(e){if((typeof globalThis==="undefined"?"undefined":F(globalThis))==="object"){globalThis.regeneratorRuntime=n}else{Function("r","regeneratorRuntime = r")(n)}}},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.VerbosityLevel=t.Util=t.UnknownErrorException=t.UnexpectedResponseException=t.UNSUPPORTED_FEATURES=t.TextRenderingMode=t.StreamType=t.RenderingIntentFlag=t.PermissionFlag=t.PasswordResponses=t.PasswordException=t.PageActionEventType=t.OPS=t.MissingPDFException=t.IsLittleEndianCached=t.IsEvalSupportedCached=t.InvalidPDFException=t.ImageKind=t.IDENTITY_MATRIX=t.FormatError=t.FontType=t.FONT_IDENTITY_MATRIX=t.DocumentActionEventType=t.CMapCompressionType=t.BaseException=t.AnnotationType=t.AnnotationStateModelType=t.AnnotationReviewState=t.AnnotationReplyType=t.AnnotationMode=t.AnnotationMarkedState=t.AnnotationFlag=t.AnnotationFieldFlag=t.AnnotationBorderStyleType=t.AnnotationActionEventType=t.AbortException=void 0;t.arrayByteLength=_e;t.arraysToBytes=Ae;t.assert=re;t.bytesToString=ge;t.createObjectURL=He;t.createPromiseCapability=Ge;t.createValidAbsoluteUrl=ie;t.escapeString=Me;t.getModificationDate=ze;t.getVerbosityLevel=$;t.info=Z;t.isArrayBuffer=Ue;t.isArrayEqual=We;t.isAscii=Ie;t.isBool=Ne;t.isNum=qe;t.isSameOrigin=ne;t.isString=Be;t.objectFromMap=ke;t.objectSize=we;t.removeNullCharacters=me;t.setVerbosityLevel=J;t.shadow=oe;t.string32=Se;t.stringToBytes=be;t.stringToPDFString=Fe;t.stringToUTF16BEString=je;t.stringToUTF8String=Le;t.unreachable=te;t.utf8StringToString=De;t.warn=ee;r(5);function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function a(e,t,r){if(t)n(e.prototype,t);if(r)n(e,r);return e}function w(e){return s(e)||o(e)||h(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s(e){if(Array.isArray(e))return v(e)}function u(e,t){return f(e)||c(e,t)||h(e,t)||l()}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e,t){var r=e==null?null:typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r==null)return;var n=[];var a=true;var i=false;var o,s;try{for(r=r.call(e);!(a=(o=r.next()).done);a=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){i=true;s=e}finally{try{if(!a&&r["return"]!=null)r["return"]()}finally{if(i)throw s}}return n}function f(e){if(Array.isArray(e))return e}function d(t,e){var r=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=h(t))||e&&t&&typeof t.length==="number"){if(r)t=r;var n=0;var a=function e(){};return{s:a,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,o=false,s;return{s:function e(){r=r.call(t)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!i&&r["return"]!=null)r["return"]()}finally{if(o)throw s}}}}function h(e,t){if(!e)return;if(typeof e==="string")return v(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return v(e,t)}function v(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function p(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){p=function e(t){return typeof t}}else{p=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return p(e)}function y(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function m(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)g(e,t)}function g(e,t){g=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return g(e,t)}function b(a){var i=S();return function e(){var t=k(a),r;if(i){var n=k(this).constructor;r=Reflect.construct(t,arguments,n)}else{r=t.apply(this,arguments)}return _(this,r)}}function _(e,t){if(t&&(p(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return A(e)}function A(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function S(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}function k(e){k=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return k(e)}var x=[1,0,0,1,0,0];t.IDENTITY_MATRIX=x;var C=[.001,0,0,.001,0,0];t.FONT_IDENTITY_MATRIX=C;var P={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};t.RenderingIntentFlag=P;var T={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};t.AnnotationMode=T;var R={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};t.PermissionFlag=R;var E={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};t.TextRenderingMode=E;var O={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};t.ImageKind=O;var F={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};t.AnnotationType=F;var M={MARKED:"Marked",REVIEW:"Review"};t.AnnotationStateModelType=M;var I={MARKED:"Marked",UNMARKED:"Unmarked"};t.AnnotationMarkedState=I;var j={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};t.AnnotationReviewState=j;var L={GROUP:"Group",REPLY:"R"};t.AnnotationReplyType=L;var D={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};t.AnnotationFlag=D;var N={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};t.AnnotationFieldFlag=N;var q={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};t.AnnotationBorderStyleType=q;var B={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};t.AnnotationActionEventType=B;var U={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};t.DocumentActionEventType=U;var W={O:"PageOpen",C:"PageClose"};t.PageActionEventType=W;var z={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};t.StreamType=z;var G={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};t.FontType=G;var H={ERRORS:0,WARNINGS:1,INFOS:5};t.VerbosityLevel=H;var V={NONE:0,BINARY:1,STREAM:2};t.CMapCompressionType=V;var X={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};t.OPS=X;var Y={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};t.UNSUPPORTED_FEATURES=Y;var K={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};t.PasswordResponses=K;var Q=H.WARNINGS;function J(e){if(Number.isInteger(e)){Q=e}}function $(){return Q}function Z(e){if(Q>=H.INFOS){console.log("Info: ".concat(e))}}function ee(e){if(Q>=H.WARNINGS){console.log("Warning: ".concat(e))}}function te(e){throw new Error(e)}function re(e,t){if(!e){te(t)}}function ne(e,t){var r;try{r=new URL(e);if(!r.origin||r.origin==="null"){return false}}catch(e){return false}var n=new URL(t,r);return r.origin===n.origin}function ae(e){if(!e){return false}switch(e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return true;default:return false}}function ie(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(!e){return null}try{if(r&&typeof e==="string"){if(r.addDefaultProtocol&&e.startsWith("www.")){var n=e.match(/\./g);if(n&&n.length>=2){e="http://".concat(e)}}if(r.tryConvertEncoding){try{e=Le(e)}catch(e){}}}var a=t?new URL(e,t):new URL(e);if(ae(a)){return a}}catch(e){}return null}function oe(e,t,r){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:false});return r}var se=function e(){function r(e,t){if(this.constructor===r){te("Cannot initialize BaseException.")}this.message=e;this.name=t}r.prototype=new Error;r.constructor=r;return r}();t.BaseException=se;var ue=function(e){m(a,e);var n=b(a);function a(e,t){var r;y(this,a);r=n.call(this,e,"PasswordException");r.code=t;return r}return a}(se);t.PasswordException=ue;var le=function(e){m(a,e);var n=b(a);function a(e,t){var r;y(this,a);r=n.call(this,e,"UnknownErrorException");r.details=t;return r}return a}(se);t.UnknownErrorException=le;var ce=function(e){m(r,e);var t=b(r);function r(e){y(this,r);return t.call(this,e,"InvalidPDFException")}return r}(se);t.InvalidPDFException=ce;var fe=function(e){m(r,e);var t=b(r);function r(e){y(this,r);return t.call(this,e,"MissingPDFException")}return r}(se);t.MissingPDFException=fe;var de=function(e){m(a,e);var n=b(a);function a(e,t){var r;y(this,a);r=n.call(this,e,"UnexpectedResponseException");r.status=t;return r}return a}(se);t.UnexpectedResponseException=de;var he=function(e){m(r,e);var t=b(r);function r(e){y(this,r);return t.call(this,e,"FormatError")}return r}(se);t.FormatError=he;var ve=function(e){m(r,e);var t=b(r);function r(e){y(this,r);return t.call(this,e,"AbortException")}return r}(se);t.AbortException=ve;var pe=/\x00+/g;var ye=/[\x01-\x1F]/g;function me(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(typeof e!=="string"){ee("The argument for removeNullCharacters must be a string.");return e}if(t){e=e.replace(ye," ")}return e.replace(pe,"")}function ge(e){re(e!==null&&p(e)==="object"&&e.length!==undefined,"Invalid argument for bytesToString");var t=e.length;var r=8192;if(t<r){return String.fromCharCode.apply(null,e)}var n=[];for(var a=0;a<t;a+=r){var i=Math.min(a+r,t);var o=e.subarray(a,i);n.push(String.fromCharCode.apply(null,o))}return n.join("")}function be(e){re(typeof e==="string","Invalid argument for stringToBytes");var t=e.length;var r=new Uint8Array(t);for(var n=0;n<t;++n){r[n]=e.charCodeAt(n)&255}return r}function _e(e){if(e.length!==undefined){return e.length}re(e.byteLength!==undefined,"arrayByteLength - invalid argument.");return e.byteLength}function Ae(e){var t=e.length;if(t===1&&e[0]instanceof Uint8Array){return e[0]}var r=0;for(var n=0;n<t;n++){r+=_e(e[n])}var a=0;var i=new Uint8Array(r);for(var o=0;o<t;o++){var s=e[o];if(!(s instanceof Uint8Array)){if(typeof s==="string"){s=be(s)}else{s=new Uint8Array(s)}}var u=s.byteLength;i.set(s,a);a+=u}return i}function Se(e){return String.fromCharCode(e>>24&255,e>>16&255,e>>8&255,e&255)}function we(e){return Object.keys(e).length}function ke(e){var t=Object.create(null);var r=d(e),n;try{for(r.s();!(n=r.n()).done;){var a=u(n.value,2),i=a[0],o=a[1];t[i]=o}}catch(e){r.e(e)}finally{r.f()}return t}function xe(){var e=new Uint8Array(4);e[0]=1;var t=new Uint32Array(e.buffer,0,1);return t[0]===1}var Ce={get value(){return oe(this,"value",xe())}};t.IsLittleEndianCached=Ce;function Pe(){try{new Function("");return true}catch(e){return false}}var Te={get value(){return oe(this,"value",Pe())}};t.IsEvalSupportedCached=Te;var Re=w(Array(256).keys()).map(function(e){return e.toString(16).padStart(2,"0")});var Ee=function(){function s(){y(this,s)}a(s,null,[{key:"makeHexColor",value:function e(t,r,n){return"#".concat(Re[t]).concat(Re[r]).concat(Re[n])}},{key:"transform",value:function e(t,r){return[t[0]*r[0]+t[2]*r[1],t[1]*r[0]+t[3]*r[1],t[0]*r[2]+t[2]*r[3],t[1]*r[2]+t[3]*r[3],t[0]*r[4]+t[2]*r[5]+t[4],t[1]*r[4]+t[3]*r[5]+t[5]]}},{key:"applyTransform",value:function e(t,r){var n=t[0]*r[0]+t[1]*r[2]+r[4];var a=t[0]*r[1]+t[1]*r[3]+r[5];return[n,a]}},{key:"applyInverseTransform",value:function e(t,r){var n=r[0]*r[3]-r[1]*r[2];var a=(t[0]*r[3]-t[1]*r[2]+r[2]*r[5]-r[4]*r[3])/n;var i=(-t[0]*r[1]+t[1]*r[0]+r[4]*r[1]-r[5]*r[0])/n;return[a,i]}},{key:"getAxialAlignedBoundingBox",value:function e(t,r){var n=s.applyTransform(t,r);var a=s.applyTransform(t.slice(2,4),r);var i=s.applyTransform([t[0],t[3]],r);var o=s.applyTransform([t[2],t[1]],r);return[Math.min(n[0],a[0],i[0],o[0]),Math.min(n[1],a[1],i[1],o[1]),Math.max(n[0],a[0],i[0],o[0]),Math.max(n[1],a[1],i[1],o[1])]}},{key:"inverseTransform",value:function e(t){var r=t[0]*t[3]-t[1]*t[2];return[t[3]/r,-t[1]/r,-t[2]/r,t[0]/r,(t[2]*t[5]-t[4]*t[3])/r,(t[4]*t[1]-t[5]*t[0])/r]}},{key:"apply3dTransform",value:function e(t,r){return[t[0]*r[0]+t[1]*r[1]+t[2]*r[2],t[3]*r[0]+t[4]*r[1]+t[5]*r[2],t[6]*r[0]+t[7]*r[1]+t[8]*r[2]]}},{key:"singularValueDecompose2dScale",value:function e(t){var r=[t[0],t[2],t[1],t[3]];var n=t[0]*r[0]+t[1]*r[2];var a=t[0]*r[1]+t[1]*r[3];var i=t[2]*r[0]+t[3]*r[2];var o=t[2]*r[1]+t[3]*r[3];var s=(n+o)/2;var u=Math.sqrt(Math.pow(n+o,2)-4*(n*o-i*a))/2;var l=s+u||1;var c=s-u||1;return[Math.sqrt(l),Math.sqrt(c)]}},{key:"normalizeRect",value:function e(t){var r=t.slice(0);if(t[0]>t[2]){r[0]=t[2];r[2]=t[0]}if(t[1]>t[3]){r[1]=t[3];r[3]=t[1]}return r}},{key:"intersect",value:function e(t,r){function n(e,t){return e-t}var a=[t[0],t[2],r[0],r[2]].sort(n);var i=[t[1],t[3],r[1],r[3]].sort(n);var o=[];t=s.normalizeRect(t);r=s.normalizeRect(r);if(a[0]===t[0]&&a[1]===r[0]||a[0]===r[0]&&a[1]===t[0]){o[0]=a[1];o[2]=a[2]}else{return null}if(i[0]===t[1]&&i[1]===r[1]||i[0]===r[1]&&i[1]===t[1]){o[1]=i[1];o[3]=i[2]}else{return null}return o}},{key:"bezierBoundingBox",value:function e(t,r,n,a,i,o,s,u){var l=[],c=[[],[]];var f,d,h,v,p,y,m,g;for(var b=0;b<2;++b){if(b===0){d=6*t-12*n+6*i;f=-3*t+9*n-9*i+3*s;h=3*n-3*t}else{d=6*r-12*a+6*o;f=-3*r+9*a-9*o+3*u;h=3*a-3*r}if(Math.abs(f)<1e-12){if(Math.abs(d)<1e-12){continue}v=-h/d;if(0<v&&v<1){l.push(v)}continue}m=d*d-4*h*f;g=Math.sqrt(m);if(m<0){continue}p=(-d+g)/(2*f);if(0<p&&p<1){l.push(p)}y=(-d-g)/(2*f);if(0<y&&y<1){l.push(y)}}var _=l.length,A;var S=_;while(_--){v=l[_];A=1-v;c[0][_]=A*A*A*t+3*A*A*v*n+3*A*v*v*i+v*v*v*s;c[1][_]=A*A*A*r+3*A*A*v*a+3*A*v*v*o+v*v*v*u}c[0][S]=t;c[1][S]=r;c[0][S+1]=s;c[1][S+1]=u;c[0].length=c[1].length=S+2;return[Math.min.apply(Math,w(c[0])),Math.min.apply(Math,w(c[1])),Math.max.apply(Math,w(c[0])),Math.max.apply(Math,w(c[1]))]}}]);return s}();t.Util=Ee;var Oe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function Fe(e){var t=e.length,r=[];if(e[0]==="þ"&&e[1]==="ÿ"){for(var n=2;n<t;n+=2){r.push(String.fromCharCode(e.charCodeAt(n)<<8|e.charCodeAt(n+1)))}}else if(e[0]==="ÿ"&&e[1]==="þ"){for(var a=2;a<t;a+=2){r.push(String.fromCharCode(e.charCodeAt(a+1)<<8|e.charCodeAt(a)))}}else{for(var i=0;i<t;++i){var o=Oe[e.charCodeAt(i)];r.push(o?String.fromCharCode(o):e.charAt(i))}}return r.join("")}function Me(e){return e.replace(/([()\\\n\r])/g,function(e){if(e==="\n"){return"\\n"}else if(e==="\r"){return"\\r"}return"\\".concat(e)})}function Ie(e){return/^[\x00-\x7F]*$/.test(e)}function je(e){var t=["þÿ"];for(var r=0,n=e.length;r<n;r++){var a=e.charCodeAt(r);t.push(String.fromCharCode(a>>8&255),String.fromCharCode(a&255))}return t.join("")}function Le(e){return decodeURIComponent(escape(e))}function De(e){return unescape(encodeURIComponent(e))}function Ne(e){return typeof e==="boolean"}function qe(e){return typeof e==="number"}function Be(e){return typeof e==="string"}function Ue(e){return p(e)==="object"&&e!==null&&e.byteLength!==undefined}function We(e,t){if(e.length!==t.length){return false}for(var r=0,n=e.length;r<n;r++){if(e[r]!==t[r]){return false}}return true}function ze(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:new Date;var t=[e.getUTCFullYear().toString(),(e.getUTCMonth()+1).toString().padStart(2,"0"),e.getUTCDate().toString().padStart(2,"0"),e.getUTCHours().toString().padStart(2,"0"),e.getUTCMinutes().toString().padStart(2,"0"),e.getUTCSeconds().toString().padStart(2,"0")];return t.join("")}function Ge(){var e=Object.create(null);var n=false;Object.defineProperty(e,"settled",{get:function e(){return n}});e.promise=new Promise(function(t,r){e.resolve=function(e){n=true;t(e)};e.reject=function(e){n=true;r(e)}});return e}function He(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"";var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;if(URL.createObjectURL&&typeof Blob!=="undefined"&&!r){return URL.createObjectURL(new Blob([e],{type:t}))}var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var a="data:".concat(t,";base64,");for(var i=0,o=e.length;i<o;i+=3){var s=e[i]&255;var u=e[i+1]&255;var l=e[i+2]&255;var c=s>>2,f=(s&3)<<4|u>>4;var d=i+1<o?(u&15)<<2|l>>6:64;var h=i+2<o?l&63:64;a+=n[c]+n[f]+n[d]+n[h]}return a}},(e,t,r)=>{"use strict";var n=r(6);if(typeof globalThis==="undefined"||!globalThis._pdfjsCompatibilityChecked){if(typeof globalThis==="undefined"||globalThis.Math!==Math){globalThis=r(7)}globalThis._pdfjsCompatibilityChecked=true;(function e(){if(globalThis.btoa||!n.isNodeJS){return}globalThis.btoa=function(e){return Buffer.from(e,"binary").toString("base64")}})();(function e(){if(globalThis.atob||!n.isNodeJS){return}globalThis.atob=function(e){return Buffer.from(e,"base64").toString("binary")}})();(function e(){if(globalThis.DOMMatrix||!n.isNodeJS){return}globalThis.DOMMatrix=r(69)})();(function e(){if(Object.fromEntries){return}r(70)})();(function e(){if(globalThis.Promise.allSettled){return}globalThis.Promise=r(97)})();(function e(){if(globalThis.ReadableStream||!n.isNodeJS){return}globalThis.ReadableStream=r(134).ReadableStream})()}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.isNodeJS=void 0;function r(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){r=function e(t){return typeof t}}else{r=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return r(e)}var n=(typeof process==="undefined"?"undefined":r(process))==="object"&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");t.isNodeJS=n},(e,t,r)=>{r(8);e.exports=r(10)},(e,t,r)=>{var n=r(9);var a=r(10);n({global:true},{globalThis:a})},(e,t,r)=>{var f=r(10);var d=r(11).f;var h=r(47);var v=r(50);var p=r(41);var y=r(57);var m=r(68);e.exports=function(e,t){var r=e.target;var n=e.global;var a=e.stat;var i,o,s,u,l,c;if(n){o=f}else if(a){o=f[r]||p(r,{})}else{o=(f[r]||{}).prototype}if(o)for(s in t){l=t[s];if(e.noTargetGet){c=d(o,s);u=c&&c.value}else u=o[s];i=m(n?s:r+(a?".":"#")+s,e.forced);if(!i&&u!==undefined){if(typeof l==typeof u)continue;y(l,u)}if(e.sham||u&&u.sham){h(l,"sham",true)}v(o,s,l,e)}}},e=>{var t=function(e){return e&&e.Math==Math&&e};e.exports=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof global=="object"&&global)||function(){return this}()||Function("return this")()},(e,t,r)=>{var n=r(12);var a=r(14);var i=r(15);var o=r(16);var s=r(17);var u=r(22);var l=r(42);var c=r(45);var f=Object.getOwnPropertyDescriptor;t.f=n?f:function e(t,r){t=s(t);r=u(r);if(c)try{return f(t,r)}catch(e){}if(l(t,r))return o(!a(i.f,t,r),t[r])}},(e,t,r)=>{var n=r(13);e.exports=!n(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},e=>{e.exports=function(e){try{return!!e()}catch(e){return true}}},e=>{var t=Function.prototype.call;e.exports=t.bind?t.bind(t):function(){return t.apply(t,arguments)}},(e,t)=>{"use strict";var r={}.propertyIsEnumerable;var n=Object.getOwnPropertyDescriptor;var a=n&&!r.call({1:2},1);t.f=a?function e(t){var r=n(this,t);return!!r&&r.enumerable}:r},e=>{e.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}},(e,t,r)=>{var n=r(18);var a=r(21);e.exports=function(e){return n(a(e))}},(e,t,r)=>{var n=r(10);var a=r(19);var i=r(13);var o=r(20);var s=n.Object;var u=a("".split);e.exports=i(function(){return!s("z").propertyIsEnumerable(0)})?function(e){return o(e)=="String"?u(e,""):s(e)}:s},e=>{var t=Function.prototype;var r=t.bind;var n=t.call;var a=r&&r.bind(n);e.exports=r?function(e){return e&&a(n,e)}:function(e){return e&&function(){return n.apply(e,arguments)}}},(e,t,r)=>{var n=r(19);var a=n({}.toString);var i=n("".slice);e.exports=function(e){return i(a(e),8,-1)}},(e,t,r)=>{var n=r(10);var a=n.TypeError;e.exports=function(e){if(e==undefined)throw a("Can't call method on "+e);return e}},(e,t,r)=>{var n=r(23);var a=r(26);e.exports=function(e){var t=n(e,"string");return a(t)?t:t+""}},(e,t,r)=>{var n=r(10);var a=r(14);var i=r(24);var o=r(26);var s=r(33);var u=r(36);var l=r(37);var c=n.TypeError;var f=l("toPrimitive");e.exports=function(e,t){if(!i(e)||o(e))return e;var r=s(e,f);var n;if(r){if(t===undefined)t="default";n=a(r,e,t);if(!i(n)||o(n))return n;throw c("Can't convert object to primitive value")}if(t===undefined)t="number";return u(e,t)}},(e,t,r)=>{var n=r(25);e.exports=function(e){return typeof e=="object"?e!==null:n(e)}},e=>{e.exports=function(e){return typeof e=="function"}},(e,t,r)=>{var n=r(10);var a=r(27);var i=r(25);var o=r(28);var s=r(29);var u=n.Object;e.exports=s?function(e){return typeof e=="symbol"}:function(e){var t=a("Symbol");return i(t)&&o(t.prototype,u(e))}},(e,t,r)=>{var n=r(10);var a=r(25);var i=function(e){return a(e)?e:undefined};e.exports=function(e,t){return arguments.length<2?i(n[e]):n[e]&&n[e][t]}},(e,t,r)=>{var n=r(19);e.exports=n({}.isPrototypeOf)},(e,t,r)=>{var n=r(30);e.exports=n&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},(e,t,r)=>{var n=r(31);var a=r(13);e.exports=!!Object.getOwnPropertySymbols&&!a(function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41})},(e,t,r)=>{var n=r(10);var a=r(32);var i=n.process;var o=n.Deno;var s=i&&i.versions||o&&o.version;var u=s&&s.v8;var l,c;if(u){l=u.split(".");c=l[0]>0&&l[0]<4?1:+(l[0]+l[1])}if(!c&&a){l=a.match(/Edge\/(\d+)/);if(!l||l[1]>=74){l=a.match(/Chrome\/(\d+)/);if(l)c=+l[1]}}e.exports=c},(e,t,r)=>{var n=r(27);e.exports=n("navigator","userAgent")||""},(e,t,r)=>{var n=r(34);e.exports=function(e,t){var r=e[t];return r==null?undefined:n(r)}},(e,t,r)=>{var n=r(10);var a=r(25);var i=r(35);var o=n.TypeError;e.exports=function(e){if(a(e))return e;throw o(i(e)+" is not a function")}},(e,t,r)=>{var n=r(10);var a=n.String;e.exports=function(e){try{return a(e)}catch(e){return"Object"}}},(e,t,r)=>{var n=r(10);var a=r(14);var i=r(25);var o=r(24);var s=n.TypeError;e.exports=function(e,t){var r,n;if(t==="string"&&i(r=e.toString)&&!o(n=a(r,e)))return n;if(i(r=e.valueOf)&&!o(n=a(r,e)))return n;if(t!=="string"&&i(r=e.toString)&&!o(n=a(r,e)))return n;throw s("Can't convert object to primitive value")}},(e,t,r)=>{var n=r(10);var a=r(38);var i=r(42);var o=r(44);var s=r(30);var u=r(29);var l=a("wks");var c=n.Symbol;var f=c&&c["for"];var d=u?c:c&&c.withoutSetter||o;e.exports=function(e){if(!i(l,e)||!(s||typeof l[e]=="string")){var t="Symbol."+e;if(s&&i(c,e)){l[e]=c[e]}else if(u&&f){l[e]=f(t)}else{l[e]=d(t)}}return l[e]}},(e,t,r)=>{var n=r(39);var a=r(40);(e.exports=function(e,t){return a[e]||(a[e]=t!==undefined?t:{})})("versions",[]).push({version:"3.19.3",mode:n?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},e=>{e.exports=false},(e,t,r)=>{var n=r(10);var a=r(41);var i="__core-js_shared__";var o=n[i]||a(i,{});e.exports=o},(e,t,r)=>{var n=r(10);var a=Object.defineProperty;e.exports=function(t,r){try{a(n,t,{value:r,configurable:true,writable:true})}catch(e){n[t]=r}return r}},(e,t,r)=>{var n=r(19);var a=r(43);var i=n({}.hasOwnProperty);e.exports=Object.hasOwn||function e(t,r){return i(a(t),r)}},(e,t,r)=>{var n=r(10);var a=r(21);var i=n.Object;e.exports=function(e){return i(a(e))}},(e,t,r)=>{var n=r(19);var a=0;var i=Math.random();var o=n(1..toString);e.exports=function(e){return"Symbol("+(e===undefined?"":e)+")_"+o(++a+i,36)}},(e,t,r)=>{var n=r(12);var a=r(13);var i=r(46);e.exports=!n&&!a(function(){return Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a!=7})},(e,t,r)=>{var n=r(10);var a=r(24);var i=n.document;var o=a(i)&&a(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},(e,t,r)=>{var n=r(12);var a=r(48);var i=r(16);e.exports=n?function(e,t,r){return a.f(e,t,i(1,r))}:function(e,t,r){e[t]=r;return e}},(e,t,r)=>{var n=r(10);var a=r(12);var i=r(45);var o=r(49);var s=r(22);var u=n.TypeError;var l=Object.defineProperty;t.f=a?l:function e(t,r,n){o(t);r=s(r);o(n);if(i)try{return l(t,r,n)}catch(e){}if("get"in n||"set"in n)throw u("Accessors not supported");if("value"in n)t[r]=n.value;return t}},(e,t,r)=>{var n=r(10);var a=r(24);var i=n.String;var o=n.TypeError;e.exports=function(e){if(a(e))return e;throw o(i(e)+" is not an object")}},(e,t,r)=>{var l=r(10);var c=r(25);var f=r(42);var d=r(47);var h=r(41);var n=r(51);var a=r(52);var v=r(56).CONFIGURABLE;var i=a.get;var p=a.enforce;var y=String(String).split("String");(e.exports=function(e,t,r,n){var a=n?!!n.unsafe:false;var i=n?!!n.enumerable:false;var o=n?!!n.noTargetGet:false;var s=n&&n.name!==undefined?n.name:t;var u;if(c(r)){if(String(s).slice(0,7)==="Symbol("){s="["+String(s).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"}if(!f(r,"name")||v&&r.name!==s){d(r,"name",s)}u=p(r);if(!u.source){u.source=y.join(typeof s=="string"?s:"")}}if(e===l){if(i)e[t]=r;else h(t,r);return}else if(!a){delete e[t]}else if(!o&&e[t]){i=true}if(i)e[t]=r;else d(e,t,r)})(Function.prototype,"toString",function e(){return c(this)&&i(this).source||n(this)})},(e,t,r)=>{var n=r(19);var a=r(25);var i=r(40);var o=n(Function.toString);if(!a(i.inspectSource)){i.inspectSource=function(e){return o(e)}}e.exports=i.inspectSource},(e,t,r)=>{var n=r(53);var a=r(10);var i=r(19);var o=r(24);var s=r(47);var u=r(42);var l=r(40);var c=r(54);var f=r(55);var d="Object already initialized";var h=a.TypeError;var v=a.WeakMap;var p,y,m;var g=function(e){return m(e)?y(e):p(e,{})};var b=function(r){return function(e){var t;if(!o(e)||(t=y(e)).type!==r){throw h("Incompatible receiver, "+r+" required")}return t}};if(n||l.state){var _=l.state||(l.state=new v);var A=i(_.get);var S=i(_.has);var w=i(_.set);p=function(e,t){if(S(_,e))throw new h(d);t.facade=e;w(_,e,t);return t};y=function(e){return A(_,e)||{}};m=function(e){return S(_,e)}}else{var k=c("state");f[k]=true;p=function(e,t){if(u(e,k))throw new h(d);t.facade=e;s(e,k,t);return t};y=function(e){return u(e,k)?e[k]:{}};m=function(e){return u(e,k)}}e.exports={set:p,get:y,has:m,enforce:g,getterFor:b}},(e,t,r)=>{var n=r(10);var a=r(25);var i=r(51);var o=n.WeakMap;e.exports=a(o)&&/native code/.test(i(o))},(e,t,r)=>{var n=r(38);var a=r(44);var i=n("keys");e.exports=function(e){return i[e]||(i[e]=a(e))}},e=>{e.exports={}},(e,t,r)=>{var n=r(12);var a=r(42);var i=Function.prototype;var o=n&&Object.getOwnPropertyDescriptor;var s=a(i,"name");var u=s&&function e(){}.name==="something";var l=s&&(!n||n&&o(i,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:l}},(e,t,r)=>{var s=r(42);var u=r(58);var l=r(11);var c=r(48);e.exports=function(e,t){var r=u(t);var n=c.f;var a=l.f;for(var i=0;i<r.length;i++){var o=r[i];if(!s(e,o))n(e,o,a(t,o))}}},(e,t,r)=>{var n=r(27);var a=r(19);var i=r(59);var o=r(67);var s=r(49);var u=a([].concat);e.exports=n("Reflect","ownKeys")||function e(t){var r=i.f(s(t));var n=o.f;return n?u(r,n(t)):r}},(e,t,r)=>{var n=r(60);var a=r(66);var i=a.concat("length","prototype");t.f=Object.getOwnPropertyNames||function e(t){return n(t,i)}},(e,t,r)=>{var n=r(19);var o=r(42);var s=r(17);var u=r(61).indexOf;var l=r(55);var c=n([].push);e.exports=function(e,t){var r=s(e);var n=0;var a=[];var i;for(i in r)!o(l,i)&&o(r,i)&&c(a,i);while(t.length>n)if(o(r,i=t[n++])){~u(a,i)||c(a,i)}return a}},(e,t,r)=>{var u=r(17);var l=r(62);var c=r(64);var n=function(s){return function(e,t,r){var n=u(e);var a=c(n);var i=l(r,a);var o;if(s&&t!=t)while(a>i){o=n[i++];if(o!=o)return true}else for(;a>i;i++){if((s||i in n)&&n[i]===t)return s||i||0}return!s&&-1}};e.exports={includes:n(true),indexOf:n(false)}},(e,t,r)=>{var n=r(63);var a=Math.max;var i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?a(r+t,0):i(r,t)}},e=>{var r=Math.ceil;var n=Math.floor;e.exports=function(e){var t=+e;return t!==t||t===0?0:(t>0?n:r)(t)}},(e,t,r)=>{var n=r(65);e.exports=function(e){return n(e.length)}},(e,t,r)=>{var n=r(63);var a=Math.min;e.exports=function(e){return e>0?a(n(e),9007199254740991):0}},e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},(e,t)=>{t.f=Object.getOwnPropertySymbols},(e,t,r)=>{var n=r(13);var a=r(25);var i=/#|\.prototype\./;var o=function(e,t){var r=u[s(e)];return r==c?true:r==l?false:a(t)?n(t):!!t};var s=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()};var u=o.data={};var l=o.NATIVE="N";var c=o.POLYFILL="P";e.exports=o},(r,n,a)=>{"use strict";var i,o;function d(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){d=function e(t){return typeof t}}else{d=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return d(e)}(function(e,t){(false?0:d(n))==="object"&&"object"!=="undefined"?r.exports=t():true?!(i=t,o=typeof i==="function"?i.call(n,a,n,r):i,o!==undefined&&(r.exports=o)):0})(void 0,function(){"use strict";function _(e){var t=new x;var r=Array.from(e);if(!r.every(function(e){return!Number.isNaN(e)})){throw TypeError('CSSMatrix: "'+e+'" must only have numbers.')}if(r.length===16){var n=r[0];var a=r[1];var i=r[2];var o=r[3];var s=r[4];var u=r[5];var l=r[6];var c=r[7];var f=r[8];var d=r[9];var h=r[10];var v=r[11];var p=r[12];var y=r[13];var m=r[14];var g=r[15];t.m11=n;t.a=n;t.m21=s;t.c=s;t.m31=f;t.m41=p;t.e=p;t.m12=a;t.b=a;t.m22=u;t.d=u;t.m32=d;t.m42=y;t.f=y;t.m13=i;t.m23=l;t.m33=h;t.m43=m;t.m14=o;t.m24=c;t.m34=v;t.m44=g}else if(r.length===6){var b=r[0];var _=r[1];var A=r[2];var S=r[3];var w=r[4];var k=r[5];t.m11=b;t.a=b;t.m12=_;t.b=_;t.m21=A;t.c=A;t.m22=S;t.d=S;t.m41=w;t.e=w;t.m42=k;t.f=k}else{throw new TypeError("CSSMatrix: expecting an Array of 6/16 values.")}return t}function n(t){var e=Object.keys(new x);if(d(t)==="object"&&e.every(function(e){return e in t})){return _([t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44])}throw TypeError('CSSMatrix: "'+t+'" is not a DOMMatrix / CSSMatrix / JSON compatible object.')}function a(e){if(typeof e!=="string"){throw TypeError('CSSMatrix: "'+e+'" is not a string.')}var t=String(e).replace(/\s/g,"");var g=new x;var b='CSSMatrix: invalid transform string "'+e+'"';t.split(")").filter(function(e){return e}).forEach(function(e){var t=e.split("(");var r=t[0];var n=t[1];if(!n){throw TypeError(b)}var a=n.split(",").map(function(e){return e.includes("rad")?parseFloat(e)*(180/Math.PI):parseFloat(e)});var i=a[0];var o=a[1];var s=a[2];var u=a[3];var l=[i,o,s];var c=[i,o,s,u];if(r==="perspective"&&i&&[o,s].every(function(e){return e===undefined})){g.m34=-1/i}else if(r.includes("matrix")&&[6,16].includes(a.length)&&a.every(function(e){return!Number.isNaN(+e)})){var f=a.map(function(e){return Math.abs(e)<1e-6?0:e});g=g.multiply(_(f))}else if(r==="translate3d"&&l.every(function(e){return!Number.isNaN(+e)})){g=g.translate(i,o,s)}else if(r==="translate"&&i&&s===undefined){g=g.translate(i,o||0,0)}else if(r==="rotate3d"&&c.every(function(e){return!Number.isNaN(+e)})&&u){g=g.rotateAxisAngle(i,o,s,u)}else if(r==="rotate"&&i&&[o,s].every(function(e){return e===undefined})){g=g.rotate(0,0,i)}else if(r==="scale3d"&&l.every(function(e){return!Number.isNaN(+e)})&&l.some(function(e){return e!==1})){g=g.scale(i,o,s)}else if(r==="scale"&&!Number.isNaN(i)&&i!==1&&s===undefined){var d=Number.isNaN(+o);var h=d?i:o;g=g.scale(i,h,1)}else if(r==="skew"&&i&&s===undefined){g=g.skewX(i);g=o?g.skewY(o):g}else if(/[XYZ]/.test(r)&&i&&[o,s].every(function(e){return e===undefined})&&["translate","rotate","scale","skew"].some(function(e){return r.includes(e)})){if(["skewX","skewY"].includes(r)){g=g[r](i)}else{var v=r.replace(/[XYZ]/,"");var p=r.replace(v,"");var y=["X","Y","Z"].indexOf(p);var m=[y===0?i:0,y===1?i:0,y===2?i:0];g=g[v].apply(g,m)}}else{throw TypeError(b)}});return g}function s(e,t,r){var n=new x;n.m41=e;n.e=e;n.m42=t;n.f=t;n.m43=r;return n}function u(e,t,r){var n=new x;var a=Math.PI/180;var i=e*a;var o=t*a;var s=r*a;var u=Math.cos(i);var l=-Math.sin(i);var c=Math.cos(o);var f=-Math.sin(o);var d=Math.cos(s);var h=-Math.sin(s);var v=c*d;var p=-c*h;n.m11=v;n.a=v;n.m12=p;n.b=p;n.m13=f;var y=l*f*d+u*h;n.m21=y;n.c=y;var m=u*d-l*f*h;n.m22=m;n.d=m;n.m23=-l*c;n.m31=l*h-u*f*d;n.m32=l*d+u*f*h;n.m33=u*c;return n}function i(e,t,r,n){var a=new x;var i=n*(Math.PI/360);var o=Math.sin(i);var s=Math.cos(i);var u=o*o;var l=Math.sqrt(e*e+t*t+r*r);var c=e;var f=t;var d=r;if(l===0){c=0;f=0;d=1}else{c/=l;f/=l;d/=l}var h=c*c;var v=f*f;var p=d*d;var y=1-2*(v+p)*u;a.m11=y;a.a=y;var m=2*(c*f*u+d*o*s);a.m12=m;a.b=m;a.m13=2*(c*d*u-f*o*s);var g=2*(f*c*u-d*o*s);a.m21=g;a.c=g;var b=1-2*(p+h)*u;a.m22=b;a.d=b;a.m23=2*(f*d*u+c*o*s);a.m31=2*(d*c*u+f*o*s);a.m32=2*(d*f*u-c*o*s);a.m33=1-2*(h+v)*u;return a}function l(e,t,r){var n=new x;n.m11=e;n.a=e;n.m22=t;n.d=t;n.m33=r;return n}function r(e){var t=new x;var r=e*Math.PI/180;var n=Math.tan(r);t.m21=n;t.c=n;return t}function o(e){var t=new x;var r=e*Math.PI/180;var n=Math.tan(r);t.m12=n;t.b=n;return t}function c(e,t){var r=t.m11*e.m11+t.m12*e.m21+t.m13*e.m31+t.m14*e.m41;var n=t.m11*e.m12+t.m12*e.m22+t.m13*e.m32+t.m14*e.m42;var a=t.m11*e.m13+t.m12*e.m23+t.m13*e.m33+t.m14*e.m43;var i=t.m11*e.m14+t.m12*e.m24+t.m13*e.m34+t.m14*e.m44;var o=t.m21*e.m11+t.m22*e.m21+t.m23*e.m31+t.m24*e.m41;var s=t.m21*e.m12+t.m22*e.m22+t.m23*e.m32+t.m24*e.m42;var u=t.m21*e.m13+t.m22*e.m23+t.m23*e.m33+t.m24*e.m43;var l=t.m21*e.m14+t.m22*e.m24+t.m23*e.m34+t.m24*e.m44;var c=t.m31*e.m11+t.m32*e.m21+t.m33*e.m31+t.m34*e.m41;var f=t.m31*e.m12+t.m32*e.m22+t.m33*e.m32+t.m34*e.m42;var d=t.m31*e.m13+t.m32*e.m23+t.m33*e.m33+t.m34*e.m43;var h=t.m31*e.m14+t.m32*e.m24+t.m33*e.m34+t.m34*e.m44;var v=t.m41*e.m11+t.m42*e.m21+t.m43*e.m31+t.m44*e.m41;var p=t.m41*e.m12+t.m42*e.m22+t.m43*e.m32+t.m44*e.m42;var y=t.m41*e.m13+t.m42*e.m23+t.m43*e.m33+t.m44*e.m43;var m=t.m41*e.m14+t.m42*e.m24+t.m43*e.m34+t.m44*e.m44;return _([r,n,a,i,o,s,u,l,c,f,d,h,v,p,y,m])}var x=function e(){var t=[],r=arguments.length;while(r--){t[r]=arguments[r]}var n=this;n.a=1;n.b=0;n.c=0;n.d=1;n.e=0;n.f=0;n.m11=1;n.m12=0;n.m13=0;n.m14=0;n.m21=0;n.m22=1;n.m23=0;n.m24=0;n.m31=0;n.m32=0;n.m33=1;n.m34=0;n.m41=0;n.m42=0;n.m43=0;n.m44=1;if(t&&t.length){var a=[16,6].some(function(e){return e===t.length})?t:t[0];return n.setMatrixValue(a)}return n};var e={isIdentity:{configurable:true},is2D:{configurable:true}};e.isIdentity.set=function(e){this.isIdentity=e};e.isIdentity.get=function(){var e=this;return e.m11===1&&e.m12===0&&e.m13===0&&e.m14===0&&e.m21===0&&e.m22===1&&e.m23===0&&e.m24===0&&e.m31===0&&e.m32===0&&e.m33===1&&e.m34===0&&e.m41===0&&e.m42===0&&e.m43===0&&e.m44===1};e.is2D.get=function(){var e=this;return e.m31===0&&e.m32===0&&e.m33===1&&e.m34===0&&e.m43===0&&e.m44===1};e.is2D.set=function(e){this.is2D=e};x.prototype.setMatrixValue=function e(t){var r=this;if([Array,Float64Array,Float32Array].some(function(e){return t instanceof e})){return _(t)}if(typeof t==="string"&&t.length&&t!=="none"){return a(t)}if(d(t)==="object"){return n(t)}return r};x.prototype.toArray=function e(){var t=this;var r=Math.pow(10,6);var n;if(t.is2D){n=[t.a,t.b,t.c,t.d,t.e,t.f]}else{n=[t.m11,t.m12,t.m13,t.m14,t.m21,t.m22,t.m23,t.m24,t.m31,t.m32,t.m33,t.m34,t.m41,t.m42,t.m43,t.m44]}return n.map(function(e){return Math.abs(e)<1e-6?0:(e*r>>0)/r})};x.prototype.toString=function e(){var t=this;var r=t.toArray();var n=t.is2D?"matrix":"matrix3d";return n+"("+r+")"};x.prototype.toJSON=function e(){var t=this;var r=t.is2D;var n=t.isIdentity;return Object.assign({},t,{is2D:r,isIdentity:n})};x.prototype.multiply=function e(t){return c(this,t)};x.prototype.translate=function e(t,r,n){var a=t;var i=r;var o=n;if(o===undefined){o=0}if(i===undefined){i=0}return c(this,s(a,i,o))};x.prototype.scale=function e(t,r,n){var a=t;var i=r;var o=n;if(i===undefined){i=t}if(o===undefined){o=1}return c(this,l(a,i,o))};x.prototype.rotate=function e(t,r,n){var a=t;var i=r;var o=n;if(i===undefined){i=0}if(o===undefined){o=a;a=0}return c(this,u(a,i,o))};x.prototype.rotateAxisAngle=function e(t,r,n,a){if([t,r,n,a].some(function(e){return Number.isNaN(e)})){throw new TypeError("CSSMatrix: expecting 4 values")}return c(this,i(t,r,n,a))};x.prototype.skewX=function e(t){return c(this,r(t))};x.prototype.skewY=function e(t){return c(this,o(t))};x.prototype.transformPoint=function e(t){var r=this;var n=s(t.x,t.y,t.z);n.m44=t.w||1;n=r.multiply(n);return{x:n.m41,y:n.m42,z:n.m43,w:n.m44}};x.prototype.transform=function e(t){var r=this;var n=r.m11*t.x+r.m12*t.y+r.m13*t.z+r.m14*t.w;var a=r.m21*t.x+r.m22*t.y+r.m23*t.z+r.m24*t.w;var i=r.m31*t.x+r.m32*t.y+r.m33*t.z+r.m34*t.w;var o=r.m41*t.x+r.m42*t.y+r.m43*t.z+r.m44*t.w;return{x:n/o,y:a/o,z:i/o,w:o}};Object.defineProperties(x.prototype,e);Object.assign(x,{Translate:s,Rotate:u,RotateAxisAngle:i,Scale:l,SkewX:r,SkewY:o,Multiply:c,fromArray:_,fromMatrix:n,fromString:a});var t="0.0.24";var f=t;Object.assign(x,{Version:f});return x})},(e,t,r)=>{r(71);r(86);var n=r(96);e.exports=n.Object.fromEntries},(e,t,r)=>{"use strict";var n=r(17);var a=r(72);var i=r(77);var o=r(52);var s=r(78);var u="Array Iterator";var l=o.set;var c=o.getterFor(u);e.exports=s(Array,"Array",function(e,t){l(this,{type:u,target:n(e),index:0,kind:t})},function(){var e=c(this);var t=e.target;var r=e.kind;var n=e.index++;if(!t||n>=t.length){e.target=undefined;return{value:undefined,done:true}}if(r=="keys")return{value:n,done:false};if(r=="values")return{value:t[n],done:false};return{value:[n,t[n]],done:false}},"values");i.Arguments=i.Array;a("keys");a("values");a("entries")},(e,t,r)=>{var n=r(37);var a=r(73);var i=r(48);var o=n("unscopables");var s=Array.prototype;if(s[o]==undefined){i.f(s,o,{configurable:true,value:a(null)})}e.exports=function(e){s[o][e]=true}},(e,t,r)=>{var a=r(49);var i=r(74);var n=r(66);var o=r(55);var s=r(76);var u=r(46);var l=r(54);var c=">";var f="<";var d="prototype";var h="script";var v=l("IE_PROTO");var p=function(){};var y=function(e){return f+h+c+e+f+"/"+h+c};var m=function(e){e.write(y(""));e.close();var t=e.parentWindow.Object;e=null;return t};var g=function(){var e=u("iframe");var t="java"+h+":";var r;e.style.display="none";s.appendChild(e);e.src=String(t);r=e.contentWindow.document;r.open();r.write(y("document.F=Object"));r.close();return r.F};var b;var _=function(){try{b=new ActiveXObject("htmlfile")}catch(e){}_=typeof document!="undefined"?document.domain&&b?m(b):g():m(b);var e=n.length;while(e--)delete _[d][n[e]];return _()};o[v]=true;e.exports=Object.create||function e(t,r){var n;if(t!==null){p[d]=a(t);n=new p;p[d]=null;n[v]=t}else n=_();return r===undefined?n:i(n,r)}},(e,t,r)=>{var n=r(12);var u=r(48);var l=r(49);var c=r(17);var f=r(75);e.exports=n?Object.defineProperties:function e(t,r){l(t);var n=c(r);var a=f(r);var i=a.length;var o=0;var s;while(i>o)u.f(t,s=a[o++],n[s]);return t}},(e,t,r)=>{var n=r(60);var a=r(66);e.exports=Object.keys||function e(t){return n(t,a)}},(e,t,r)=>{var n=r(27);e.exports=n("document","documentElement")},e=>{e.exports={}},(e,t,r)=>{"use strict";var m=r(9);var g=r(14);var b=r(39);var n=r(56);var _=r(25);var A=r(79);var S=r(81);var w=r(84);var k=r(83);var x=r(47);var C=r(50);var a=r(37);var P=r(77);var i=r(80);var T=n.PROPER;var R=n.CONFIGURABLE;var E=i.IteratorPrototype;var O=i.BUGGY_SAFARI_ITERATORS;var F=a("iterator");var M="keys";var I="values";var j="entries";var L=function(){return this};e.exports=function(e,t,r,n,a,i,o){A(r,t,n);var s=function(t){if(t===a&&d)return d;if(!O&&t in c)return c[t];switch(t){case M:return function e(){return new r(this,t)};case I:return function e(){return new r(this,t)};case j:return function e(){return new r(this,t)}}return function(){return new r(this)}};var u=t+" Iterator";var l=false;var c=e.prototype;var f=c[F]||c["@@iterator"]||a&&c[a];var d=!O&&f||s(a);var h=t=="Array"?c.entries||f:f;var v,p,y;if(h){v=S(h.call(new e));if(v!==Object.prototype&&v.next){if(!b&&S(v)!==E){if(w){w(v,E)}else if(!_(v[F])){C(v,F,L)}}k(v,u,true,true);if(b)P[u]=L}}if(T&&a==I&&f&&f.name!==I){if(!b&&R){x(c,"name",I)}else{l=true;d=function e(){return g(f,this)}}}if(a){p={values:s(I),keys:i?d:s(M),entries:s(j)};if(o)for(y in p){if(O||l||!(y in c)){C(c,y,p[y])}}else m({target:t,proto:true,forced:O||l},p)}if((!b||o)&&c[F]!==d){C(c,F,d,{name:a})}P[t]=d;return p}},(e,t,r)=>{"use strict";var i=r(80).IteratorPrototype;var o=r(73);var s=r(16);var u=r(83);var l=r(77);var c=function(){return this};e.exports=function(e,t,r,n){var a=t+" Iterator";e.prototype=o(i,{next:s(+!n,r)});u(e,a,false,true);l[a]=c;return e}},(e,t,r)=>{"use strict";var n=r(13);var a=r(25);var i=r(73);var o=r(81);var s=r(50);var u=r(37);var l=r(39);var c=u("iterator");var f=false;var d,h,v;if([].keys){v=[].keys();if(!("next"in v))f=true;else{h=o(o(v));if(h!==Object.prototype)d=h}}var p=d==undefined||n(function(){var e={};return d[c].call(e)!==e});if(p)d={};else if(l)d=i(d);if(!a(d[c])){s(d,c,function(){return this})}e.exports={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:f}},(e,t,r)=>{var n=r(10);var a=r(42);var i=r(25);var o=r(43);var s=r(54);var u=r(82);var l=s("IE_PROTO");var c=n.Object;var f=c.prototype;e.exports=u?c.getPrototypeOf:function(e){var t=o(e);if(a(t,l))return t[l];var r=t.constructor;if(i(r)&&t instanceof r){return r.prototype}return t instanceof c?f:null}},(e,t,r)=>{var n=r(13);e.exports=!n(function(){function e(){}e.prototype.constructor=null;return Object.getPrototypeOf(new e)!==e.prototype})},(e,t,r)=>{var n=r(48).f;var a=r(42);var i=r(37);var o=i("toStringTag");e.exports=function(e,t,r){if(e&&!a(e=r?e:e.prototype,o)){n(e,o,{configurable:true,value:t})}}},(e,t,r)=>{var i=r(19);var o=r(49);var s=r(85);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var n=false;var e={};var a;try{a=i(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set);a(e,[]);n=e instanceof Array}catch(e){}return function e(t,r){o(t);s(r);if(n)a(t,r);else t.__proto__=r;return t}}():undefined)},(e,t,r)=>{var n=r(10);var a=r(25);var i=n.String;var o=n.TypeError;e.exports=function(e){if(typeof e=="object"||a(e))return e;throw o("Can't set "+i(e)+" as a prototype")}},(e,t,r)=>{var n=r(9);var a=r(87);var i=r(95);n({target:"Object",stat:true},{fromEntries:function e(t){var r={};a(t,function(e,t){i(r,e,t)},{AS_ENTRIES:true});return r}})},(e,t,r)=>{var n=r(10);var m=r(88);var g=r(14);var b=r(49);var _=r(35);var A=r(89);var S=r(64);var w=r(28);var k=r(90);var x=r(91);var C=r(94);var P=n.TypeError;var T=function(e,t){this.stopped=e;this.result=t};var R=T.prototype;e.exports=function(e,t,r){var n=r&&r.that;var a=!!(r&&r.AS_ENTRIES);var i=!!(r&&r.IS_ITERATOR);var o=!!(r&&r.INTERRUPTED);var s=m(t,n);var u,l,c,f,d,h,v;var p=function(e){if(u)C(u,"normal",e);return new T(true,e)};var y=function(e){if(a){b(e);return o?s(e[0],e[1],p):s(e[0],e[1])}return o?s(e,p):s(e)};if(i){u=e}else{l=x(e);if(!l)throw P(_(e)+" is not iterable");if(A(l)){for(c=0,f=S(e);f>c;c++){d=y(e[c]);if(d&&w(R,d))return d}return new T(false)}u=k(e,l)}h=u.next;while(!(v=g(h,u)).done){try{d=y(v.value)}catch(e){C(u,"throw",e)}if(typeof d=="object"&&d&&w(R,d))return d}return new T(false)}},(e,t,r)=>{var n=r(19);var a=r(34);var i=n(n.bind);e.exports=function(e,t){a(e);return t===undefined?e:i?i(e,t):function(){return e.apply(t,arguments)}}},(e,t,r)=>{var n=r(37);var a=r(77);var i=n("iterator");var o=Array.prototype;e.exports=function(e){return e!==undefined&&(a.Array===e||o[i]===e)}},(e,t,r)=>{var n=r(10);var a=r(14);var i=r(34);var o=r(49);var s=r(35);var u=r(91);var l=n.TypeError;e.exports=function(e,t){var r=arguments.length<2?u(e):t;if(i(r))return o(a(r,e));throw l(s(e)+" is not iterable")}},(e,t,r)=>{var n=r(92);var a=r(33);var i=r(77);var o=r(37);var s=o("iterator");e.exports=function(e){if(e!=undefined)return a(e,s)||a(e,"@@iterator")||i[n(e)]}},(e,t,r)=>{var n=r(10);var a=r(93);var i=r(25);var o=r(20);var s=r(37);var u=s("toStringTag");var l=n.Object;var c=o(function(){return arguments}())=="Arguments";var f=function(e,t){try{return e[t]}catch(e){}};e.exports=a?o:function(e){var t,r,n;return e===undefined?"Undefined":e===null?"Null":typeof(r=f(t=l(e),u))=="string"?r:c?o(t):(n=o(t))=="Object"&&i(t.callee)?"Arguments":n}},(e,t,r)=>{var n=r(37);var a=n("toStringTag");var i={};i[a]="z";e.exports=String(i)==="[object z]"},(e,t,r)=>{var i=r(14);var o=r(49);var s=r(33);e.exports=function(e,t,r){var n,a;o(e);try{n=s(e,"return");if(!n){if(t==="throw")throw r;return r}n=i(n,e)}catch(e){a=true;n=e}if(t==="throw")throw r;if(a)throw n;o(n);return r}},(e,t,r)=>{"use strict";var a=r(22);var i=r(48);var o=r(16);e.exports=function(e,t,r){var n=a(t);if(n in e)i.f(e,n,o(0,r));else e[n]=r}},(e,t,r)=>{var n=r(10);e.exports=n},(e,t,r)=>{r(98);r(71);r(105);r(107);r(129);r(130);r(131);r(132);var n=r(96);e.exports=n.Promise},(e,t,r)=>{"use strict";var n=r(9);var a=r(10);var s=r(28);var u=r(81);var l=r(84);var i=r(57);var c=r(73);var f=r(47);var o=r(16);var d=r(99);var h=r(101);var v=r(87);var p=r(102);var y=r(37);var m=r(104);var g=y("toStringTag");var b=a.Error;var _=[].push;var A=function e(t,r){var n=arguments.length>2?arguments[2]:undefined;var a=s(S,this);var i;if(l){i=l(new b(undefined),a?u(this):S)}else{i=a?this:c(S);f(i,g,"Error")}f(i,"message",p(r,""));if(m)f(i,"stack",d(i.stack,1));h(i,n);var o=[];v(t,_,{that:o});f(i,"errors",o);return i};if(l)l(A,b);else i(A,b);var S=A.prototype=c(b.prototype,{constructor:o(1,A),message:o(1,""),name:o(1,"AggregateError")});n({global:true},{AggregateError:A})},(e,t,r)=>{var n=r(19);var a=r(100);var i=n("".replace);var o=n("".split);var s=n([].join);var u=function(e){return String(Error(e).stack)}("zxcasd");var l=/\n\s*at [^:]*:[^\n]*/;var c=l.test(u);var f=/@[^\n]*\n/.test(u)&&!/zxcasd/.test(u);e.exports=function(e,t){if(typeof e!="string")return e;if(c){while(t--)e=i(e,l,"")}else if(f){return s(a(o(e,"\n"),t),"\n")}return e}},(e,t,r)=>{var n=r(10);var u=r(62);var l=r(64);var c=r(95);var f=n.Array;var d=Math.max;e.exports=function(e,t,r){var n=l(e);var a=u(t,n);var i=u(r===undefined?n:r,n);var o=f(d(i-a,0));for(var s=0;a<i;a++,s++)c(o,s,e[a]);o.length=s;return o}},(e,t,r)=>{var n=r(24);var a=r(47);e.exports=function(e,t){if(n(t)&&"cause"in t){a(e,"cause",t.cause)}}},(e,t,r)=>{var n=r(103);e.exports=function(e,t){return e===undefined?arguments.length<2?"":t:n(e)}},(e,t,r)=>{var n=r(10);var a=r(92);var i=n.String;e.exports=function(e){if(a(e)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return i(e)}},(e,t,r)=>{var n=r(13);var a=r(16);e.exports=!n(function(){var e=Error("a");if(!("stack"in e))return true;Object.defineProperty(e,"stack",a(1,7));return e.stack!==7})},(e,t,r)=>{var n=r(93);var a=r(50);var i=r(106);if(!n){a(Object.prototype,"toString",i,{unsafe:true})}},(e,t,r)=>{"use strict";var n=r(93);var a=r(92);e.exports=n?{}.toString:function e(){return"[object "+a(this)+"]"}},(e,t,r)=>{"use strict";var n=r(9);var i=r(39);var o=r(10);var a=r(27);var v=r(14);var s=r(108);var u=r(50);var l=r(109);var c=r(84);var f=r(83);var d=r(110);var h=r(34);var p=r(25);var y=r(24);var m=r(111);var g=r(51);var b=r(87);var _=r(112);var A=r(113);var S=r(116).set;var w=r(121);var k=r(124);var x=r(126);var C=r(125);var P=r(127);var T=r(52);var R=r(68);var E=r(37);var O=r(128);var F=r(120);var M=r(31);var I=E("species");var j="Promise";var L=T.getterFor(j);var D=T.set;var N=T.getterFor(j);var q=s&&s.prototype;var B=s;var U=q;var W=o.TypeError;var z=o.document;var G=o.process;var H=C.f;var V=H;var X=!!(z&&z.createEvent&&o.dispatchEvent);var Y=p(o.PromiseRejectionEvent);var K="unhandledrejection";var Q="rejectionhandled";var J=0;var $=1;var Z=2;var ee=1;var te=2;var re=false;var ne,ae,ie,oe;var se=R(j,function(){var e=g(B);var t=e!==String(B);if(!t&&M===66)return true;if(i&&!U["finally"])return true;if(M>=51&&/native code/.test(e))return false;var r=new B(function(e){e(1)});var n=function(e){e(function(){},function(){})};var a=r.constructor={};a[I]=n;re=r.then(function(){})instanceof n;if(!re)return true;return!t&&O&&!Y});var ue=se||!_(function(e){B.all(e)["catch"](function(){})});var le=function(e){var t;return y(e)&&p(t=e.then)?t:false};var ce=function(f,d){if(f.notified)return;f.notified=true;var h=f.reactions;w(function(){var e=f.value;var t=f.state==$;var r=0;while(h.length>r){var n=h[r++];var a=t?n.ok:n.fail;var i=n.resolve;var o=n.reject;var s=n.domain;var u,l,c;try{if(a){if(!t){if(f.rejection===te)ve(f);f.rejection=ee}if(a===true)u=e;else{if(s)s.enter();u=a(e);if(s){s.exit();c=true}}if(u===n.promise){o(W("Promise-chain cycle"))}else if(l=le(u)){v(l,u,i,o)}else i(u)}else o(e)}catch(e){if(s&&!c)s.exit();o(e)}}f.reactions=[];f.notified=false;if(d&&!f.rejection)de(f)})};var fe=function(e,t,r){var n,a;if(X){n=z.createEvent("Event");n.promise=t;n.reason=r;n.initEvent(e,false,true);o.dispatchEvent(n)}else n={promise:t,reason:r};if(!Y&&(a=o["on"+e]))a(n);else if(e===K)x("Unhandled promise rejection",r)};var de=function(a){v(S,o,function(){var e=a.facade;var t=a.value;var r=he(a);var n;if(r){n=P(function(){if(F){G.emit("unhandledRejection",t,e)}else fe(K,e,t)});a.rejection=F||he(a)?te:ee;if(n.error)throw n.value}})};var he=function(e){return e.rejection!==ee&&!e.parent};var ve=function(t){v(S,o,function(){var e=t.facade;if(F){G.emit("rejectionHandled",e)}else fe(Q,e,t.value)})};var pe=function(t,r,n){return function(e){t(r,e,n)}};var ye=function(e,t,r){if(e.done)return;e.done=true;if(r)e=r;e.value=t;e.state=Z;ce(e,true)};var me=function(r,e,t){if(r.done)return;r.done=true;if(t)r=t;try{if(r.facade===e)throw W("Promise can't be resolved itself");var n=le(e);if(n){w(function(){var t={done:false};try{v(n,e,pe(me,t,r),pe(ye,t,r))}catch(e){ye(t,e,r)}})}else{r.value=e;r.state=$;ce(r,false)}}catch(e){ye({done:false},e,r)}};if(se){B=function e(t){m(this,U);h(t);v(ne,this);var r=L(this);try{t(pe(me,r),pe(ye,r))}catch(e){ye(r,e)}};U=B.prototype;ne=function e(t){D(this,{type:j,done:false,notified:false,parent:false,reactions:[],rejection:false,state:J,value:undefined})};ne.prototype=l(U,{then:function e(t,r){var n=N(this);var a=n.reactions;var i=H(A(this,B));i.ok=p(t)?t:true;i.fail=p(r)&&r;i.domain=F?G.domain:undefined;n.parent=true;a[a.length]=i;if(n.state!=J)ce(n,false);return i.promise},catch:function(e){return this.then(undefined,e)}});ae=function(){var e=new ne;var t=L(e);this.promise=e;this.resolve=pe(me,t);this.reject=pe(ye,t)};C.f=H=function(e){return e===B||e===ie?new ae(e):V(e)};if(!i&&p(s)&&q!==Object.prototype){oe=q.then;if(!re){u(q,"then",function e(t,r){var n=this;return new B(function(e,t){v(oe,n,e,t)}).then(t,r)},{unsafe:true});u(q,"catch",U["catch"],{unsafe:true})}try{delete q.constructor}catch(e){}if(c){c(q,U)}}}n({global:true,wrap:true,forced:se},{Promise:B});f(B,j,false,true);d(j);ie=a(j);n({target:j,stat:true,forced:se},{reject:function e(t){var r=H(this);v(r.reject,undefined,t);return r.promise}});n({target:j,stat:true,forced:i||se},{resolve:function e(t){return k(i&&this===ie?B:this,t)}});n({target:j,stat:true,forced:ue},{all:function e(t){var s=this;var r=H(s);var u=r.resolve;var l=r.reject;var n=P(function(){var n=h(s.resolve);var a=[];var i=0;var o=1;b(t,function(e){var t=i++;var r=false;o++;v(n,s,e).then(function(e){if(r)return;r=true;a[t]=e;--o||u(a)},l)});--o||u(a)});if(n.error)l(n.value);return r.promise},race:function e(r){var n=this;var a=H(n);var i=a.reject;var t=P(function(){var t=h(n.resolve);b(r,function(e){v(t,n,e).then(a.resolve,i)})});if(t.error)i(t.value);return a.promise}})},(e,t,r)=>{var n=r(10);e.exports=n.Promise},(e,t,r)=>{var a=r(50);e.exports=function(e,t,r){for(var n in t)a(e,n,t[n],r);return e}},(e,t,r)=>{"use strict";var n=r(27);var a=r(48);var i=r(37);var o=r(12);var s=i("species");e.exports=function(e){var t=n(e);var r=a.f;if(o&&t&&!t[s]){r(t,s,{configurable:true,get:function(){return this}})}}},(e,t,r)=>{var n=r(10);var a=r(28);var i=n.TypeError;e.exports=function(e,t){if(a(t,e))return e;throw i("Incorrect invocation")}},(e,t,r)=>{var n=r(37);var a=n("iterator");var i=false;try{var o=0;var s={next:function(){return{done:!!o++}},return:function(){i=true}};s[a]=function(){return this};Array.from(s,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return false;var r=false;try{var n={};n[a]=function(){return{next:function(){return{done:r=true}}}};e(n)}catch(e){}return r}},(e,t,r)=>{var a=r(49);var i=r(114);var n=r(37);var o=n("species");e.exports=function(e,t){var r=a(e).constructor;var n;return r===undefined||(n=a(r)[o])==undefined?t:i(n)}},(e,t,r)=>{var n=r(10);var a=r(115);var i=r(35);var o=n.TypeError;e.exports=function(e){if(a(e))return e;throw o(i(e)+" is not a constructor")}},(e,t,r)=>{var n=r(19);var a=r(13);var i=r(25);var o=r(92);var s=r(27);var u=r(51);var l=function(){};var c=[];var f=s("Reflect","construct");var d=/^\s*(?:class|function)\b/;var h=n(d.exec);var v=!d.exec(l);var p=function(e){if(!i(e))return false;try{f(l,c,e);return true}catch(e){return false}};var y=function(e){if(!i(e))return false;switch(o(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return false}return v||!!h(d,u(e))};e.exports=!f||a(function(){var e;return p(p.call)||!p(Object)||!p(function(){e=true})||e})?y:p},(e,t,r)=>{var n=r(10);var a=r(117);var i=r(88);var o=r(25);var s=r(42);var u=r(13);var l=r(76);var c=r(118);var f=r(46);var d=r(119);var h=r(120);var v=n.setImmediate;var p=n.clearImmediate;var y=n.process;var m=n.Dispatch;var g=n.Function;var b=n.MessageChannel;var _=n.String;var A=0;var S={};var w="onreadystatechange";var k,x,C,P;try{k=n.location}catch(e){}var T=function(e){if(s(S,e)){var t=S[e];delete S[e];t()}};var R=function(e){return function(){T(e)}};var E=function(e){T(e.data)};var O=function(e){n.postMessage(_(e),k.protocol+"//"+k.host)};if(!v||!p){v=function e(t){var r=c(arguments,1);S[++A]=function(){a(o(t)?t:g(t),undefined,r)};x(A);return A};p=function e(t){delete S[t]};if(h){x=function(e){y.nextTick(R(e))}}else if(m&&m.now){x=function(e){m.now(R(e))}}else if(b&&!d){C=new b;P=C.port2;C.port1.onmessage=E;x=i(P.postMessage,P)}else if(n.addEventListener&&o(n.postMessage)&&!n.importScripts&&k&&k.protocol!=="file:"&&!u(O)){x=O;n.addEventListener("message",E,false)}else if(w in f("script")){x=function(e){l.appendChild(f("script"))[w]=function(){l.removeChild(this);T(e)}}}else{x=function(e){setTimeout(R(e),0)}}}e.exports={set:v,clear:p}},e=>{var t=Function.prototype;var r=t.apply;var n=t.bind;var a=t.call;e.exports=typeof Reflect=="object"&&Reflect.apply||(n?a.bind(r):function(){return a.apply(r,arguments)})},(e,t,r)=>{var n=r(19);e.exports=n([].slice)},(e,t,r)=>{var n=r(32);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},(e,t,r)=>{var n=r(20);var a=r(10);e.exports=n(a.process)=="process"},(e,t,r)=>{var n=r(10);var a=r(88);var i=r(11).f;var o=r(116).set;var s=r(119);var u=r(122);var l=r(123);var c=r(120);var f=n.MutationObserver||n.WebKitMutationObserver;var d=n.document;var h=n.process;var v=n.Promise;var p=i(n,"queueMicrotask");var y=p&&p.value;var m,g,b,_,A,S,w,k;if(!y){m=function(){var e,t;if(c&&(e=h.domain))e.exit();while(g){t=g.fn;g=g.next;try{t()}catch(e){if(g)_();else b=undefined;throw e}}b=undefined;if(e)e.enter()};if(!s&&!c&&!l&&f&&d){A=true;S=d.createTextNode("");new f(m).observe(S,{characterData:true});_=function(){S.data=A=!A}}else if(!u&&v&&v.resolve){w=v.resolve(undefined);w.constructor=v;k=a(w.then,w);_=function(){k(m)}}else if(c){_=function(){h.nextTick(m)}}else{o=a(o,n);_=function(){o(m)}}}e.exports=y||function(e){var t={fn:e,next:undefined};if(b)b.next=t;if(!g){g=t;_()}b=t}},(e,t,r)=>{var n=r(32);var a=r(10);e.exports=/ipad|iphone|ipod/i.test(n)&&a.Pebble!==undefined},(e,t,r)=>{var n=r(32);e.exports=/web0s(?!.*chrome)/i.test(n)},(e,t,r)=>{var a=r(49);var i=r(24);var o=r(125);e.exports=function(e,t){a(e);if(i(t)&&t.constructor===e)return t;var r=o.f(e);var n=r.resolve;n(t);return r.promise}},(e,t,r)=>{"use strict";var a=r(34);var n=function(e){var r,n;this.promise=new e(function(e,t){if(r!==undefined||n!==undefined)throw TypeError("Bad Promise constructor");r=e;n=t});this.resolve=a(r);this.reject=a(n)};e.exports.f=function(e){return new n(e)}},(e,t,r)=>{var n=r(10);e.exports=function(e,t){var r=n.console;if(r&&r.error){arguments.length==1?r.error(e):r.error(e,t)}}},e=>{e.exports=function(e){try{return{error:false,value:e()}}catch(e){return{error:true,value:e}}}},e=>{e.exports=typeof window=="object"},(e,t,r)=>{"use strict";var n=r(9);var l=r(14);var c=r(34);var i=r(125);var o=r(127);var f=r(87);n({target:"Promise",stat:true},{allSettled:function e(t){var s=this;var r=i.f(s);var u=r.resolve;var n=r.reject;var a=o(function(){var n=c(s.resolve);var a=[];var i=0;var o=1;f(t,function(e){var t=i++;var r=false;o++;l(n,s,e).then(function(e){if(r)return;r=true;a[t]={status:"fulfilled",value:e};--o||u(a)},function(e){if(r)return;r=true;a[t]={status:"rejected",reason:e};--o||u(a)})});--o||u(a)});if(a.error)n(a.value);return r.promise}})},(e,t,r)=>{"use strict";var n=r(9);var d=r(34);var a=r(27);var h=r(14);var i=r(125);var o=r(127);var v=r(87);var p="No one promise resolved";n({target:"Promise",stat:true},{any:function e(t){var u=this;var l=a("AggregateError");var r=i.f(u);var c=r.resolve;var f=r.reject;var n=o(function(){var n=d(u.resolve);var a=[];var i=0;var o=1;var s=false;v(t,function(e){var t=i++;var r=false;o++;h(n,u,e).then(function(e){if(r||s)return;s=true;c(e)},function(e){if(r||s)return;r=true;a[t]=e;--o||f(new l(a,p))})});--o||f(new l(a,p))});if(n.error)f(n.value);return r.promise}})},(e,t,r)=>{"use strict";var n=r(9);var a=r(39);var i=r(108);var o=r(13);var s=r(27);var u=r(25);var l=r(113);var c=r(124);var f=r(50);var d=!!i&&o(function(){i.prototype["finally"].call({then:function(){}},function(){})});n({target:"Promise",proto:true,real:true,forced:d},{finally:function(t){var r=l(this,s("Promise"));var e=u(t);return this.then(e?function(e){return c(r,t()).then(function(){return e})}:t,e?function(e){return c(r,t()).then(function(){throw e})}:t)}});if(!a&&u(i)){var h=s("Promise").prototype["finally"];if(i.prototype["finally"]!==h){f(i.prototype,"finally",h,{unsafe:true})}}},(e,t,r)=>{"use strict";var i=r(133).charAt;var n=r(103);var a=r(52);var o=r(78);var s="String Iterator";var u=a.set;var l=a.getterFor(s);o(String,"String",function(e){u(this,{type:s,string:n(e),index:0})},function e(){var t=l(this);var r=t.string;var n=t.index;var a;if(n>=r.length)return{value:undefined,done:true};a=i(r,n);t.index+=a.length;return{value:a,done:false}})},(e,t,r)=>{var n=r(19);var u=r(63);var l=r(103);var c=r(21);var f=n("".charAt);var d=n("".charCodeAt);var h=n("".slice);var a=function(s){return function(e,t){var r=l(c(e));var n=u(t);var a=r.length;var i,o;if(n<0||n>=a)return s?"":undefined;i=d(r,n);return i<55296||i>56319||n+1===a||(o=d(r,n+1))<56320||o>57343?s?f(r,n):i:s?h(r,n,n+2):(i-55296<<10)+(o-56320)+65536}};e.exports={codeAt:a(false),charAt:a(true)}},function(e,r){(function(e,t){true?t(r):0})(this,function(e){"use strict";var t=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?Symbol:function(e){return"Symbol("+e+")"};function S(){return undefined}function r(){if(typeof self!=="undefined"){return self}else if(typeof window!=="undefined"){return window}else if(typeof global!=="undefined"){return global}return undefined}var n=r();function a(e){return typeof e==="object"&&e!==null||typeof e==="function"}var i=S;var o=Promise;var s=Promise.prototype.then;var u=Promise.resolve.bind(o);var l=Promise.reject.bind(o);function w(e){return new o(e)}function k(e){return u(e)}function c(e){return l(e)}function x(e,t,r){return s.call(e,t,r)}function C(e,t,r){x(x(e,t,r),undefined,i)}function P(e,t){C(e,t)}function T(e,t){C(e,undefined,t)}function f(e,t,r){return x(e,t,r)}function R(e){x(e,undefined,i)}var A=function(){var e=n&&n.queueMicrotask;if(typeof e==="function"){return e}var t=k(undefined);return function(e){return x(t,e)}}();function d(e,t,r){if(typeof e!=="function"){throw new TypeError("Argument is not a function")}return Function.prototype.apply.call(e,t,r)}function h(e,t,r){try{return k(d(e,t,r))}catch(e){return c(e)}}var v=16384;var p=function(){function e(){this._cursor=0;this._size=0;this._front={_elements:[],_next:undefined};this._back=this._front;this._cursor=0;this._size=0}Object.defineProperty(e.prototype,"length",{get:function(){return this._size},enumerable:false,configurable:true});e.prototype.push=function(e){var t=this._back;var r=t;if(t._elements.length===v-1){r={_elements:[],_next:undefined}}t._elements.push(e);if(r!==t){this._back=r;t._next=r}++this._size};e.prototype.shift=function(){var e=this._front;var t=e;var r=this._cursor;var n=r+1;var a=e._elements;var i=a[r];if(n===v){t=e._next;n=0}--this._size;this._cursor=n;if(e!==t){this._front=t}a[r]=undefined;return i};e.prototype.forEach=function(e){var t=this._cursor;var r=this._front;var n=r._elements;while(t!==n.length||r._next!==undefined){if(t===n.length){r=r._next;n=r._elements;t=0;if(n.length===0){break}}e(n[t]);++t}};e.prototype.peek=function(){var e=this._front;var t=this._cursor;return e._elements[t]};return e}();function y(e,t){e._ownerReadableStream=t;t._reader=e;if(t._state==="readable"){b(e)}else if(t._state==="closed"){O(e)}else{_(e,t._storedError)}}function m(e,t){var r=e._ownerReadableStream;return xn(r,t)}function E(e){if(e._ownerReadableStream._state==="readable"){F(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}else{M(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}e._ownerReadableStream._reader=undefined;e._ownerReadableStream=undefined}function g(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function b(r){r._closedPromise=w(function(e,t){r._closedPromise_resolve=e;r._closedPromise_reject=t})}function _(e,t){b(e);F(e,t)}function O(e){b(e);I(e)}function F(e,t){if(e._closedPromise_reject===undefined){return}R(e._closedPromise);e._closedPromise_reject(t);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined}function M(e,t){_(e,t)}function I(e){if(e._closedPromise_resolve===undefined){return}e._closedPromise_resolve(undefined);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined}var j=t("[[AbortSteps]]");var L=t("[[ErrorSteps]]");var D=t("[[CancelSteps]]");var N=t("[[PullSteps]]");var q=Number.isFinite||function(e){return typeof e==="number"&&isFinite(e)};var B=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function U(e){return typeof e==="object"||typeof e==="function"}function W(e,t){if(e!==undefined&&!U(e)){throw new TypeError(t+" is not an object.")}}function z(e,t){if(typeof e!=="function"){throw new TypeError(t+" is not a function.")}}function G(e){return typeof e==="object"&&e!==null||typeof e==="function"}function H(e,t){if(!G(e)){throw new TypeError(t+" is not an object.")}}function V(e,t,r){if(e===undefined){throw new TypeError("Parameter "+t+" is required in '"+r+"'.")}}function X(e,t,r){if(e===undefined){throw new TypeError(t+" is required in '"+r+"'.")}}function Y(e){return Number(e)}function K(e){return e===0?0:e}function Q(e){return K(B(e))}function J(e,t){var r=0;var n=Number.MAX_SAFE_INTEGER;var a=Number(e);a=K(a);if(!q(a)){throw new TypeError(t+" is not a finite number")}a=Q(a);if(a<r||a>n){throw new TypeError(t+" is outside the accepted range of "+r+" to "+n+", inclusive")}if(!q(a)||a===0){return 0}return a}function $(e,t){if(!wn(e)){throw new TypeError(t+" is not a ReadableStream.")}}function Z(e){return new ae(e)}function ee(e,t){e._reader._readRequests.push(t)}function te(e,t,r){var n=e._reader;var a=n._readRequests.shift();if(r){a._closeSteps()}else{a._chunkSteps(t)}}function re(e){return e._reader._readRequests.length}function ne(e){var t=e._reader;if(t===undefined){return false}if(!ie(t)){return false}return true}var ae=function(){function e(e){V(e,1,"ReadableStreamDefaultReader");$(e,"First parameter");if(kn(e)){throw new TypeError("This stream has already been locked for exclusive reading by another reader")}y(this,e);this._readRequests=new p}Object.defineProperty(e.prototype,"closed",{get:function(){if(!ie(this)){return c(se("closed"))}return this._closedPromise},enumerable:false,configurable:true});e.prototype.cancel=function(e){if(e===void 0){e=undefined}if(!ie(this)){return c(se("cancel"))}if(this._ownerReadableStream===undefined){return c(g("cancel"))}return m(this,e)};e.prototype.read=function(){if(!ie(this)){return c(se("read"))}if(this._ownerReadableStream===undefined){return c(g("read from"))}var r;var n;var e=w(function(e,t){r=e;n=t});var t={_chunkSteps:function(e){return r({value:e,done:false})},_closeSteps:function(){return r({value:undefined,done:true})},_errorSteps:function(e){return n(e)}};oe(this,t);return e};e.prototype.releaseLock=function(){if(!ie(this)){throw se("releaseLock")}if(this._ownerReadableStream===undefined){return}if(this._readRequests.length>0){throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled")}E(this)};return e}();Object.defineProperties(ae.prototype,{cancel:{enumerable:true},read:{enumerable:true},releaseLock:{enumerable:true},closed:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(ae.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:true})}function ie(e){if(!a(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readRequests")){return false}return e instanceof ae}function oe(e,t){var r=e._ownerReadableStream;r._disturbed=true;if(r._state==="closed"){t._closeSteps()}else if(r._state==="errored"){t._errorSteps(r._storedError)}else{r._readableStreamController[N](t)}}function se(e){return new TypeError("ReadableStreamDefaultReader.prototype."+e+" can only be used on a ReadableStreamDefaultReader")}var ue;var le;if(typeof t.asyncIterator==="symbol"){le=(ue={},ue[t.asyncIterator]=function(){return this},ue);Object.defineProperty(le,t.asyncIterator,{enumerable:false})}var ce=function(){function e(e,t){this._ongoingPromise=undefined;this._isFinished=false;this._reader=e;this._preventCancel=t}e.prototype.next=function(){var e=this;var t=function(){return e._nextSteps()};this._ongoingPromise=this._ongoingPromise?f(this._ongoingPromise,t,t):t();return this._ongoingPromise};e.prototype.return=function(e){var t=this;var r=function(){return t._returnSteps(e)};return this._ongoingPromise?f(this._ongoingPromise,r,r):r()};e.prototype._nextSteps=function(){var t=this;if(this._isFinished){return Promise.resolve({value:undefined,done:true})}var r=this._reader;if(r._ownerReadableStream===undefined){return c(g("iterate"))}var n;var a;var e=w(function(e,t){n=e;a=t});var i={_chunkSteps:function(e){t._ongoingPromise=undefined;A(function(){return n({value:e,done:false})})},_closeSteps:function(){t._ongoingPromise=undefined;t._isFinished=true;E(r);n({value:undefined,done:true})},_errorSteps:function(e){t._ongoingPromise=undefined;t._isFinished=true;E(r);a(e)}};oe(r,i);return e};e.prototype._returnSteps=function(e){if(this._isFinished){return Promise.resolve({value:e,done:true})}this._isFinished=true;var t=this._reader;if(t._ownerReadableStream===undefined){return c(g("finish iterating"))}if(!this._preventCancel){var r=m(t,e);E(t);return f(r,function(){return{value:e,done:true}})}E(t);return k({value:e,done:true})};return e}();var fe={next:function(){if(!he(this)){return c(ve("next"))}return this._asyncIteratorImpl.next()},return:function(e){if(!he(this)){return c(ve("return"))}return this._asyncIteratorImpl.return(e)}};if(le!==undefined){Object.setPrototypeOf(fe,le)}function de(e,t){var r=Z(e);var n=new ce(r,t);var a=Object.create(fe);a._asyncIteratorImpl=n;return a}function he(e){if(!a(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl")){return false}try{return e._asyncIteratorImpl instanceof ce}catch(e){return false}}function ve(e){return new TypeError("ReadableStreamAsyncIterator."+e+" can only be used on a ReadableSteamAsyncIterator")}var pe=Number.isNaN||function(e){return e!==e};function ye(e){return e.slice()}function me(e,t,r,n,a){new Uint8Array(e).set(new Uint8Array(r,n,a),t)}function ge(e){return e}function be(e){return false}function _e(e,t,r){if(e.slice){return e.slice(t,r)}var n=r-t;var a=new ArrayBuffer(n);me(a,0,e,t,n);return a}function Ae(e){if(typeof e!=="number"){return false}if(pe(e)){return false}if(e<0){return false}return true}function Se(e){var t=_e(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function we(e){var t=e._queue.shift();e._queueTotalSize-=t.size;if(e._queueTotalSize<0){e._queueTotalSize=0}return t.value}function ke(e,t,r){if(!Ae(r)||r===Infinity){throw new RangeError("Size must be a finite, non-NaN, non-negative number.")}e._queue.push({value:t,size:r});e._queueTotalSize+=r}function xe(e){var t=e._queue.peek();return t.value}function Ce(e){e._queue=new p;e._queueTotalSize=0}var Pe=function(){function e(){throw new TypeError("Illegal constructor")}Object.defineProperty(e.prototype,"view",{get:function(){if(!Ee(this)){throw at("view")}return this._view},enumerable:false,configurable:true});e.prototype.respond=function(e){if(!Ee(this)){throw at("respond")}V(e,1,"respond");e=J(e,"First parameter");if(this._associatedReadableByteStreamController===undefined){throw new TypeError("This BYOB request has been invalidated")}if(be(this._view.buffer));Ze(this._associatedReadableByteStreamController,e)};e.prototype.respondWithNewView=function(e){if(!Ee(this)){throw at("respondWithNewView")}V(e,1,"respondWithNewView");if(!ArrayBuffer.isView(e)){throw new TypeError("You can only respond with array buffer views")}if(this._associatedReadableByteStreamController===undefined){throw new TypeError("This BYOB request has been invalidated")}if(be(e.buffer));et(this._associatedReadableByteStreamController,e)};return e}();Object.defineProperties(Pe.prototype,{respond:{enumerable:true},respondWithNewView:{enumerable:true},view:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(Pe.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:true})}var Te=function(){function e(){throw new TypeError("Illegal constructor")}Object.defineProperty(e.prototype,"byobRequest",{get:function(){if(!Re(this)){throw it("byobRequest")}return Je(this)},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Re(this)){throw it("desiredSize")}return $e(this)},enumerable:false,configurable:true});e.prototype.close=function(){if(!Re(this)){throw it("close")}if(this._closeRequested){throw new TypeError("The stream has already been closed; do not close it again!")}var e=this._controlledReadableByteStream._state;if(e!=="readable"){throw new TypeError("The stream (in "+e+" state) is not in the readable state and cannot be closed")}Ye(this)};e.prototype.enqueue=function(e){if(!Re(this)){throw it("enqueue")}V(e,1,"enqueue");if(!ArrayBuffer.isView(e)){throw new TypeError("chunk must be an array buffer view")}if(e.byteLength===0){throw new TypeError("chunk must have non-zero byteLength")}if(e.buffer.byteLength===0){throw new TypeError("chunk's buffer must have non-zero byteLength")}if(this._closeRequested){throw new TypeError("stream is closed or draining")}var t=this._controlledReadableByteStream._state;if(t!=="readable"){throw new TypeError("The stream (in "+t+" state) is not in the readable state and cannot be enqueued to")}Ke(this,e)};e.prototype.error=function(e){if(e===void 0){e=undefined}if(!Re(this)){throw it("error")}Qe(this,e)};e.prototype[D]=function(e){Fe(this);Ce(this);var t=this._cancelAlgorithm(e);Xe(this);return t};e.prototype[N]=function(t){var e=this._controlledReadableByteStream;if(this._queueTotalSize>0){var r=this._queue.shift();this._queueTotalSize-=r.byteLength;Ne(this);var n=new Uint8Array(r.buffer,r.byteOffset,r.byteLength);t._chunkSteps(n);return}var a=this._autoAllocateChunkSize;if(a!==undefined){var i=void 0;try{i=new ArrayBuffer(a)}catch(e){t._errorSteps(e);return}var o={buffer:i,bufferByteLength:a,byteOffset:0,byteLength:a,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(o)}ee(e,t);Oe(this)};return e}();Object.defineProperties(Te.prototype,{close:{enumerable:true},enqueue:{enumerable:true},error:{enumerable:true},byobRequest:{enumerable:true},desiredSize:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(Te.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:true})}function Re(e){if(!a(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")){return false}return e instanceof Te}function Ee(e){if(!a(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")){return false}return e instanceof Pe}function Oe(t){var e=Ve(t);if(!e){return}if(t._pulling){t._pullAgain=true;return}t._pulling=true;var r=t._pullAlgorithm();C(r,function(){t._pulling=false;if(t._pullAgain){t._pullAgain=false;Oe(t)}},function(e){Qe(t,e)})}function Fe(e){qe(e);e._pendingPullIntos=new p}function Me(e,t){var r=false;if(e._state==="closed"){r=true}var n=Ie(t);if(t.readerType==="default"){te(e,n,r)}else{ut(e,n,r)}}function Ie(e){var t=e.bytesFilled;var r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function je(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n});e._queueTotalSize+=n}function Le(e,t){var r=t.elementSize;var n=t.bytesFilled-t.bytesFilled%r;var a=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled);var i=t.bytesFilled+a;var o=i-i%r;var s=a;var u=false;if(o>n){s=o-t.bytesFilled;u=true}var l=e._queue;while(s>0){var c=l.peek();var f=Math.min(s,c.byteLength);var d=t.byteOffset+t.bytesFilled;me(t.buffer,d,c.buffer,c.byteOffset,f);if(c.byteLength===f){l.shift()}else{c.byteOffset+=f;c.byteLength-=f}e._queueTotalSize-=f;De(e,f,t);s-=f}return u}function De(e,t,r){r.bytesFilled+=t}function Ne(e){if(e._queueTotalSize===0&&e._closeRequested){Xe(e);Cn(e._controlledReadableByteStream)}else{Oe(e)}}function qe(e){if(e._byobRequest===null){return}e._byobRequest._associatedReadableByteStreamController=undefined;e._byobRequest._view=null;e._byobRequest=null}function Be(e){while(e._pendingPullIntos.length>0){if(e._queueTotalSize===0){return}var t=e._pendingPullIntos.peek();if(Le(e,t)){He(e);Me(e._controlledReadableByteStream,t)}}}function Ue(e,t,r){var n=e._controlledReadableByteStream;var a=1;if(t.constructor!==DataView){a=t.constructor.BYTES_PER_ELEMENT}var i=t.constructor;var o=ge(t.buffer);var s={buffer:o,bufferByteLength:o.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:a,viewConstructor:i,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(s);st(n,r);return}if(n._state==="closed"){var u=new i(s.buffer,s.byteOffset,0);r._closeSteps(u);return}if(e._queueTotalSize>0){if(Le(e,s)){var l=Ie(s);Ne(e);r._chunkSteps(l);return}if(e._closeRequested){var c=new TypeError("Insufficient bytes to fill elements in the given buffer");Qe(e,c);r._errorSteps(c);return}}e._pendingPullIntos.push(s);st(n,r);Oe(e)}function We(e,t){var r=e._controlledReadableByteStream;if(ct(r)){while(lt(r)>0){var n=He(e);Me(r,n)}}}function ze(e,t,r){De(e,t,r);if(r.bytesFilled<r.elementSize){return}He(e);var n=r.bytesFilled%r.elementSize;if(n>0){var a=r.byteOffset+r.bytesFilled;var i=_e(r.buffer,a-n,a);je(e,i,0,i.byteLength)}r.bytesFilled-=n;Me(e._controlledReadableByteStream,r);Be(e)}function Ge(e,t){var r=e._pendingPullIntos.peek();qe(e);var n=e._controlledReadableByteStream._state;if(n==="closed"){We(e)}else{ze(e,t,r)}Oe(e)}function He(e){var t=e._pendingPullIntos.shift();return t}function Ve(e){var t=e._controlledReadableByteStream;if(t._state!=="readable"){return false}if(e._closeRequested){return false}if(!e._started){return false}if(ne(t)&&re(t)>0){return true}if(ct(t)&&lt(t)>0){return true}var r=$e(e);if(r>0){return true}return false}function Xe(e){e._pullAlgorithm=undefined;e._cancelAlgorithm=undefined}function Ye(e){var t=e._controlledReadableByteStream;if(e._closeRequested||t._state!=="readable"){return}if(e._queueTotalSize>0){e._closeRequested=true;return}if(e._pendingPullIntos.length>0){var r=e._pendingPullIntos.peek();if(r.bytesFilled>0){var n=new TypeError("Insufficient bytes to fill elements in the given buffer");Qe(e,n);throw n}}Xe(e);Cn(t)}function Ke(e,t){var r=e._controlledReadableByteStream;if(e._closeRequested||r._state!=="readable"){return}var n=t.buffer;var a=t.byteOffset;var i=t.byteLength;var o=ge(n);if(e._pendingPullIntos.length>0){var s=e._pendingPullIntos.peek();if(be(s.buffer));s.buffer=ge(s.buffer)}qe(e);if(ne(r)){if(re(r)===0){je(e,o,a,i)}else{if(e._pendingPullIntos.length>0){He(e)}var u=new Uint8Array(o,a,i);te(r,u,false)}}else if(ct(r)){je(e,o,a,i);Be(e)}else{je(e,o,a,i)}Oe(e)}function Qe(e,t){var r=e._controlledReadableByteStream;if(r._state!=="readable"){return}Fe(e);Ce(e);Xe(e);Pn(r,t)}function Je(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){var t=e._pendingPullIntos.peek();var r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled);var n=Object.create(Pe.prototype);nt(n,e,r);e._byobRequest=n}return e._byobRequest}function $e(e){var t=e._controlledReadableByteStream._state;if(t==="errored"){return null}if(t==="closed"){return 0}return e._strategyHWM-e._queueTotalSize}function Ze(e,t){var r=e._pendingPullIntos.peek();var n=e._controlledReadableByteStream._state;if(n==="closed"){if(t!==0){throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}}else{if(t===0){throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream")}if(r.bytesFilled+t>r.byteLength){throw new RangeError("bytesWritten out of range")}}r.buffer=ge(r.buffer);Ge(e,t)}function et(e,t){var r=e._pendingPullIntos.peek();var n=e._controlledReadableByteStream._state;if(n==="closed"){if(t.byteLength!==0){throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}}else{if(t.byteLength===0){throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream")}}if(r.byteOffset+r.bytesFilled!==t.byteOffset){throw new RangeError("The region specified by view does not match byobRequest")}if(r.bufferByteLength!==t.buffer.byteLength){throw new RangeError("The buffer of view has different capacity than byobRequest")}if(r.bytesFilled+t.byteLength>r.byteLength){throw new RangeError("The region specified by view is larger than byobRequest")}var a=t.byteLength;r.buffer=ge(t.buffer);Ge(e,a)}function tt(e,t,r,n,a,i,o){t._controlledReadableByteStream=e;t._pullAgain=false;t._pulling=false;t._byobRequest=null;t._queue=t._queueTotalSize=undefined;Ce(t);t._closeRequested=false;t._started=false;t._strategyHWM=i;t._pullAlgorithm=n;t._cancelAlgorithm=a;t._autoAllocateChunkSize=o;t._pendingPullIntos=new p;e._readableStreamController=t;var s=r();C(k(s),function(){t._started=true;Oe(t)},function(e){Qe(t,e)})}function rt(e,t,r){var n=Object.create(Te.prototype);var a=function(){return undefined};var i=function(){return k(undefined)};var o=function(){return k(undefined)};if(t.start!==undefined){a=function(){return t.start(n)}}if(t.pull!==undefined){i=function(){return t.pull(n)}}if(t.cancel!==undefined){o=function(e){return t.cancel(e)}}var s=t.autoAllocateChunkSize;if(s===0){throw new TypeError("autoAllocateChunkSize must be greater than 0")}tt(e,n,a,i,o,r,s)}function nt(e,t,r){e._associatedReadableByteStreamController=t;e._view=r}function at(e){return new TypeError("ReadableStreamBYOBRequest.prototype."+e+" can only be used on a ReadableStreamBYOBRequest")}function it(e){return new TypeError("ReadableByteStreamController.prototype."+e+" can only be used on a ReadableByteStreamController")}function ot(e){return new ft(e)}function st(e,t){e._reader._readIntoRequests.push(t)}function ut(e,t,r){var n=e._reader;var a=n._readIntoRequests.shift();if(r){a._closeSteps(t)}else{a._chunkSteps(t)}}function lt(e){return e._reader._readIntoRequests.length}function ct(e){var t=e._reader;if(t===undefined){return false}if(!dt(t)){return false}return true}var ft=function(){function e(e){V(e,1,"ReadableStreamBYOBReader");$(e,"First parameter");if(kn(e)){throw new TypeError("This stream has already been locked for exclusive reading by another reader")}if(!Re(e._readableStreamController)){throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte "+"source")}y(this,e);this._readIntoRequests=new p}Object.defineProperty(e.prototype,"closed",{get:function(){if(!dt(this)){return c(vt("closed"))}return this._closedPromise},enumerable:false,configurable:true});e.prototype.cancel=function(e){if(e===void 0){e=undefined}if(!dt(this)){return c(vt("cancel"))}if(this._ownerReadableStream===undefined){return c(g("cancel"))}return m(this,e)};e.prototype.read=function(e){if(!dt(this)){return c(vt("read"))}if(!ArrayBuffer.isView(e)){return c(new TypeError("view must be an array buffer view"))}if(e.byteLength===0){return c(new TypeError("view must have non-zero byteLength"))}if(e.buffer.byteLength===0){return c(new TypeError("view's buffer must have non-zero byteLength"))}if(be(e.buffer));if(this._ownerReadableStream===undefined){return c(g("read from"))}var r;var n;var t=w(function(e,t){r=e;n=t});var a={_chunkSteps:function(e){return r({value:e,done:false})},_closeSteps:function(e){return r({value:e,done:true})},_errorSteps:function(e){return n(e)}};ht(this,e,a);return t};e.prototype.releaseLock=function(){if(!dt(this)){throw vt("releaseLock")}if(this._ownerReadableStream===undefined){return}if(this._readIntoRequests.length>0){throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled")}E(this)};return e}();Object.defineProperties(ft.prototype,{cancel:{enumerable:true},read:{enumerable:true},releaseLock:{enumerable:true},closed:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(ft.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:true})}function dt(e){if(!a(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")){return false}return e instanceof ft}function ht(e,t,r){var n=e._ownerReadableStream;n._disturbed=true;if(n._state==="errored"){r._errorSteps(n._storedError)}else{Ue(n._readableStreamController,t,r)}}function vt(e){return new TypeError("ReadableStreamBYOBReader.prototype."+e+" can only be used on a ReadableStreamBYOBReader")}function pt(e,t){var r=e.highWaterMark;if(r===undefined){return t}if(pe(r)||r<0){throw new RangeError("Invalid highWaterMark")}return r}function yt(e){var t=e.size;if(!t){return function(){return 1}}return t}function mt(e,t){W(e,t);var r=e===null||e===void 0?void 0:e.highWaterMark;var n=e===null||e===void 0?void 0:e.size;return{highWaterMark:r===undefined?undefined:Y(r),size:n===undefined?undefined:gt(n,t+" has member 'size' that")}}function gt(t,e){z(t,e);return function(e){return Y(t(e))}}function bt(e,t){W(e,t);var r=e===null||e===void 0?void 0:e.abort;var n=e===null||e===void 0?void 0:e.close;var a=e===null||e===void 0?void 0:e.start;var i=e===null||e===void 0?void 0:e.type;var o=e===null||e===void 0?void 0:e.write;return{abort:r===undefined?undefined:_t(r,e,t+" has member 'abort' that"),close:n===undefined?undefined:At(n,e,t+" has member 'close' that"),start:a===undefined?undefined:St(a,e,t+" has member 'start' that"),write:o===undefined?undefined:wt(o,e,t+" has member 'write' that"),type:i}}function _t(t,r,e){z(t,e);return function(e){return h(t,r,[e])}}function At(e,t,r){z(e,r);return function(){return h(e,t,[])}}function St(t,r,e){z(t,e);return function(e){return d(t,r,[e])}}function wt(r,n,e){z(r,e);return function(e,t){return h(r,n,[e,t])}}function kt(e,t){if(!Ft(e)){throw new TypeError(t+" is not a WritableStream.")}}function xt(e){if(typeof e!=="object"||e===null){return false}try{return typeof e.aborted==="boolean"}catch(e){return false}}var Ct=typeof AbortController==="function";function Pt(){if(Ct){return new AbortController}return undefined}var Tt=function(){function e(e,t){if(e===void 0){e={}}if(t===void 0){t={}}if(e===undefined){e=null}else{H(e,"First parameter")}var r=mt(t,"Second parameter");var n=bt(e,"First parameter");Ot(this);var a=n.type;if(a!==undefined){throw new RangeError("Invalid type is specified")}var i=yt(r);var o=pt(r,1);cr(this,n,o,i)}Object.defineProperty(e.prototype,"locked",{get:function(){if(!Ft(this)){throw Sr("locked")}return Mt(this)},enumerable:false,configurable:true});e.prototype.abort=function(e){if(e===void 0){e=undefined}if(!Ft(this)){return c(Sr("abort"))}if(Mt(this)){return c(new TypeError("Cannot abort a stream that already has a writer"))}return It(this,e)};e.prototype.close=function(){if(!Ft(this)){return c(Sr("close"))}if(Mt(this)){return c(new TypeError("Cannot close a stream that already has a writer"))}if(Gt(this)){return c(new TypeError("Cannot close an already-closing stream"))}return jt(this)};e.prototype.getWriter=function(){if(!Ft(this)){throw Sr("getWriter")}return Rt(this)};return e}();Object.defineProperties(Tt.prototype,{abort:{enumerable:true},close:{enumerable:true},getWriter:{enumerable:true},locked:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(Tt.prototype,t.toStringTag,{value:"WritableStream",configurable:true})}function Rt(e){return new Qt(e)}function Et(e,t,r,n,a,i){if(a===void 0){a=1}if(i===void 0){i=function(){return 1}}var o=Object.create(Tt.prototype);Ot(o);var s=Object.create(sr.prototype);lr(o,s,e,t,r,n,a,i);return o}function Ot(e){e._state="writable";e._storedError=undefined;e._writer=undefined;e._writableStreamController=undefined;e._writeRequests=new p;e._inFlightWriteRequest=undefined;e._closeRequest=undefined;e._inFlightCloseRequest=undefined;e._pendingAbortRequest=undefined;e._backpressure=false}function Ft(e){if(!a(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")){return false}return e instanceof Tt}function Mt(e){if(e._writer===undefined){return false}return true}function It(r,n){var e;if(r._state==="closed"||r._state==="errored"){return k(undefined)}r._writableStreamController._abortReason=n;(e=r._writableStreamController._abortController)===null||e===void 0?void 0:e.abort();var t=r._state;if(t==="closed"||t==="errored"){return k(undefined)}if(r._pendingAbortRequest!==undefined){return r._pendingAbortRequest._promise}var a=false;if(t==="erroring"){a=true;n=undefined}var i=w(function(e,t){r._pendingAbortRequest={_promise:undefined,_resolve:e,_reject:t,_reason:n,_wasAlreadyErroring:a}});r._pendingAbortRequest._promise=i;if(!a){Nt(r,n)}return i}function jt(n){var e=n._state;if(e==="closed"||e==="errored"){return c(new TypeError("The stream (in "+e+" state) is not in the writable state and cannot be closed"))}var t=w(function(e,t){var r={_resolve:e,_reject:t};n._closeRequest=r});var r=n._writer;if(r!==undefined&&n._backpressure&&e==="writable"){Nr(r)}dr(n._writableStreamController);return t}function Lt(n){var e=w(function(e,t){var r={_resolve:e,_reject:t};n._writeRequests.push(r)});return e}function Dt(e,t){var r=e._state;if(r==="writable"){Nt(e,t);return}qt(e)}function Nt(e,t){var r=e._writableStreamController;e._state="erroring";e._storedError=t;var n=e._writer;if(n!==undefined){rr(n,t)}if(!Ht(e)&&r._started){qt(e)}}function qt(t){t._state="errored";t._writableStreamController[L]();var r=t._storedError;t._writeRequests.forEach(function(e){e._reject(r)});t._writeRequests=new p;if(t._pendingAbortRequest===undefined){Yt(t);return}var n=t._pendingAbortRequest;t._pendingAbortRequest=undefined;if(n._wasAlreadyErroring){n._reject(r);Yt(t);return}var e=t._writableStreamController[j](n._reason);C(e,function(){n._resolve();Yt(t)},function(e){n._reject(e);Yt(t)})}function Bt(e){e._inFlightWriteRequest._resolve(undefined);e._inFlightWriteRequest=undefined}function Ut(e,t){e._inFlightWriteRequest._reject(t);e._inFlightWriteRequest=undefined;Dt(e,t)}function Wt(e){e._inFlightCloseRequest._resolve(undefined);e._inFlightCloseRequest=undefined;var t=e._state;if(t==="erroring"){e._storedError=undefined;if(e._pendingAbortRequest!==undefined){e._pendingAbortRequest._resolve();e._pendingAbortRequest=undefined}}e._state="closed";var r=e._writer;if(r!==undefined){Or(r)}}function zt(e,t){e._inFlightCloseRequest._reject(t);e._inFlightCloseRequest=undefined;if(e._pendingAbortRequest!==undefined){e._pendingAbortRequest._reject(t);e._pendingAbortRequest=undefined}Dt(e,t)}function Gt(e){if(e._closeRequest===undefined&&e._inFlightCloseRequest===undefined){return false}return true}function Ht(e){if(e._inFlightWriteRequest===undefined&&e._inFlightCloseRequest===undefined){return false}return true}function Vt(e){e._inFlightCloseRequest=e._closeRequest;e._closeRequest=undefined}function Xt(e){e._inFlightWriteRequest=e._writeRequests.shift()}function Yt(e){if(e._closeRequest!==undefined){e._closeRequest._reject(e._storedError);e._closeRequest=undefined}var t=e._writer;if(t!==undefined){Rr(t,e._storedError)}}function Kt(e,t){var r=e._writer;if(r!==undefined&&t!==e._backpressure){if(t){Lr(r)}else{Nr(r)}}e._backpressure=t}var Qt=function(){function e(e){V(e,1,"WritableStreamDefaultWriter");kt(e,"First parameter");if(Mt(e)){throw new TypeError("This stream has already been locked for exclusive writing by another writer")}this._ownerWritableStream=e;e._writer=this;var t=e._state;if(t==="writable"){if(!Gt(e)&&e._backpressure){Fr(this)}else{Ir(this)}Cr(this)}else if(t==="erroring"){Mr(this,e._storedError);Cr(this)}else if(t==="closed"){Ir(this);Tr(this)}else{var r=e._storedError;Mr(this,r);Pr(this,r)}}Object.defineProperty(e.prototype,"closed",{get:function(){if(!Jt(this)){return c(kr("closed"))}return this._closedPromise},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Jt(this)){throw kr("desiredSize")}if(this._ownerWritableStream===undefined){throw xr("desiredSize")}return nr(this)},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"ready",{get:function(){if(!Jt(this)){return c(kr("ready"))}return this._readyPromise},enumerable:false,configurable:true});e.prototype.abort=function(e){if(e===void 0){e=undefined}if(!Jt(this)){return c(kr("abort"))}if(this._ownerWritableStream===undefined){return c(xr("abort"))}return $t(this,e)};e.prototype.close=function(){if(!Jt(this)){return c(kr("close"))}var e=this._ownerWritableStream;if(e===undefined){return c(xr("close"))}if(Gt(e)){return c(new TypeError("Cannot close an already-closing stream"))}return Zt(this)};e.prototype.releaseLock=function(){if(!Jt(this)){throw kr("releaseLock")}var e=this._ownerWritableStream;if(e===undefined){return}ar(this)};e.prototype.write=function(e){if(e===void 0){e=undefined}if(!Jt(this)){return c(kr("write"))}if(this._ownerWritableStream===undefined){return c(xr("write to"))}return ir(this,e)};return e}();Object.defineProperties(Qt.prototype,{abort:{enumerable:true},close:{enumerable:true},releaseLock:{enumerable:true},write:{enumerable:true},closed:{enumerable:true},desiredSize:{enumerable:true},ready:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(Qt.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:true})}function Jt(e){if(!a(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")){return false}return e instanceof Qt}function $t(e,t){var r=e._ownerWritableStream;return It(r,t)}function Zt(e){var t=e._ownerWritableStream;return jt(t)}function er(e){var t=e._ownerWritableStream;var r=t._state;if(Gt(t)||r==="closed"){return k(undefined)}if(r==="errored"){return c(t._storedError)}return Zt(e)}function tr(e,t){if(e._closedPromiseState==="pending"){Rr(e,t)}else{Er(e,t)}}function rr(e,t){if(e._readyPromiseState==="pending"){jr(e,t)}else{Dr(e,t)}}function nr(e){var t=e._ownerWritableStream;var r=t._state;if(r==="errored"||r==="erroring"){return null}if(r==="closed"){return 0}return vr(t._writableStreamController)}function ar(e){var t=e._ownerWritableStream;var r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");rr(e,r);tr(e,r);t._writer=undefined;e._ownerWritableStream=undefined}function ir(e,t){var r=e._ownerWritableStream;var n=r._writableStreamController;var a=hr(n,t);if(r!==e._ownerWritableStream){return c(xr("write to"))}var i=r._state;if(i==="errored"){return c(r._storedError)}if(Gt(r)||i==="closed"){return c(new TypeError("The stream is closing or closed and cannot be written to"))}if(i==="erroring"){return c(r._storedError)}var o=Lt(r);pr(n,t,a);return o}var or={};var sr=function(){function e(){throw new TypeError("Illegal constructor")}Object.defineProperty(e.prototype,"abortReason",{get:function(){if(!ur(this)){throw wr("abortReason")}return this._abortReason},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"signal",{get:function(){if(!ur(this)){throw wr("signal")}if(this._abortController===undefined){throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported")}return this._abortController.signal},enumerable:false,configurable:true});e.prototype.error=function(e){if(e===void 0){e=undefined}if(!ur(this)){throw wr("error")}var t=this._controlledWritableStream._state;if(t!=="writable"){return}Ar(this,e)};e.prototype[j]=function(e){var t=this._abortAlgorithm(e);fr(this);return t};e.prototype[L]=function(){Ce(this)};return e}();Object.defineProperties(sr.prototype,{abortReason:{enumerable:true},signal:{enumerable:true},error:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(sr.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:true})}function ur(e){if(!a(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")){return false}return e instanceof sr}function lr(t,r,e,n,a,i,o,s){r._controlledWritableStream=t;t._writableStreamController=r;r._queue=undefined;r._queueTotalSize=undefined;Ce(r);r._abortReason=undefined;r._abortController=Pt();r._started=false;r._strategySizeAlgorithm=s;r._strategyHWM=o;r._writeAlgorithm=n;r._closeAlgorithm=a;r._abortAlgorithm=i;var u=_r(r);Kt(t,u);var l=e();var c=k(l);C(c,function(){r._started=true;yr(r)},function(e){r._started=true;Dt(t,e)})}function cr(e,t,r,n){var a=Object.create(sr.prototype);var i=function(){return undefined};var o=function(){return k(undefined)};var s=function(){return k(undefined)};var u=function(){return k(undefined)};if(t.start!==undefined){i=function(){return t.start(a)}}if(t.write!==undefined){o=function(e){return t.write(e,a)}}if(t.close!==undefined){s=function(){return t.close()}}if(t.abort!==undefined){u=function(e){return t.abort(e)}}lr(e,a,i,o,s,u,r,n)}function fr(e){e._writeAlgorithm=undefined;e._closeAlgorithm=undefined;e._abortAlgorithm=undefined;e._strategySizeAlgorithm=undefined}function dr(e){ke(e,or,0);yr(e)}function hr(t,e){try{return t._strategySizeAlgorithm(e)}catch(e){mr(t,e);return 1}}function vr(e){return e._strategyHWM-e._queueTotalSize}function pr(t,e,r){try{ke(t,e,r)}catch(e){mr(t,e);return}var n=t._controlledWritableStream;if(!Gt(n)&&n._state==="writable"){var a=_r(t);Kt(n,a)}yr(t)}function yr(e){var t=e._controlledWritableStream;if(!e._started){return}if(t._inFlightWriteRequest!==undefined){return}var r=t._state;if(r==="erroring"){qt(t);return}if(e._queue.length===0){return}var n=xe(e);if(n===or){gr(e)}else{br(e,n)}}function mr(e,t){if(e._controlledWritableStream._state==="writable"){Ar(e,t)}}function gr(e){var t=e._controlledWritableStream;Vt(t);we(e);var r=e._closeAlgorithm();fr(e);C(r,function(){Wt(t)},function(e){zt(t,e)})}function br(r,e){var n=r._controlledWritableStream;Xt(n);var t=r._writeAlgorithm(e);C(t,function(){Bt(n);var e=n._state;we(r);if(!Gt(n)&&e==="writable"){var t=_r(r);Kt(n,t)}yr(r)},function(e){if(n._state==="writable"){fr(r)}Ut(n,e)})}function _r(e){var t=vr(e);return t<=0}function Ar(e,t){var r=e._controlledWritableStream;fr(e);Nt(r,t)}function Sr(e){return new TypeError("WritableStream.prototype."+e+" can only be used on a WritableStream")}function wr(e){return new TypeError("WritableStreamDefaultController.prototype."+e+" can only be used on a WritableStreamDefaultController")}function kr(e){return new TypeError("WritableStreamDefaultWriter.prototype."+e+" can only be used on a WritableStreamDefaultWriter")}function xr(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Cr(r){r._closedPromise=w(function(e,t){r._closedPromise_resolve=e;r._closedPromise_reject=t;r._closedPromiseState="pending"})}function Pr(e,t){Cr(e);Rr(e,t)}function Tr(e){Cr(e);Or(e)}function Rr(e,t){if(e._closedPromise_reject===undefined){return}R(e._closedPromise);e._closedPromise_reject(t);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined;e._closedPromiseState="rejected"}function Er(e,t){Pr(e,t)}function Or(e){if(e._closedPromise_resolve===undefined){return}e._closedPromise_resolve(undefined);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined;e._closedPromiseState="resolved"}function Fr(r){r._readyPromise=w(function(e,t){r._readyPromise_resolve=e;r._readyPromise_reject=t});r._readyPromiseState="pending"}function Mr(e,t){Fr(e);jr(e,t)}function Ir(e){Fr(e);Nr(e)}function jr(e,t){if(e._readyPromise_reject===undefined){return}R(e._readyPromise);e._readyPromise_reject(t);e._readyPromise_resolve=undefined;e._readyPromise_reject=undefined;e._readyPromiseState="rejected"}function Lr(e){Fr(e)}function Dr(e,t){Mr(e,t)}function Nr(e){if(e._readyPromise_resolve===undefined){return}e._readyPromise_resolve(undefined);e._readyPromise_resolve=undefined;e._readyPromise_reject=undefined;e._readyPromiseState="fulfilled"}var qr=typeof DOMException!=="undefined"?DOMException:undefined;function Br(e){if(!(typeof e==="function"||typeof e==="object")){return false}try{new e;return true}catch(e){return false}}function Ur(){var e=function e(t,r){this.message=t||"";this.name=r||"Error";if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}};e.prototype=Object.create(Error.prototype);Object.defineProperty(e.prototype,"constructor",{value:e,writable:true,configurable:true});return e}var Wr=Br(qr)?qr:Ur();function zr(d,h,v,p,y,m){var g=Z(d);var b=Rt(h);d._disturbed=true;var _=false;var A=k(undefined);return w(function(r,n){var a;if(m!==undefined){a=function(){var e=new Wr("Aborted","AbortError");var t=[];if(!p){t.push(function(){if(h._state==="writable"){return It(h,e)}return k(undefined)})}if(!y){t.push(function(){if(d._state==="readable"){return xn(d,e)}return k(undefined)})}l(function(){return Promise.all(t.map(function(e){return e()}))},true,e)};if(m.aborted){a();return}m.addEventListener("abort",a)}function e(){return w(function(t,r){function n(e){if(e){t()}else{x(i(),n,r)}}n(false)})}function i(){if(_){return k(true)}return x(b._readyPromise,function(){return w(function(t,e){oe(g,{_chunkSteps:function(e){A=x(ir(b,e),undefined,S);t(false)},_closeSteps:function(){return t(true)},_errorSteps:e})})})}s(d,g._closedPromise,function(e){if(!p){l(function(){return It(h,e)},true,e)}else{c(true,e)}});s(h,b._closedPromise,function(e){if(!y){l(function(){return xn(d,e)},true,e)}else{c(true,e)}});u(d,g._closedPromise,function(){if(!v){l(function(){return er(b)})}else{c()}});if(Gt(h)||h._state==="closed"){var t=new TypeError("the destination writable stream closed before all data could be piped to it");if(!y){l(function(){return xn(d,t)},true,t)}else{c(true,t)}}R(e());function o(){var e=A;return x(A,function(){return e!==A?o():undefined})}function s(e,t,r){if(e._state==="errored"){r(e._storedError)}else{T(t,r)}}function u(e,t,r){if(e._state==="closed"){r()}else{P(t,r)}}function l(e,t,r){if(_){return}_=true;if(h._state==="writable"&&!Gt(h)){P(o(),n)}else{n()}function n(){C(e(),function(){return f(t,r)},function(e){return f(true,e)})}}function c(e,t){if(_){return}_=true;if(h._state==="writable"&&!Gt(h)){P(o(),function(){return f(e,t)})}else{f(e,t)}}function f(e,t){ar(b);E(g);if(m!==undefined){m.removeEventListener("abort",a)}if(e){n(t)}else{r(undefined)}}})}var Gr=function(){function e(){throw new TypeError("Illegal constructor")}Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Hr(this)){throw nn("desiredSize")}return $r(this)},enumerable:false,configurable:true});e.prototype.close=function(){if(!Hr(this)){throw nn("close")}if(!en(this)){throw new TypeError("The stream is not in a state that permits close")}Kr(this)};e.prototype.enqueue=function(e){if(e===void 0){e=undefined}if(!Hr(this)){throw nn("enqueue")}if(!en(this)){throw new TypeError("The stream is not in a state that permits enqueue")}return Qr(this,e)};e.prototype.error=function(e){if(e===void 0){e=undefined}if(!Hr(this)){throw nn("error")}Jr(this,e)};e.prototype[D]=function(e){Ce(this);var t=this._cancelAlgorithm(e);Yr(this);return t};e.prototype[N]=function(e){var t=this._controlledReadableStream;if(this._queue.length>0){var r=we(this);if(this._closeRequested&&this._queue.length===0){Yr(this);Cn(t)}else{Vr(this)}e._chunkSteps(r)}else{ee(t,e);Vr(this)}};return e}();Object.defineProperties(Gr.prototype,{close:{enumerable:true},enqueue:{enumerable:true},error:{enumerable:true},desiredSize:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(Gr.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:true})}function Hr(e){if(!a(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")){return false}return e instanceof Gr}function Vr(t){var e=Xr(t);if(!e){return}if(t._pulling){t._pullAgain=true;return}t._pulling=true;var r=t._pullAlgorithm();C(r,function(){t._pulling=false;if(t._pullAgain){t._pullAgain=false;Vr(t)}},function(e){Jr(t,e)})}function Xr(e){var t=e._controlledReadableStream;if(!en(e)){return false}if(!e._started){return false}if(kn(t)&&re(t)>0){return true}var r=$r(e);if(r>0){return true}return false}function Yr(e){e._pullAlgorithm=undefined;e._cancelAlgorithm=undefined;e._strategySizeAlgorithm=undefined}function Kr(e){if(!en(e)){return}var t=e._controlledReadableStream;e._closeRequested=true;if(e._queue.length===0){Yr(e);Cn(t)}}function Qr(t,e){if(!en(t)){return}var r=t._controlledReadableStream;if(kn(r)&&re(r)>0){te(r,e,false)}else{var n=void 0;try{n=t._strategySizeAlgorithm(e)}catch(e){Jr(t,e);throw e}try{ke(t,e,n)}catch(e){Jr(t,e);throw e}}Vr(t)}function Jr(e,t){var r=e._controlledReadableStream;if(r._state!=="readable"){return}Ce(e);Yr(e);Pn(r,t)}function $r(e){var t=e._controlledReadableStream._state;if(t==="errored"){return null}if(t==="closed"){return 0}return e._strategyHWM-e._queueTotalSize}function Zr(e){if(Xr(e)){return false}return true}function en(e){var t=e._controlledReadableStream._state;if(!e._closeRequested&&t==="readable"){return true}return false}function tn(e,t,r,n,a,i,o){t._controlledReadableStream=e;t._queue=undefined;t._queueTotalSize=undefined;Ce(t);t._started=false;t._closeRequested=false;t._pullAgain=false;t._pulling=false;t._strategySizeAlgorithm=o;t._strategyHWM=i;t._pullAlgorithm=n;t._cancelAlgorithm=a;e._readableStreamController=t;var s=r();C(k(s),function(){t._started=true;Vr(t)},function(e){Jr(t,e)})}function rn(e,t,r,n){var a=Object.create(Gr.prototype);var i=function(){return undefined};var o=function(){return k(undefined)};var s=function(){return k(undefined)};if(t.start!==undefined){i=function(){return t.start(a)}}if(t.pull!==undefined){o=function(){return t.pull(a)}}if(t.cancel!==undefined){s=function(e){return t.cancel(e)}}tn(e,a,i,o,s,r,n)}function nn(e){return new TypeError("ReadableStreamDefaultController.prototype."+e+" can only be used on a ReadableStreamDefaultController")}function an(e,t){if(Re(e._readableStreamController)){return sn(e)}return on(e)}function on(n,e){var t=Z(n);var a=false;var i=false;var o=false;var s=false;var u;var l;var c;var f;var d;var h=w(function(e){d=e});function v(){if(a){i=true;return k(undefined)}a=true;var e={_chunkSteps:function(r){A(function(){i=false;var e=r;var t=r;if(!o){Qr(c._readableStreamController,e)}if(!s){Qr(f._readableStreamController,t)}a=false;if(i){v()}})},_closeSteps:function(){a=false;if(!o){Kr(c._readableStreamController)}if(!s){Kr(f._readableStreamController)}if(!o||!s){d(undefined)}},_errorSteps:function(){a=false}};oe(t,e);return k(undefined)}function r(e){o=true;u=e;if(s){var t=ye([u,l]);var r=xn(n,t);d(r)}return h}function p(e){s=true;l=e;if(o){var t=ye([u,l]);var r=xn(n,t);d(r)}return h}function y(){}c=_n(y,v,r);f=_n(y,v,p);T(t._closedPromise,function(e){Jr(c._readableStreamController,e);Jr(f._readableStreamController,e);if(!o||!s){d(undefined)}});return[c,f]}function sn(s){var r=Z(s);var u=false;var l=false;var c=false;var f=false;var d=false;var n;var a;var h;var v;var p;var i=w(function(e){p=e});function y(t){T(t._closedPromise,function(e){if(t!==r){return}Qe(h._readableStreamController,e);Qe(v._readableStreamController,e);if(!f||!d){p(undefined)}})}function t(){if(dt(r)){E(r);r=Z(s);y(r)}var e={_chunkSteps:function(r){A(function(){l=false;c=false;var e=r;var t=r;if(!f&&!d){try{t=Se(r)}catch(e){Qe(h._readableStreamController,e);Qe(v._readableStreamController,e);p(xn(s,e));return}}if(!f){Ke(h._readableStreamController,e)}if(!d){Ke(v._readableStreamController,t)}u=false;if(l){m()}else if(c){g()}})},_closeSteps:function(){u=false;if(!f){Ye(h._readableStreamController)}if(!d){Ye(v._readableStreamController)}if(h._readableStreamController._pendingPullIntos.length>0){Ze(h._readableStreamController,0)}if(v._readableStreamController._pendingPullIntos.length>0){Ze(v._readableStreamController,0)}if(!f||!d){p(undefined)}},_errorSteps:function(){u=false}};oe(r,e)}function o(e,a){if(ie(r)){E(r);r=ot(s);y(r)}var i=a?v:h;var o=a?h:v;var t={_chunkSteps:function(n){A(function(){l=false;c=false;var e=a?d:f;var t=a?f:d;if(!t){var r=void 0;try{r=Se(n)}catch(e){Qe(i._readableStreamController,e);Qe(o._readableStreamController,e);p(xn(s,e));return}if(!e){et(i._readableStreamController,n)}Ke(o._readableStreamController,r)}else if(!e){et(i._readableStreamController,n)}u=false;if(l){m()}else if(c){g()}})},_closeSteps:function(e){u=false;var t=a?d:f;var r=a?f:d;if(!t){Ye(i._readableStreamController)}if(!r){Ye(o._readableStreamController)}if(e!==undefined){if(!t){et(i._readableStreamController,e)}if(!r&&o._readableStreamController._pendingPullIntos.length>0){Ze(o._readableStreamController,0)}}if(!t||!r){p(undefined)}},_errorSteps:function(){u=false}};ht(r,e,t)}function m(){if(u){l=true;return k(undefined)}u=true;var e=Je(h._readableStreamController);if(e===null){t()}else{o(e._view,false)}return k(undefined)}function g(){if(u){c=true;return k(undefined)}u=true;var e=Je(v._readableStreamController);if(e===null){t()}else{o(e._view,true)}return k(undefined)}function e(e){f=true;n=e;if(d){var t=ye([n,a]);var r=xn(s,t);p(r)}return i}function b(e){d=true;a=e;if(f){var t=ye([n,a]);var r=xn(s,t);p(r)}return i}function _(){}h=An(_,m,e);v=An(_,g,b);y(r);return[h,v]}function un(e,t){W(e,t);var r=e;var n=r===null||r===void 0?void 0:r.autoAllocateChunkSize;var a=r===null||r===void 0?void 0:r.cancel;var i=r===null||r===void 0?void 0:r.pull;var o=r===null||r===void 0?void 0:r.start;var s=r===null||r===void 0?void 0:r.type;return{autoAllocateChunkSize:n===undefined?undefined:J(n,t+" has member 'autoAllocateChunkSize' that"),cancel:a===undefined?undefined:ln(a,r,t+" has member 'cancel' that"),pull:i===undefined?undefined:cn(i,r,t+" has member 'pull' that"),start:o===undefined?undefined:fn(o,r,t+" has member 'start' that"),type:s===undefined?undefined:dn(s,t+" has member 'type' that")}}function ln(t,r,e){z(t,e);return function(e){return h(t,r,[e])}}function cn(t,r,e){z(t,e);return function(e){return h(t,r,[e])}}function fn(t,r,e){z(t,e);return function(e){return d(t,r,[e])}}function dn(e,t){e=""+e;if(e!=="bytes"){throw new TypeError(t+" '"+e+"' is not a valid enumeration value for ReadableStreamType")}return e}function hn(e,t){W(e,t);var r=e===null||e===void 0?void 0:e.mode;return{mode:r===undefined?undefined:vn(r,t+" has member 'mode' that")}}function vn(e,t){e=""+e;if(e!=="byob"){throw new TypeError(t+" '"+e+"' is not a valid enumeration value for ReadableStreamReaderMode")}return e}function pn(e,t){W(e,t);var r=e===null||e===void 0?void 0:e.preventCancel;return{preventCancel:Boolean(r)}}function yn(e,t){W(e,t);var r=e===null||e===void 0?void 0:e.preventAbort;var n=e===null||e===void 0?void 0:e.preventCancel;var a=e===null||e===void 0?void 0:e.preventClose;var i=e===null||e===void 0?void 0:e.signal;if(i!==undefined){mn(i,t+" has member 'signal' that")}return{preventAbort:Boolean(r),preventCancel:Boolean(n),preventClose:Boolean(a),signal:i}}function mn(e,t){if(!xt(e)){throw new TypeError(t+" is not an AbortSignal.")}}function gn(e,t){W(e,t);var r=e===null||e===void 0?void 0:e.readable;X(r,"readable","ReadableWritablePair");$(r,t+" has member 'readable' that");var n=e===null||e===void 0?void 0:e.writable;X(n,"writable","ReadableWritablePair");kt(n,t+" has member 'writable' that");return{readable:r,writable:n}}var bn=function(){function e(e,t){if(e===void 0){e={}}if(t===void 0){t={}}if(e===undefined){e=null}else{H(e,"First parameter")}var r=mt(t,"Second parameter");var n=un(e,"First parameter");Sn(this);if(n.type==="bytes"){if(r.size!==undefined){throw new RangeError("The strategy for a byte stream cannot have a size function")}var a=pt(r,0);rt(this,n,a)}else{var i=yt(r);var a=pt(r,1);rn(this,n,a,i)}}Object.defineProperty(e.prototype,"locked",{get:function(){if(!wn(this)){throw Tn("locked")}return kn(this)},enumerable:false,configurable:true});e.prototype.cancel=function(e){if(e===void 0){e=undefined}if(!wn(this)){return c(Tn("cancel"))}if(kn(this)){return c(new TypeError("Cannot cancel a stream that already has a reader"))}return xn(this,e)};e.prototype.getReader=function(e){if(e===void 0){e=undefined}if(!wn(this)){throw Tn("getReader")}var t=hn(e,"First parameter");if(t.mode===undefined){return Z(this)}return ot(this)};e.prototype.pipeThrough=function(e,t){if(t===void 0){t={}}if(!wn(this)){throw Tn("pipeThrough")}V(e,1,"pipeThrough");var r=gn(e,"First parameter");var n=yn(t,"Second parameter");if(kn(this)){throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream")}if(Mt(r.writable)){throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream")}var a=zr(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal);R(a);return r.readable};e.prototype.pipeTo=function(e,t){if(t===void 0){t={}}if(!wn(this)){return c(Tn("pipeTo"))}if(e===undefined){return c("Parameter 1 is required in 'pipeTo'.")}if(!Ft(e)){return c(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"))}var r;try{r=yn(t,"Second parameter")}catch(e){return c(e)}if(kn(this)){return c(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"))}if(Mt(e)){return c(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"))}return zr(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)};e.prototype.tee=function(){if(!wn(this)){throw Tn("tee")}var e=an(this);return ye(e)};e.prototype.values=function(e){if(e===void 0){e=undefined}if(!wn(this)){throw Tn("values")}var t=pn(e,"First parameter");return de(this,t.preventCancel)};return e}();Object.defineProperties(bn.prototype,{cancel:{enumerable:true},getReader:{enumerable:true},pipeThrough:{enumerable:true},pipeTo:{enumerable:true},tee:{enumerable:true},values:{enumerable:true},locked:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(bn.prototype,t.toStringTag,{value:"ReadableStream",configurable:true})}if(typeof t.asyncIterator==="symbol"){Object.defineProperty(bn.prototype,t.asyncIterator,{value:bn.prototype.values,writable:true,configurable:true})}function _n(e,t,r,n,a){if(n===void 0){n=1}if(a===void 0){a=function(){return 1}}var i=Object.create(bn.prototype);Sn(i);var o=Object.create(Gr.prototype);tn(i,o,e,t,r,n,a);return i}function An(e,t,r){var n=Object.create(bn.prototype);Sn(n);var a=Object.create(Te.prototype);tt(n,a,e,t,r,0,undefined);return n}function Sn(e){e._state="readable";e._reader=undefined;e._storedError=undefined;e._disturbed=false}function wn(e){if(!a(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")){return false}return e instanceof bn}function kn(e){if(e._reader===undefined){return false}return true}function xn(e,t){e._disturbed=true;if(e._state==="closed"){return k(undefined)}if(e._state==="errored"){return c(e._storedError)}Cn(e);var r=e._reader;if(r!==undefined&&dt(r)){r._readIntoRequests.forEach(function(e){e._closeSteps(undefined)});r._readIntoRequests=new p}var n=e._readableStreamController[D](t);return f(n,S)}function Cn(e){e._state="closed";var t=e._reader;if(t===undefined){return}I(t);if(ie(t)){t._readRequests.forEach(function(e){e._closeSteps()});t._readRequests=new p}}function Pn(e,t){e._state="errored";e._storedError=t;var r=e._reader;if(r===undefined){return}F(r,t);if(ie(r)){r._readRequests.forEach(function(e){e._errorSteps(t)});r._readRequests=new p}else{r._readIntoRequests.forEach(function(e){e._errorSteps(t)});r._readIntoRequests=new p}}function Tn(e){return new TypeError("ReadableStream.prototype."+e+" can only be used on a ReadableStream")}function Rn(e,t){W(e,t);var r=e===null||e===void 0?void 0:e.highWaterMark;X(r,"highWaterMark","QueuingStrategyInit");return{highWaterMark:Y(r)}}var En=function(e){return e.byteLength};Object.defineProperty(En,"name",{value:"size",configurable:true});var On=function(){function e(e){V(e,1,"ByteLengthQueuingStrategy");e=Rn(e,"First parameter");this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!Mn(this)){throw Fn("highWaterMark")}return this._byteLengthQueuingStrategyHighWaterMark},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"size",{get:function(){if(!Mn(this)){throw Fn("size")}return En},enumerable:false,configurable:true});return e}();Object.defineProperties(On.prototype,{highWaterMark:{enumerable:true},size:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(On.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:true})}function Fn(e){return new TypeError("ByteLengthQueuingStrategy.prototype."+e+" can only be used on a ByteLengthQueuingStrategy")}function Mn(e){if(!a(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")){return false}return e instanceof On}var In=function(){return 1};Object.defineProperty(In,"name",{value:"size",configurable:true});var jn=function(){function e(e){V(e,1,"CountQueuingStrategy");e=Rn(e,"First parameter");this._countQueuingStrategyHighWaterMark=e.highWaterMark}Object.defineProperty(e.prototype,"highWaterMark",{get:function(){if(!Dn(this)){throw Ln("highWaterMark")}return this._countQueuingStrategyHighWaterMark},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"size",{get:function(){if(!Dn(this)){throw Ln("size")}return In},enumerable:false,configurable:true});return e}();Object.defineProperties(jn.prototype,{highWaterMark:{enumerable:true},size:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(jn.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:true})}function Ln(e){return new TypeError("CountQueuingStrategy.prototype."+e+" can only be used on a CountQueuingStrategy")}function Dn(e){if(!a(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")){return false}return e instanceof jn}function Nn(e,t){W(e,t);var r=e===null||e===void 0?void 0:e.flush;var n=e===null||e===void 0?void 0:e.readableType;var a=e===null||e===void 0?void 0:e.start;var i=e===null||e===void 0?void 0:e.transform;var o=e===null||e===void 0?void 0:e.writableType;return{flush:r===undefined?undefined:qn(r,e,t+" has member 'flush' that"),readableType:n,start:a===undefined?undefined:Bn(a,e,t+" has member 'start' that"),transform:i===undefined?undefined:Un(i,e,t+" has member 'transform' that"),writableType:o}}function qn(t,r,e){z(t,e);return function(e){return h(t,r,[e])}}function Bn(t,r,e){z(t,e);return function(e){return d(t,r,[e])}}function Un(r,n,e){z(r,e);return function(e,t){return h(r,n,[e,t])}}var Wn=function(){function e(e,t,r){if(e===void 0){e={}}if(t===void 0){t={}}if(r===void 0){r={}}if(e===undefined){e=null}var n=mt(t,"Second parameter");var a=mt(r,"Third parameter");var i=Nn(e,"First parameter");if(i.readableType!==undefined){throw new RangeError("Invalid readableType specified")}if(i.writableType!==undefined){throw new RangeError("Invalid writableType specified")}var o=pt(a,0);var s=yt(a);var u=pt(n,1);var l=yt(n);var c;var f=w(function(e){c=e});zn(this,f,u,l,o,s);Jn(this,i);if(i.start!==undefined){c(i.start(this._transformStreamController))}else{c(undefined)}}Object.defineProperty(e.prototype,"readable",{get:function(){if(!Gn(this)){throw ua("readable")}return this._readable},enumerable:false,configurable:true});Object.defineProperty(e.prototype,"writable",{get:function(){if(!Gn(this)){throw ua("writable")}return this._writable},enumerable:false,configurable:true});return e}();Object.defineProperties(Wn.prototype,{readable:{enumerable:true},writable:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(Wn.prototype,t.toStringTag,{value:"TransformStream",configurable:true})}function zn(t,e,r,n,a,i){function o(){return e}function s(e){return na(t,e)}function u(e){return aa(t,e)}function l(){return ia(t)}t._writable=Et(o,s,l,u,r,n);function c(){return oa(t)}function f(e){Vn(t,e);return k(undefined)}t._readable=_n(o,c,f,a,i);t._backpressure=undefined;t._backpressureChangePromise=undefined;t._backpressureChangePromise_resolve=undefined;Xn(t,true);t._transformStreamController=undefined}function Gn(e){if(!a(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")){return false}return e instanceof Wn}function Hn(e,t){Jr(e._readable._readableStreamController,t);Vn(e,t)}function Vn(e,t){$n(e._transformStreamController);mr(e._writable._writableStreamController,t);if(e._backpressure){Xn(e,false)}}function Xn(t,e){if(t._backpressureChangePromise!==undefined){t._backpressureChangePromise_resolve()}t._backpressureChangePromise=w(function(e){t._backpressureChangePromise_resolve=e});t._backpressure=e}var Yn=function(){function e(){throw new TypeError("Illegal constructor")}Object.defineProperty(e.prototype,"desiredSize",{get:function(){if(!Kn(this)){throw sa("desiredSize")}var e=this._controlledTransformStream._readable._readableStreamController;return $r(e)},enumerable:false,configurable:true});e.prototype.enqueue=function(e){if(e===void 0){e=undefined}if(!Kn(this)){throw sa("enqueue")}Zn(this,e)};e.prototype.error=function(e){if(e===void 0){e=undefined}if(!Kn(this)){throw sa("error")}ea(this,e)};e.prototype.terminate=function(){if(!Kn(this)){throw sa("terminate")}ra(this)};return e}();Object.defineProperties(Yn.prototype,{enqueue:{enumerable:true},error:{enumerable:true},terminate:{enumerable:true},desiredSize:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(Yn.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:true})}function Kn(e){if(!a(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")){return false}return e instanceof Yn}function Qn(e,t,r,n){t._controlledTransformStream=e;e._transformStreamController=t;t._transformAlgorithm=r;t._flushAlgorithm=n}function Jn(e,t){var r=Object.create(Yn.prototype);var n=function(e){try{Zn(r,e);return k(undefined)}catch(e){return c(e)}};var a=function(){return k(undefined)};if(t.transform!==undefined){n=function(e){return t.transform(e,r)}}if(t.flush!==undefined){a=function(){return t.flush(r)}}Qn(e,r,n,a)}function $n(e){e._transformAlgorithm=undefined;e._flushAlgorithm=undefined}function Zn(e,t){var r=e._controlledTransformStream;var n=r._readable._readableStreamController;if(!en(n)){throw new TypeError("Readable side is not in a state that permits enqueue")}try{Qr(n,t)}catch(e){Vn(r,e);throw r._readable._storedError}var a=Zr(n);if(a!==r._backpressure){Xn(r,true)}}function ea(e,t){Hn(e._controlledTransformStream,t)}function ta(t,e){var r=t._transformAlgorithm(e);return f(r,undefined,function(e){Hn(t._controlledTransformStream,e);throw e})}function ra(e){var t=e._controlledTransformStream;var r=t._readable._readableStreamController;Kr(r);var n=new TypeError("TransformStream terminated");Vn(t,n)}function na(r,n){var a=r._transformStreamController;if(r._backpressure){var e=r._backpressureChangePromise;return f(e,function(){var e=r._writable;var t=e._state;if(t==="erroring"){throw e._storedError}return ta(a,n)})}return ta(a,n)}function aa(e,t){Hn(e,t);return k(undefined)}function ia(t){var r=t._readable;var e=t._transformStreamController;var n=e._flushAlgorithm();$n(e);return f(n,function(){if(r._state==="errored"){throw r._storedError}Kr(r._readableStreamController)},function(e){Hn(t,e);throw r._storedError})}function oa(e){Xn(e,false);return e._backpressureChangePromise}function sa(e){return new TypeError("TransformStreamDefaultController.prototype."+e+" can only be used on a TransformStreamDefaultController")}function ua(e){return new TypeError("TransformStream.prototype."+e+" can only be used on a TransformStream")}e.ByteLengthQueuingStrategy=On;e.CountQueuingStrategy=jn;e.ReadableByteStreamController=Te;e.ReadableStream=bn;e.ReadableStreamBYOBReader=ft;e.ReadableStreamBYOBRequest=Pe;e.ReadableStreamDefaultController=Gr;e.ReadableStreamDefaultReader=ae;e.TransformStream=Wn;e.TransformStreamDefaultController=Yn;e.WritableStream=Tt;e.WritableStreamDefaultController=sr;e.WritableStreamDefaultWriter=Qt;Object.defineProperty(e,"__esModule",{value:true})})},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.BaseStandardFontDataFactory=t.BaseSVGFactory=t.BaseCanvasFactory=t.BaseCMapReaderFactory=void 0;var s=n(r(2));var u=r(4);function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function a(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=s.apply(e,o);function a(e){l(n,t,r,a,i,"next",e)}function i(e){l(n,t,r,a,i,"throw",e)}a(undefined)})}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function i(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function c(e,t,r){if(t)i(e.prototype,t);if(r)i(e,r);return e}var f=function(){function e(){o(this,e);if(this.constructor===e){(0,u.unreachable)("Cannot initialize BaseCanvasFactory.")}}c(e,[{key:"create",value:function e(t,r){if(t<=0||r<=0){throw new Error("Invalid canvas size")}var n=this._createCanvas(t,r);return{canvas:n,context:n.getContext("2d")}}},{key:"reset",value:function e(t,r,n){if(!t.canvas){throw new Error("Canvas is not specified")}if(r<=0||n<=0){throw new Error("Invalid canvas size")}t.canvas.width=r;t.canvas.height=n}},{key:"destroy",value:function e(t){if(!t.canvas){throw new Error("Canvas is not specified")}t.canvas.width=0;t.canvas.height=0;t.canvas=null;t.context=null}},{key:"_createCanvas",value:function e(t,r){(0,u.unreachable)("Abstract method `_createCanvas` called.")}}]);return e}();t.BaseCanvasFactory=f;var d=function(){function i(e){var t=e.baseUrl,r=t===void 0?null:t,n=e.isCompressed,a=n===void 0?false:n;o(this,i);if(this.constructor===i){(0,u.unreachable)("Cannot initialize BaseCMapReaderFactory.")}this.baseUrl=r;this.isCompressed=a}c(i,[{key:"fetch",value:function(){var t=a(s["default"].mark(function e(r){var n=this;var a,i,o;return s["default"].wrap(function e(t){while(1){switch(t.prev=t.next){case 0:a=r.name;if(this.baseUrl){t.next=3;break}throw new Error('The CMap "baseUrl" parameter must be specified, ensure that '+'the "cMapUrl" and "cMapPacked" API parameters are provided.');case 3:if(a){t.next=5;break}throw new Error("CMap name must be specified.");case 5:i=this.baseUrl+a+(this.isCompressed?".bcmap":"");o=this.isCompressed?u.CMapCompressionType.BINARY:u.CMapCompressionType.NONE;return t.abrupt("return",this._fetchData(i,o)["catch"](function(e){throw new Error("Unable to load ".concat(n.isCompressed?"binary ":"","CMap at: ").concat(i))}));case 8:case"end":return t.stop()}}},e,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"_fetchData",value:function e(t,r){(0,u.unreachable)("Abstract method `_fetchData` called.")}}]);return i}();t.BaseCMapReaderFactory=d;var h=function(){function n(e){var t=e.baseUrl,r=t===void 0?null:t;o(this,n);if(this.constructor===n){(0,u.unreachable)("Cannot initialize BaseStandardFontDataFactory.")}this.baseUrl=r}c(n,[{key:"fetch",value:function(){var t=a(s["default"].mark(function e(r){var n,a;return s["default"].wrap(function e(t){while(1){switch(t.prev=t.next){case 0:n=r.filename;if(this.baseUrl){t.next=3;break}throw new Error('The standard font "baseUrl" parameter must be specified, ensure that '+'the "standardFontDataUrl" API parameter is provided.');case 3:if(n){t.next=5;break}throw new Error("Font filename must be specified.");case 5:a="".concat(this.baseUrl).concat(n);return t.abrupt("return",this._fetchData(a)["catch"](function(e){throw new Error("Unable to load font data at: ".concat(a))}));case 7:case"end":return t.stop()}}},e,this)}));function e(e){return t.apply(this,arguments)}return e}()},{key:"_fetchData",value:function e(t){(0,u.unreachable)("Abstract method `_fetchData` called.")}}]);return n}();t.BaseStandardFontDataFactory=h;var v=function(){function e(){o(this,e);if(this.constructor===e){(0,u.unreachable)("Cannot initialize BaseSVGFactory.")}}c(e,[{key:"create",value:function e(t,r){if(t<=0||r<=0){throw new Error("Invalid SVG dimensions")}var n=this._createSVG("svg:svg");n.setAttribute("version","1.1");n.setAttribute("width","".concat(t,"px"));n.setAttribute("height","".concat(r,"px"));n.setAttribute("preserveAspectRatio","none");n.setAttribute("viewBox","0 0 ".concat(t," ").concat(r));return n}},{key:"createElement",value:function e(t){if(typeof t!=="string"){throw new Error("Invalid SVG element type")}return this._createSVG(t)}},{key:"_createSVG",value:function e(t){(0,u.unreachable)("Abstract method `_createSVG` called.")}}]);return e}();t.BaseSVGFactory=v},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:true});exports.build=exports.RenderTask=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0;exports.getDocument=getDocument;exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory;exports.version=void 0;var _regenerator=_interopRequireDefault(__w_pdfjs_require__(2));var _util=__w_pdfjs_require__(4);var _display_utils=__w_pdfjs_require__(1);var _font_loader=__w_pdfjs_require__(137);var _node_utils=__w_pdfjs_require__(138);var _annotation_storage=__w_pdfjs_require__(139);var _canvas=__w_pdfjs_require__(140);var _worker_options=__w_pdfjs_require__(142);var _is_node=__w_pdfjs_require__(6);var _message_handler=__w_pdfjs_require__(143);var _metadata=__w_pdfjs_require__(144);var _optional_content_config=__w_pdfjs_require__(145);var _transport_stream=__w_pdfjs_require__(146);var _xfa_text=__w_pdfjs_require__(147);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classPrivateFieldInitSpec(e,t,r){_checkPrivateRedeclaration(e,t);t.set(e,r)}function _checkPrivateRedeclaration(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function _classPrivateFieldSet(e,t,r){var n=_classExtractFieldDescriptor(e,t,"set");_classApplyDescriptorSet(e,n,r);return r}function _classApplyDescriptorSet(e,t,r){if(t.set){t.set.call(e,r)}else{if(!t.writable){throw new TypeError("attempted to set read only private field")}t.value=r}}function _classPrivateFieldGet(e,t){var r=_classExtractFieldDescriptor(e,t,"get");return _classApplyDescriptorGet(e,r)}function _classExtractFieldDescriptor(e,t,r){if(!t.has(e)){throw new TypeError("attempted to "+r+" private field on non-instance")}return t.get(e)}function _classApplyDescriptorGet(e,t){if(t.get){return t.get.call(e)}return t.value}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(t,e){var r=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_unsupportedIterableToArray(t))||e&&t&&typeof t.length==="number"){if(r)t=r;var n=0;var a=function e(){};return{s:a,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,o=false,s;return{s:function e(){r=r.call(t)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!i&&r["return"]!=null)r["return"]()}finally{if(o)throw s}}}}function _classCallCheck(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function _createClass(e,t,r){if(t)_defineProperties(e.prototype,t);if(r)_defineProperties(e,r);return e}function asyncGeneratorStep(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function _asyncToGenerator(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=s.apply(e,o);function a(e){asyncGeneratorStep(n,t,r,a,i,"next",e)}function i(e){asyncGeneratorStep(n,t,r,a,i,"throw",e)}a(undefined)})}}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(!e)return;if(typeof e==="string")return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(e,t)}function _arrayLikeToArray(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function _iterableToArrayLimit(e,t){var r=e==null?null:typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r==null)return;var n=[];var a=true;var i=false;var o,s;try{for(r=r.call(e);!(a=(o=r.next()).done);a=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){i=true;s=e}finally{try{if(!a&&r["return"]!=null)r["return"]()}finally{if(i)throw s}}return n}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _typeof(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){_typeof=function e(t){return typeof t}}else{_typeof=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return _typeof(e)}var DEFAULT_RANGE_CHUNK_SIZE=65536;var RENDERING_CANCELLED_TIMEOUT=100;var DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;var DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;var DefaultStandardFontDataFactory=_is_node.isNodeJS?_node_utils.NodeStandardFontDataFactory:_display_utils.DOMStandardFontDataFactory;exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory;var createPDFNetworkStream;function setPDFNetworkStreamFactory(e){createPDFNetworkStream=e}function getDocument(e){var o=new PDFDocumentLoadingTask;var t;if(typeof e==="string"||e instanceof URL){t={url:e}}else if((0,_util.isArrayBuffer)(e)){t={data:e}}else if(e instanceof PDFDataRangeTransport){t={range:e}}else{if(_typeof(e)!=="object"){throw new Error("Invalid parameter in getDocument, "+"need either string, URL, Uint8Array, or parameter object.")}if(!e.url&&!e.data&&!e.range){throw new Error("Invalid parameter object: need either .data, .range or .url")}t=e}var s=Object.create(null);var r=null,u=null;for(var n in t){var a=t[n];switch(n){case"url":if(typeof window!=="undefined"){try{s[n]=new URL(a,window.location).href;continue}catch(e){(0,_util.warn)('Cannot create valid URL: "'.concat(e,'".'))}}else if(typeof a==="string"||a instanceof URL){s[n]=a.toString();continue}throw new Error("Invalid PDF url data: "+"either string or URL-object is expected in the url property.");case"range":r=a;continue;case"worker":u=a;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer!=="undefined"&&a instanceof Buffer){s[n]=new Uint8Array(a)}else if(a instanceof Uint8Array){break}else if(typeof a==="string"){s[n]=(0,_util.stringToBytes)(a)}else if(_typeof(a)==="object"&&a!==null&&!isNaN(a.length)){s[n]=new Uint8Array(a)}else if((0,_util.isArrayBuffer)(a)){s[n]=new Uint8Array(a)}else{throw new Error("Invalid PDF binary data: either typed array, "+"string, or array-like object is expected in the data property.")}continue}s[n]=a}s.rangeChunkSize=s.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE;s.CMapReaderFactory=s.CMapReaderFactory||DefaultCMapReaderFactory;s.StandardFontDataFactory=s.StandardFontDataFactory||DefaultStandardFontDataFactory;s.ignoreErrors=s.stopAtErrors!==true;s.fontExtraProperties=s.fontExtraProperties===true;s.pdfBug=s.pdfBug===true;s.enableXfa=s.enableXfa===true;if(typeof s.docBaseUrl!=="string"||(0,_display_utils.isDataScheme)(s.docBaseUrl)){s.docBaseUrl=null}if(!Number.isInteger(s.maxImageSize)){s.maxImageSize=-1}if(typeof s.useWorkerFetch!=="boolean"){s.useWorkerFetch=s.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&s.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory}if(typeof s.isEvalSupported!=="boolean"){s.isEvalSupported=true}if(typeof s.disableFontFace!=="boolean"){s.disableFontFace=_is_node.isNodeJS}if(typeof s.useSystemFonts!=="boolean"){s.useSystemFonts=!_is_node.isNodeJS&&!s.disableFontFace}if(typeof s.ownerDocument==="undefined"){s.ownerDocument=globalThis.document}if(typeof s.disableRange!=="boolean"){s.disableRange=false}if(typeof s.disableStream!=="boolean"){s.disableStream=false}if(typeof s.disableAutoFetch!=="boolean"){s.disableAutoFetch=false}(0,_util.setVerbosityLevel)(s.verbosity);if(!u){var i={verbosity:s.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};u=i.port?PDFWorker.fromPort(i):new PDFWorker(i);o._worker=u}var l=o.docId;u.promise.then(function(){if(o.destroyed){throw new Error("Loading aborted")}var e=_fetchDocument(u,s,r,l);var t=new Promise(function(e){var t;if(r){t=new _transport_stream.PDFDataTransportStream({length:s.length,initialData:s.initialData,progressiveDone:s.progressiveDone,contentDispositionFilename:s.contentDispositionFilename,disableRange:s.disableRange,disableStream:s.disableStream},r)}else if(!s.data){t=createPDFNetworkStream({url:s.url,length:s.length,httpHeaders:s.httpHeaders,withCredentials:s.withCredentials,rangeChunkSize:s.rangeChunkSize,disableRange:s.disableRange,disableStream:s.disableStream})}e(t)});return Promise.all([e,t]).then(function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];if(o.destroyed){throw new Error("Loading aborted")}var a=new _message_handler.MessageHandler(l,r,u.port);var i=new WorkerTransport(a,o,n,s);o._transport=i;a.send("Ready",null)})})["catch"](o._capability.reject);return o}function _fetchDocument(e,t,r,n){return _fetchDocument2.apply(this,arguments)}function _fetchDocument2(){_fetchDocument2=_asyncToGenerator(_regenerator["default"].mark(function e(r,n,a,i){var o;return _regenerator["default"].wrap(function e(t){while(1){switch(t.prev=t.next){case 0:if(!r.destroyed){t.next=2;break}throw new Error("Worker was destroyed");case 2:if(a){n.length=a.length;n.initialData=a.initialData;n.progressiveDone=a.progressiveDone;n.contentDispositionFilename=a.contentDispositionFilename}t.next=5;return r.messageHandler.sendWithPromise("GetDocRequest",{docId:i,apiVersion:"2.12.313",source:{data:n.data,url:n.url,password:n.password,disableAutoFetch:n.disableAutoFetch,rangeChunkSize:n.rangeChunkSize,length:n.length},maxImageSize:n.maxImageSize,disableFontFace:n.disableFontFace,docBaseUrl:n.docBaseUrl,ignoreErrors:n.ignoreErrors,isEvalSupported:n.isEvalSupported,fontExtraProperties:n.fontExtraProperties,enableXfa:n.enableXfa,useSystemFonts:n.useSystemFonts,cMapUrl:n.useWorkerFetch?n.cMapUrl:null,standardFontDataUrl:n.useWorkerFetch?n.standardFontDataUrl:null});case 5:o=t.sent;if(!r.destroyed){t.next=8;break}throw new Error("Worker was destroyed");case 8:return t.abrupt("return",o);case 9:case"end":return t.stop()}}},e)}));return _fetchDocument2.apply(this,arguments)}var PDFDocumentLoadingTask=function(){function e(){_classCallCheck(this,e);this._capability=(0,_util.createPromiseCapability)();this._transport=null;this._worker=null;this.docId="d".concat(e.idCounters.doc++);this.destroyed=false;this.onPassword=null;this.onProgress=null;this.onUnsupportedFeature=null}_createClass(e,[{key:"promise",get:function e(){return this._capability.promise}},{key:"destroy",value:function(){var e=_asyncToGenerator(_regenerator["default"].mark(function e(){var r;return _regenerator["default"].wrap(function e(t){while(1){switch(t.prev=t.next){case 0:this.destroyed=true;t.next=3;return(r=this._transport)===null||r===void 0?void 0:r.destroy();case 3:this._transport=null;if(this._worker){this._worker.destroy();this._worker=null}case 5:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}],[{key:"idCounters",get:function e(){return(0,_util.shadow)(this,"idCounters",{doc:0})}}]);return e}();exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;var PDFDataRangeTransport=function(){function a(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;_classCallCheck(this,a);this.length=e;this.initialData=t;this.progressiveDone=r;this.contentDispositionFilename=n;this._rangeListeners=[];this._progressListeners=[];this._progressiveReadListeners=[];this._progressiveDoneListeners=[];this._readyCapability=(0,_util.createPromiseCapability)()}_createClass(a,[{key:"addRangeListener",value:function e(t){this._rangeListeners.push(t)}},{key:"addProgressListener",value:function e(t){this._progressListeners.push(t)}},{key:"addProgressiveReadListener",value:function e(t){this._progressiveReadListeners.push(t)}},{key:"addProgressiveDoneListener",value:function e(t){this._progressiveDoneListeners.push(t)}},{key:"onDataRange",value:function e(t,r){var n=_createForOfIteratorHelper(this._rangeListeners),a;try{for(n.s();!(a=n.n()).done;){var i=a.value;i(t,r)}}catch(e){n.e(e)}finally{n.f()}}},{key:"onDataProgress",value:function e(n,a){var i=this;this._readyCapability.promise.then(function(){var t=_createForOfIteratorHelper(i._progressListeners),e;try{for(t.s();!(e=t.n()).done;){var r=e.value;r(n,a)}}catch(e){t.e(e)}finally{t.f()}})}},{key:"onDataProgressiveRead",value:function e(n){var a=this;this._readyCapability.promise.then(function(){var t=_createForOfIteratorHelper(a._progressiveReadListeners),e;try{for(t.s();!(e=t.n()).done;){var r=e.value;r(n)}}catch(e){t.e(e)}finally{t.f()}})}},{key:"onDataProgressiveDone",value:function e(){var n=this;this._readyCapability.promise.then(function(){var t=_createForOfIteratorHelper(n._progressiveDoneListeners),e;try{for(t.s();!(e=t.n()).done;){var r=e.value;r()}}catch(e){t.e(e)}finally{t.f()}})}},{key:"transportReady",value:function e(){this._readyCapability.resolve()}},{key:"requestDataRange",value:function e(t,r){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}},{key:"abort",value:function e(){}}]);return a}();exports.PDFDataRangeTransport=PDFDataRangeTransport;var PDFDocumentProxy=function(){function n(e,t){var r=this;_classCallCheck(this,n);this._pdfInfo=e;this._transport=t;Object.defineProperty(this,"fingerprint",{get:function e(){(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, "+"please use `PDFDocumentProxy.fingerprints` instead.");return this.fingerprints[0]}});Object.defineProperty(this,"getStats",{value:function(){var e=_asyncToGenerator(_regenerator["default"].mark(function e(){return _regenerator["default"].wrap(function e(t){while(1){switch(t.prev=t.next){case 0:(0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, "+"please use the `PDFDocumentProxy.stats`-getter instead.");return t.abrupt("return",r.stats||{streamTypes:{},fontTypes:{}});case 2:case"end":return t.stop()}}},e)}));function t(){return e.apply(this,arguments)}return t}()})}_createClass(n,[{key:"annotationStorage",get:function e(){return this._transport.annotationStorage}},{key:"numPages",get:function e(){return this._pdfInfo.numPages}},{key:"fingerprints",get:function e(){return this._pdfInfo.fingerprints}},{key:"stats",get:function e(){return this._transport.stats}},{key:"isPureXfa",get:function e(){return!!this._transport._htmlForXfa}},{key:"allXfaHtml",get:function e(){return this._transport._htmlForXfa}},{key:"getPage",value:function e(t){return this._transport.getPage(t)}},{key:"getPageIndex",value:function e(t){return this._transport.getPageIndex(t)}},{key:"getDestinations",value:function e(){return this._transport.getDestinations()}},{key:"getDestination",value:function e(t){return this._transport.getDestination(t)}},{key:"getPageLabels",value:function e(){return this._transport.getPageLabels()}},{key:"getPageLayout",value:function e(){return this._transport.getPageLayout()}},{key:"getPageMode",value:function e(){return this._transport.getPageMode()}},{key:"getViewerPreferences",value:function e(){return this._transport.getViewerPreferences()}},{key:"getOpenAction",value:function e(){return this._transport.getOpenAction()}},{key:"getAttachments",value:function e(){return this._transport.getAttachments()}},{key:"getJavaScript",value:function e(){return this._transport.getJavaScript()}},{key:"getJSActions",value:function e(){return this._transport.getDocJSActions()}},{key:"getOutline",value:function e(){return this._transport.getOutline()}},{key:"getOptionalContentConfig",value:function e(){return this._transport.getOptionalContentConfig()}},{key:"getPermissions",value:function e(){return this._transport.getPermissions()}},{key:"getMetadata",value:function e(){return this._transport.getMetadata()}},{key:"getMarkInfo",value:function e(){return this._transport.getMarkInfo()}},{key:"getData",value:function e(){return this._transport.getData()}},{key:"getDownloadInfo",value:function e(){return this._transport.downloadInfoCapability.promise}},{key:"cleanup",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return this._transport.startCleanup(t||this.isPureXfa)}},{key:"destroy",value:function e(){return this.loadingTask.destroy()}},{key:"loadingParams",get:function e(){return this._transport.loadingParams}},{key:"loadingTask",get:function e(){return this._transport.loadingTask}},{key:"saveDocument",value:function e(){if(this._transport.annotationStorage.size<=0){(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, "+"please use the getData-method instead.")}return this._transport.saveDocument()}},{key:"getFieldObjects",value:function e(){return this._transport.getFieldObjects()}},{key:"hasJSActions",value:function e(){return this._transport.hasJSActions()}},{key:"getCalculationOrderIds",value:function e(){return this._transport.getCalculationOrderIds()}}]);return n}();exports.PDFDocumentProxy=PDFDocumentProxy;var PDFPageProxy=function(){function i(e,t,r,n){var a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;_classCallCheck(this,i);this._pageIndex=e;this._pageInfo=t;this._ownerDocument=n;this._transport=r;this._stats=a?new _display_utils.StatTimer:null;this._pdfBug=a;this.commonObjs=r.commonObjs;this.objs=new PDFObjects;this.cleanupAfterRender=false;this.pendingCleanup=false;this._intentStates=new Map;this._annotationPromises=new Map;this.destroyed=false}_createClass(i,[{key:"pageNumber",get:function e(){return this._pageIndex+1}},{key:"rotate",get:function e(){return this._pageInfo.rotate}},{key:"ref",get:function e(){return this._pageInfo.ref}},{key:"userUnit",get:function e(){return this._pageInfo.userUnit}},{key:"view",get:function e(){return this._pageInfo.view}},{key:"getViewport",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.scale,n=t.rotation,a=n===void 0?this.rotate:n,i=t.offsetX,o=i===void 0?0:i,s=t.offsetY,u=s===void 0?0:s,l=t.dontFlip,c=l===void 0?false:l;return new _display_utils.PageViewport({viewBox:this.view,scale:r,rotation:a,offsetX:o,offsetY:u,dontFlip:c})}},{key:"getAnnotations",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.intent,n=r===void 0?"display":r;var a=this._transport.getRenderingIntent(n);var i=this._annotationPromises.get(a.cacheKey);if(!i){i=this._transport.getAnnotations(this._pageIndex,a.renderingIntent);this._annotationPromises.set(a.cacheKey,i);i=i.then(function(e){var t=_createForOfIteratorHelper(e),r;try{var n=function e(){var t=r.value;if(t.titleObj!==undefined){Object.defineProperty(t,"title",{get:function e(){(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead.");return t.titleObj.str}})}if(t.contentsObj!==undefined){Object.defineProperty(t,"contents",{get:function e(){(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead.");return t.contentsObj.str}})}};for(t.s();!(r=t.n()).done;){n()}}catch(e){t.e(e)}finally{t.f()}return e})}return i}},{key:"getJSActions",value:function e(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}},{key:"getXfa",value:function(){var e=_asyncToGenerator(_regenerator["default"].mark(function e(){var r;return _regenerator["default"].wrap(function e(t){while(1){switch(t.prev=t.next){case 0:return t.abrupt("return",((r=this._transport._htmlForXfa)===null||r===void 0?void 0:r.children[this._pageIndex])||null);case 1:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"render",value:function e(t){var r,n,a=this,i;var o=t.canvasContext,s=t.viewport,u=t.intent,l=u===void 0?"display":u,c=t.annotationMode,f=c===void 0?_util.AnnotationMode.ENABLE:c,d=t.transform,h=d===void 0?null:d,v=t.imageLayer,p=v===void 0?null:v,y=t.canvasFactory,m=y===void 0?null:y,g=t.background,b=g===void 0?null:g,_=t.optionalContentConfigPromise,A=_===void 0?null:_,S=t.annotationCanvasMap,w=S===void 0?null:S;if(((r=arguments[0])===null||r===void 0?void 0:r.renderInteractiveForms)!==undefined){(0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, "+"please use the `annotationMode`-option instead.");if(arguments[0].renderInteractiveForms===true&&f===_util.AnnotationMode.ENABLE){f=_util.AnnotationMode.ENABLE_FORMS}}if(((n=arguments[0])===null||n===void 0?void 0:n.includeAnnotationStorage)!==undefined){(0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, "+"please use the `annotationMode`-option instead.");if(arguments[0].includeAnnotationStorage===true&&f===_util.AnnotationMode.ENABLE){f=_util.AnnotationMode.ENABLE_STORAGE}}if(this._stats){this._stats.time("Overall")}var k=this._transport.getRenderingIntent(l,f);this.pendingCleanup=false;if(!A){A=this._transport.getOptionalContentConfig()}var x=this._intentStates.get(k.cacheKey);if(!x){x=Object.create(null);this._intentStates.set(k.cacheKey,x)}if(x.streamReaderCancelTimeout){clearTimeout(x.streamReaderCancelTimeout);x.streamReaderCancelTimeout=null}var C=m||new DefaultCanvasFactory({ownerDocument:this._ownerDocument});var P=!!(k.renderingIntent&_util.RenderingIntentFlag.PRINT);if(!x.displayReadyCapability){x.displayReadyCapability=(0,_util.createPromiseCapability)();x.operatorList={fnArray:[],argsArray:[],lastChunk:false};if(this._stats){this._stats.time("Page Request")}this._pumpOperatorList(k)}var T=function e(t){x.renderTasks["delete"](R);if(a.cleanupAfterRender||P){a.pendingCleanup=true}a._tryCleanup();if(t){R.capability.reject(t);a._abortOperatorList({intentState:x,reason:t instanceof Error?t:new Error(t)})}else{R.capability.resolve()}if(a._stats){a._stats.timeEnd("Rendering");a._stats.timeEnd("Overall")}};var R=new InternalRenderTask({callback:T,params:{canvasContext:o,viewport:s,transform:h,imageLayer:p,background:b},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:w,operatorList:x.operatorList,pageIndex:this._pageIndex,canvasFactory:C,useRequestAnimationFrame:!P,pdfBug:this._pdfBug});((i=x).renderTasks||(i.renderTasks=new Set)).add(R);var E=R.task;Promise.all([x.displayReadyCapability.promise,A]).then(function(e){var t=_slicedToArray(e,2),r=t[0],n=t[1];if(a.pendingCleanup){T();return}if(a._stats){a._stats.time("Rendering")}R.initializeGraphics({transparency:r,optionalContentConfig:n});R.operatorListChanged()})["catch"](T);return E}},{key:"getOperatorList",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.intent,n=r===void 0?"display":r,a=t.annotationMode,i=a===void 0?_util.AnnotationMode.ENABLE:a;function o(){if(u.operatorList.lastChunk){u.opListReadCapability.resolve(u.operatorList);u.renderTasks["delete"](l)}}var s=this._transport.getRenderingIntent(n,i,true);var u=this._intentStates.get(s.cacheKey);if(!u){u=Object.create(null);this._intentStates.set(s.cacheKey,u)}var l;if(!u.opListReadCapability){var c;l=Object.create(null);l.operatorListChanged=o;u.opListReadCapability=(0,_util.createPromiseCapability)();((c=u).renderTasks||(c.renderTasks=new Set)).add(l);u.operatorList={fnArray:[],argsArray:[],lastChunk:false};if(this._stats){this._stats.time("Page Request")}this._pumpOperatorList(s)}return u.opListReadCapability.promise}},{key:"streamTextContent",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},r=t.normalizeWhitespace,n=r===void 0?false:r,a=t.disableCombineTextItems,i=a===void 0?false:a,o=t.includeMarkedContent,s=o===void 0?false:o;var u=100;return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:n===true,combineTextItems:i!==true,includeMarkedContent:s===true},{highWaterMark:u,size:function e(t){return t.items.length}})}},{key:"getTextContent",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};if(this._transport._htmlForXfa){return this.getXfa().then(function(e){return _xfa_text.XfaText.textContent(e)})}var r=this.streamTextContent(t);return new Promise(function(a,e){function i(){t.read().then(function(e){var t;var r=e.value,n=e.done;if(n){a(o);return}Object.assign(o.styles,r.styles);(t=o.items).push.apply(t,_toConsumableArray(r.items));i()},e)}var t=r.getReader();var o={items:[],styles:Object.create(null)};i()})}},{key:"getStructTree",value:function e(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}},{key:"_destroy",value:function e(){this.destroyed=true;var t=[];var r=_createForOfIteratorHelper(this._intentStates.values()),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;this._abortOperatorList({intentState:a,reason:new Error("Page was destroyed."),force:true});if(a.opListReadCapability){continue}var i=_createForOfIteratorHelper(a.renderTasks),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;t.push(s.completed);s.cancel()}}catch(e){i.e(e)}finally{i.f()}}}catch(e){r.e(e)}finally{r.f()}this.objs.clear();this._annotationPromises.clear();this._jsActionsPromise=null;this._structTreePromise=null;this.pendingCleanup=false;return Promise.all(t)}},{key:"cleanup",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.pendingCleanup=true;return this._tryCleanup(t)}},{key:"_tryCleanup",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!this.pendingCleanup){return false}var r=_createForOfIteratorHelper(this._intentStates.values()),n;try{for(r.s();!(n=r.n()).done;){var a=n.value,i=a.renderTasks,o=a.operatorList;if(i.size>0||!o.lastChunk){return false}}}catch(e){r.e(e)}finally{r.f()}this._intentStates.clear();this.objs.clear();this._annotationPromises.clear();this._jsActionsPromise=null;this._structTreePromise=null;if(t&&this._stats){this._stats=new _display_utils.StatTimer}this.pendingCleanup=false;return true}},{key:"_startRenderPage",value:function e(t,r){var n=this._intentStates.get(r);if(!n){return}if(this._stats){this._stats.timeEnd("Page Request")}if(n.displayReadyCapability){n.displayReadyCapability.resolve(t)}}},{key:"_renderPageChunk",value:function e(t,r){for(var n=0,a=t.length;n<a;n++){r.operatorList.fnArray.push(t.fnArray[n]);r.operatorList.argsArray.push(t.argsArray[n])}r.operatorList.lastChunk=t.lastChunk;var i=_createForOfIteratorHelper(r.renderTasks),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;s.operatorListChanged()}}catch(e){i.e(e)}finally{i.f()}if(t.lastChunk){this._tryCleanup()}}},{key:"_pumpOperatorList",value:function e(t){var a=this;var r=t.renderingIntent,n=t.cacheKey;var i=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:r,cacheKey:n,annotationStorage:r&_util.RenderingIntentFlag.ANNOTATIONS_STORAGE?this._transport.annotationStorage.serializable:null});var o=i.getReader();var s=this._intentStates.get(n);s.streamReader=o;var u=function n(){o.read().then(function(e){var t=e.value,r=e.done;if(r){s.streamReader=null;return}if(a._transport.destroyed){return}a._renderPageChunk(t,s);n()},function(e){s.streamReader=null;if(a._transport.destroyed){return}if(s.operatorList){s.operatorList.lastChunk=true;var t=_createForOfIteratorHelper(s.renderTasks),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;n.operatorListChanged()}}catch(e){t.e(e)}finally{t.f()}a._tryCleanup()}if(s.displayReadyCapability){s.displayReadyCapability.reject(e)}else if(s.opListReadCapability){s.opListReadCapability.reject(e)}else{throw e}})};u()}},{key:"_abortOperatorList",value:function e(t){var r=this;var n=t.intentState,a=t.reason,i=t.force,o=i===void 0?false:i;if(!n.streamReader){return}if(!o){if(n.renderTasks.size>0){return}if(a instanceof _display_utils.RenderingCancelledException){n.streamReaderCancelTimeout=setTimeout(function(){r._abortOperatorList({intentState:n,reason:a,force:true});n.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}n.streamReader.cancel(new _util.AbortException(a.message))["catch"](function(){});n.streamReader=null;if(this._transport.destroyed){return}var s=_createForOfIteratorHelper(this._intentStates),u;try{for(s.s();!(u=s.n()).done;){var l=_slicedToArray(u.value,2),c=l[0],f=l[1];if(f===n){this._intentStates["delete"](c);break}}}catch(e){s.e(e)}finally{s.f()}this.cleanup()}},{key:"stats",get:function e(){return this._stats}}]);return i}();exports.PDFPageProxy=PDFPageProxy;var LoopbackPort=function(){function e(){_classCallCheck(this,e);this._listeners=[];this._deferred=Promise.resolve()}_createClass(e,[{key:"postMessage",value:function e(t,m){var n=this;function r(e){if(globalThis.structuredClone){return globalThis.structuredClone(e,m)}function p(e){if(typeof e==="function"||_typeof(e)==="symbol"||e instanceof URL){throw new Error("LoopbackPort.postMessage - cannot clone: ".concat(e===null||e===void 0?void 0:e.toString()))}if(_typeof(e)!=="object"||e===null){return e}if(y.has(e)){return y.get(e)}var t,r;if((t=e.buffer)&&(0,_util.isArrayBuffer)(t)){if(m!==null&&m!==void 0&&m.includes(t)){r=new e.constructor(t,e.byteOffset,e.byteLength)}else{r=new e.constructor(e)}y.set(e,r);return r}if(e instanceof Map){r=new Map;y.set(e,r);var n=_createForOfIteratorHelper(e),a;try{for(n.s();!(a=n.n()).done;){var i=_slicedToArray(a.value,2),o=i[0],s=i[1];r.set(o,p(s))}}catch(e){n.e(e)}finally{n.f()}return r}if(e instanceof Set){r=new Set;y.set(e,r);var u=_createForOfIteratorHelper(e),l;try{for(u.s();!(l=u.n()).done;){var c=l.value;r.add(p(c))}}catch(e){u.e(e)}finally{u.f()}return r}r=Array.isArray(e)?[]:Object.create(null);y.set(e,r);for(var f in e){var d;var h=void 0,v=e;while(!(h=Object.getOwnPropertyDescriptor(v,f))){v=Object.getPrototypeOf(v)}if(typeof h.value==="undefined"){continue}if(typeof h.value==="function"&&!((d=e.hasOwnProperty)!==null&&d!==void 0&&d.call(e,f))){continue}r[f]=p(h.value)}return r}var y=new WeakMap;return p(e)}var a={data:r(t)};this._deferred.then(function(){var t=_createForOfIteratorHelper(n._listeners),e;try{for(t.s();!(e=t.n()).done;){var r=e.value;r.call(n,a)}}catch(e){t.e(e)}finally{t.f()}})}},{key:"addEventListener",value:function e(t,r){this._listeners.push(r)}},{key:"removeEventListener",value:function e(t,r){var n=this._listeners.indexOf(r);this._listeners.splice(n,1)}},{key:"terminate",value:function e(){this._listeners.length=0}}]);return e}();exports.LoopbackPort=LoopbackPort;var PDFWorkerUtil={isWorkerDisabled:false,fallbackWorkerSrc:null,fakeWorkerId:0};{if(_is_node.isNodeJS&&typeof require==="function"){PDFWorkerUtil.isWorkerDisabled=true;PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js"}else if((typeof document==="undefined"?"undefined":_typeof(document))==="object"){var _document,_document$currentScri;var pdfjsFilePath=(_document=document)===null||_document===void 0?void 0:(_document$currentScri=_document.currentScript)===null||_document$currentScri===void 0?void 0:_document$currentScri.src;if(pdfjsFilePath){PDFWorkerUtil.fallbackWorkerSrc=pdfjsFilePath.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2")}}PDFWorkerUtil.createCDNWrapper=function(e){var t='importScripts("'.concat(e,'");');return URL.createObjectURL(new Blob([t]))}}var PDFWorker=function(){function PDFWorker(){var e=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},t=e.name,r=t===void 0?null:t,n=e.port,a=n===void 0?null:n,i=e.verbosity,o=i===void 0?(0,_util.getVerbosityLevel)():i;_classCallCheck(this,PDFWorker);if(a&&PDFWorker._workerPorts.has(a)){throw new Error("Cannot use more than one PDFWorker per port.")}this.name=r;this.destroyed=false;this.verbosity=o;this._readyCapability=(0,_util.createPromiseCapability)();this._port=null;this._webWorker=null;this._messageHandler=null;if(a){PDFWorker._workerPorts.set(a,this);this._initializeFromPort(a);return}this._initialize()}_createClass(PDFWorker,[{key:"promise",get:function e(){return this._readyCapability.promise}},{key:"port",get:function e(){return this._port}},{key:"messageHandler",get:function e(){return this._messageHandler}},{key:"_initializeFromPort",value:function e(t){this._port=t;this._messageHandler=new _message_handler.MessageHandler("main","worker",t);this._messageHandler.on("ready",function(){});this._readyCapability.resolve()}},{key:"_initialize",value:function e(){var t=this;if(typeof Worker!=="undefined"&&!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){var r=PDFWorker.workerSrc;try{if(!(0,_util.isSameOrigin)(window.location.href,r)){r=PDFWorkerUtil.createCDNWrapper(new URL(r,window.location).href)}var n=new Worker(r);var a=new _message_handler.MessageHandler("main","worker",n);var i=function e(){n.removeEventListener("error",o);a.destroy();n.terminate();if(t.destroyed){t._readyCapability.reject(new Error("Worker was destroyed"))}else{t._setupFakeWorker()}};var o=function e(){if(!t._webWorker){i()}};n.addEventListener("error",o);a.on("test",function(e){n.removeEventListener("error",o);if(t.destroyed){i();return}if(e){t._messageHandler=a;t._port=n;t._webWorker=n;t._readyCapability.resolve();a.send("configure",{verbosity:t.verbosity})}else{t._setupFakeWorker();a.destroy();n.terminate()}});a.on("ready",function(e){n.removeEventListener("error",o);if(t.destroyed){i();return}try{s()}catch(e){t._setupFakeWorker()}});var s=function e(){var t=new Uint8Array([255]);try{a.send("test",t,[t.buffer])}catch(e){(0,_util.warn)("Cannot use postMessage transfers.");t[0]=0;a.send("test",t)}};s();return}catch(e){(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}},{key:"_setupFakeWorker",value:function e(){var i=this;if(!PDFWorkerUtil.isWorkerDisabled){(0,_util.warn)("Setting up fake worker.");PDFWorkerUtil.isWorkerDisabled=true}PDFWorker._setupFakeWorkerGlobal.then(function(e){if(i.destroyed){i._readyCapability.reject(new Error("Worker was destroyed"));return}var t=new LoopbackPort;i._port=t;var r="fake".concat(PDFWorkerUtil.fakeWorkerId++);var n=new _message_handler.MessageHandler(r+"_worker",r,t);e.setup(n,t);var a=new _message_handler.MessageHandler(r,r+"_worker",t);i._messageHandler=a;i._readyCapability.resolve();a.send("configure",{verbosity:i.verbosity})})["catch"](function(e){i._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))})}},{key:"destroy",value:function e(){this.destroyed=true;if(this._webWorker){this._webWorker.terminate();this._webWorker=null}PDFWorker._workerPorts["delete"](this._port);this._port=null;if(this._messageHandler){this._messageHandler.destroy();this._messageHandler=null}}}],[{key:"_workerPorts",get:function e(){return(0,_util.shadow)(this,"_workerPorts",new WeakMap)}},{key:"fromPort",value:function e(t){if(!(t!==null&&t!==void 0&&t.port)){throw new Error("PDFWorker.fromPort - invalid method signature.")}if(this._workerPorts.has(t.port)){return this._workerPorts.get(t.port)}return new PDFWorker(t)}},{key:"workerSrc",get:function e(){if(_worker_options.GlobalWorkerOptions.workerSrc){return _worker_options.GlobalWorkerOptions.workerSrc}if(PDFWorkerUtil.fallbackWorkerSrc!==null){if(!_is_node.isNodeJS){(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.')}return PDFWorkerUtil.fallbackWorkerSrc}throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}},{key:"_mainThreadWorkerMessageHandler",get:function e(){try{var t;return((t=globalThis.pdfjsWorker)===null||t===void 0?void 0:t.WorkerMessageHandler)||null}catch(e){return null}}},{key:"_setupFakeWorkerGlobal",get:function get(){var _this11=this;var loader=function(){var _ref15=_asyncToGenerator(_regenerator["default"].mark(function _callee4(){var mainWorkerMessageHandler,worker;return _regenerator["default"].wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:mainWorkerMessageHandler=_this11._mainThreadWorkerMessageHandler;if(!mainWorkerMessageHandler){_context4.next=3;break}return _context4.abrupt("return",mainWorkerMessageHandler);case 3:if(!(_is_node.isNodeJS&&typeof require==="function")){_context4.next=6;break}worker=eval("require")(_this11.workerSrc);return _context4.abrupt("return",worker.WorkerMessageHandler);case 6:_context4.next=8;return(0,_display_utils.loadScript)(_this11.workerSrc);case 8:return _context4.abrupt("return",window.pdfjsWorker.WorkerMessageHandler);case 9:case"end":return _context4.stop()}}},_callee4)}));return function e(){return _ref15.apply(this,arguments)}}();return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}]);return PDFWorker}();exports.PDFWorker=PDFWorker;{PDFWorker.getWorkerSrc=function(){(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead.");return this.workerSrc}}var _docStats=new WeakMap;var _pageCache=new WeakMap;var _pagePromises=new WeakMap;var _metadataPromise=new WeakMap;var WorkerTransport=function(){function a(e,t,r,n){_classCallCheck(this,a);_classPrivateFieldInitSpec(this,_docStats,{writable:true,value:null});_classPrivateFieldInitSpec(this,_pageCache,{writable:true,value:new Map});_classPrivateFieldInitSpec(this,_pagePromises,{writable:true,value:new Map});_classPrivateFieldInitSpec(this,_metadataPromise,{writable:true,value:null});this.messageHandler=e;this.loadingTask=t;this.commonObjs=new PDFObjects;this.fontLoader=new _font_loader.FontLoader({docId:t.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:n.ownerDocument,styleElement:n.styleElement});this._params=n;if(!n.useWorkerFetch){this.CMapReaderFactory=new n.CMapReaderFactory({baseUrl:n.cMapUrl,isCompressed:n.cMapPacked});this.StandardFontDataFactory=new n.StandardFontDataFactory({baseUrl:n.standardFontDataUrl})}this.destroyed=false;this.destroyCapability=null;this._passwordCapability=null;this._networkStream=r;this._fullReader=null;this._lastProgress=null;this.downloadInfoCapability=(0,_util.createPromiseCapability)();this.setupMessageHandler()}_createClass(a,[{key:"annotationStorage",get:function e(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}},{key:"stats",get:function e(){return _classPrivateFieldGet(this,_docStats)}},{key:"getRenderingIntent",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:_util.AnnotationMode.ENABLE;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var a=_util.RenderingIntentFlag.DISPLAY;var i="";switch(t){case"any":a=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":a=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)("getRenderingIntent - invalid intent: ".concat(t))}switch(r){case _util.AnnotationMode.DISABLE:a+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:a+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:a+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE;i=this.annotationStorage.lastModified;break;default:(0,_util.warn)("getRenderingIntent - invalid annotationMode: ".concat(r))}if(n){a+=_util.RenderingIntentFlag.OPLIST}return{renderingIntent:a,cacheKey:"".concat(a,"_").concat(i)}}},{key:"destroy",value:function e(){var t=this;if(this.destroyCapability){return this.destroyCapability.promise}this.destroyed=true;this.destroyCapability=(0,_util.createPromiseCapability)();if(this._passwordCapability){this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"))}var r=[];var n=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values()),a;try{for(n.s();!(a=n.n()).done;){var i=a.value;r.push(i._destroy())}}catch(e){n.e(e)}finally{n.f()}_classPrivateFieldGet(this,_pageCache).clear();_classPrivateFieldGet(this,_pagePromises).clear();if(this.hasOwnProperty("annotationStorage")){this.annotationStorage.resetModified()}var o=this.messageHandler.sendWithPromise("Terminate",null);r.push(o);Promise.all(r).then(function(){t.commonObjs.clear();t.fontLoader.clear();_classPrivateFieldSet(t,_metadataPromise,null);t._getFieldObjectsPromise=null;t._hasJSActionsPromise=null;if(t._networkStream){t._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated."))}if(t.messageHandler){t.messageHandler.destroy();t.messageHandler=null}t.destroyCapability.resolve()},this.destroyCapability.reject);return this.destroyCapability.promise}},{key:"setupMessageHandler",value:function e(){var c=this;var f=this.messageHandler,n=this.loadingTask;f.on("GetReader",function(e,n){(0,_util.assert)(c._networkStream,"GetReader - no `IPDFStream` instance available.");c._fullReader=c._networkStream.getFullReader();c._fullReader.onProgress=function(e){c._lastProgress={loaded:e.loaded,total:e.total}};n.onPull=function(){c._fullReader.read().then(function(e){var t=e.value,r=e.done;if(r){n.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(t),"GetReader - expected an ArrayBuffer.");n.enqueue(new Uint8Array(t),1,[t])})["catch"](function(e){n.error(e)})};n.onCancel=function(e){c._fullReader.cancel(e);n.ready["catch"](function(e){if(c.destroyed){return}throw e})}});f.on("ReaderHeadersReady",function(e){var t=(0,_util.createPromiseCapability)();var r=c._fullReader;r.headersReady.then(function(){if(!r.isStreamingSupported||!r.isRangeSupported){if(c._lastProgress){var e;(e=n.onProgress)===null||e===void 0?void 0:e.call(n,c._lastProgress)}r.onProgress=function(e){var t;(t=n.onProgress)===null||t===void 0?void 0:t.call(n,{loaded:e.loaded,total:e.total})}}t.resolve({isStreamingSupported:r.isStreamingSupported,isRangeSupported:r.isRangeSupported,contentLength:r.contentLength})},t.reject);return t.promise});f.on("GetRangeReader",function(e,n){(0,_util.assert)(c._networkStream,"GetRangeReader - no `IPDFStream` instance available.");var t=c._networkStream.getRangeReader(e.begin,e.end);if(!t){n.close();return}n.onPull=function(){t.read().then(function(e){var t=e.value,r=e.done;if(r){n.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(t),"GetRangeReader - expected an ArrayBuffer.");n.enqueue(new Uint8Array(t),1,[t])})["catch"](function(e){n.error(e)})};n.onCancel=function(e){t.cancel(e);n.ready["catch"](function(e){if(c.destroyed){return}throw e})}});f.on("GetDoc",function(e){var t=e.pdfInfo;c._numPages=t.numPages;c._htmlForXfa=t.htmlForXfa;delete t.htmlForXfa;n._capability.resolve(new PDFDocumentProxy(t,c))});f.on("DocException",function(e){var t;switch(e.name){case"PasswordException":t=new _util.PasswordException(e.message,e.code);break;case"InvalidPDFException":t=new _util.InvalidPDFException(e.message);break;case"MissingPDFException":t=new _util.MissingPDFException(e.message);break;case"UnexpectedResponseException":t=new _util.UnexpectedResponseException(e.message,e.status);break;case"UnknownErrorException":t=new _util.UnknownErrorException(e.message,e.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}n._capability.reject(t)});f.on("PasswordRequest",function(e){c._passwordCapability=(0,_util.createPromiseCapability)();if(n.onPassword){var t=function e(t){c._passwordCapability.resolve({password:t})};try{n.onPassword(t,e.code)}catch(e){c._passwordCapability.reject(e)}}else{c._passwordCapability.reject(new _util.PasswordException(e.message,e.code))}return c._passwordCapability.promise});f.on("DataLoaded",function(e){var t;(t=n.onProgress)===null||t===void 0?void 0:t.call(n,{loaded:e.length,total:e.length});c.downloadInfoCapability.resolve(e)});f.on("StartRenderPage",function(e){if(c.destroyed){return}var t=_classPrivateFieldGet(c,_pageCache).get(e.pageIndex);t._startRenderPage(e.transparency,e.cacheKey)});f.on("commonobj",function(e){var t;var r=_slicedToArray(e,3),n=r[0],a=r[1],i=r[2];if(c.destroyed){return}if(c.commonObjs.has(n)){return}switch(a){case"Font":var o=c._params;if("error"in i){var s=i.error;(0,_util.warn)("Error during font loading: ".concat(s));c.commonObjs.resolve(n,s);break}var u=null;if(o.pdfBug&&(t=globalThis.FontInspector)!==null&&t!==void 0&&t.enabled){u={registerFont:function e(t,r){globalThis.FontInspector.fontAdded(t,r)}}}var l=new _font_loader.FontFaceObject(i,{isEvalSupported:o.isEvalSupported,disableFontFace:o.disableFontFace,ignoreErrors:o.ignoreErrors,onUnsupportedFeature:c._onUnsupportedFeature.bind(c),fontRegistry:u});c.fontLoader.bind(l)["catch"](function(e){return f.sendWithPromise("FontFallback",{id:n})})["finally"](function(){if(!o.fontExtraProperties&&l.data){l.data=null}c.commonObjs.resolve(n,l)});break;case"FontPath":case"Image":c.commonObjs.resolve(n,i);break;default:throw new Error("Got unknown common object type ".concat(a))}});f.on("obj",function(e){var t;var r=_slicedToArray(e,4),n=r[0],a=r[1],i=r[2],o=r[3];if(c.destroyed){return}var s=_classPrivateFieldGet(c,_pageCache).get(a);if(s.objs.has(n)){return}switch(i){case"Image":s.objs.resolve(n,o);var u=8e6;if((o===null||o===void 0?void 0:(t=o.data)===null||t===void 0?void 0:t.length)>u){s.cleanupAfterRender=true}break;case"Pattern":s.objs.resolve(n,o);break;default:throw new Error("Got unknown object type ".concat(i))}});f.on("DocProgress",function(e){var t;if(c.destroyed){return}(t=n.onProgress)===null||t===void 0?void 0:t.call(n,{loaded:e.loaded,total:e.total})});f.on("DocStats",function(e){if(c.destroyed){return}_classPrivateFieldSet(c,_docStats,Object.freeze({streamTypes:Object.freeze(e.streamTypes),fontTypes:Object.freeze(e.fontTypes)}))});f.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this));f.on("FetchBuiltInCMap",function(e){if(c.destroyed){return Promise.reject(new Error("Worker was destroyed."))}if(!c.CMapReaderFactory){return Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))}return c.CMapReaderFactory.fetch(e)});f.on("FetchStandardFontData",function(e){if(c.destroyed){return Promise.reject(new Error("Worker was destroyed."))}if(!c.StandardFontDataFactory){return Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter."))}return c.StandardFontDataFactory.fetch(e)})}},{key:"_onUnsupportedFeature",value:function e(t){var r,n;var a=t.featureId;if(this.destroyed){return}(r=(n=this.loadingTask).onUnsupportedFeature)===null||r===void 0?void 0:r.call(n,a)}},{key:"getData",value:function e(){return this.messageHandler.sendWithPromise("GetData",null)}},{key:"getPage",value:function e(t){var r=this;if(!Number.isInteger(t)||t<=0||t>this._numPages){return Promise.reject(new Error("Invalid page request"))}var n=t-1,a=_classPrivateFieldGet(this,_pagePromises).get(n);if(a){return a}var i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:n}).then(function(e){if(r.destroyed){throw new Error("Transport destroyed")}var t=new PDFPageProxy(n,e,r,r._params.ownerDocument,r._params.pdfBug);_classPrivateFieldGet(r,_pageCache).set(n,t);return t});_classPrivateFieldGet(this,_pagePromises).set(n,i);return i}},{key:"getPageIndex",value:function e(t){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:t})}},{key:"getAnnotations",value:function e(t,r){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:r})}},{key:"saveDocument",value:function e(){var t,r,n=this;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:(t=(r=this._fullReader)===null||r===void 0?void 0:r.filename)!==null&&t!==void 0?t:null})["finally"](function(){n.annotationStorage.resetModified()})}},{key:"getFieldObjects",value:function e(){return this._getFieldObjectsPromise||(this._getFieldObjectsPromise=this.messageHandler.sendWithPromise("GetFieldObjects",null))}},{key:"hasJSActions",value:function e(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}},{key:"getCalculationOrderIds",value:function e(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}},{key:"getDestinations",value:function e(){return this.messageHandler.sendWithPromise("GetDestinations",null)}},{key:"getDestination",value:function e(t){if(typeof t!=="string"){return Promise.reject(new Error("Invalid destination request."))}return this.messageHandler.sendWithPromise("GetDestination",{id:t})}},{key:"getPageLabels",value:function e(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}},{key:"getPageLayout",value:function e(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}},{key:"getPageMode",value:function e(){return this.messageHandler.sendWithPromise("GetPageMode",null)}},{key:"getViewerPreferences",value:function e(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}},{key:"getOpenAction",value:function e(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}},{key:"getAttachments",value:function e(){return this.messageHandler.sendWithPromise("GetAttachments",null)}},{key:"getJavaScript",value:function e(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}},{key:"getDocJSActions",value:function e(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}},{key:"getPageJSActions",value:function e(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}},{key:"getStructTree",value:function e(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}},{key:"getOutline",value:function e(){return this.messageHandler.sendWithPromise("GetOutline",null)}},{key:"getOptionalContentConfig",value:function e(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(function(e){return new _optional_content_config.OptionalContentConfig(e)})}},{key:"getPermissions",value:function e(){return this.messageHandler.sendWithPromise("GetPermissions",null)}},{key:"getMetadata",value:function e(){var i=this;return _classPrivateFieldGet(this,_metadataPromise)||_classPrivateFieldSet(this,_metadataPromise,this.messageHandler.sendWithPromise("GetMetadata",null).then(function(e){var t,r,n,a;return{info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:(t=(r=i._fullReader)===null||r===void 0?void 0:r.filename)!==null&&t!==void 0?t:null,contentLength:(n=(a=i._fullReader)===null||a===void 0?void 0:a.contentLength)!==null&&n!==void 0?n:null}}))}},{key:"getMarkInfo",value:function e(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}},{key:"startCleanup",value:function(){var e=_asyncToGenerator(_regenerator["default"].mark(function e(){var r,n,a,i,o,s=arguments;return _regenerator["default"].wrap(function e(t){while(1){switch(t.prev=t.next){case 0:r=s.length>0&&s[0]!==undefined?s[0]:false;t.next=3;return this.messageHandler.sendWithPromise("Cleanup",null);case 3:if(!this.destroyed){t.next=5;break}return t.abrupt("return");case 5:n=_createForOfIteratorHelper(_classPrivateFieldGet(this,_pageCache).values());t.prev=6;n.s();case 8:if((a=n.n()).done){t.next=15;break}i=a.value;o=i.cleanup();if(o){t.next=13;break}throw new Error("startCleanup: Page ".concat(i.pageNumber," is currently rendering."));case 13:t.next=8;break;case 15:t.next=20;break;case 17:t.prev=17;t.t0=t["catch"](6);n.e(t.t0);case 20:t.prev=20;n.f();return t.finish(20);case 23:this.commonObjs.clear();if(!r){this.fontLoader.clear()}_classPrivateFieldSet(this,_metadataPromise,null);this._getFieldObjectsPromise=null;this._hasJSActionsPromise=null;case 28:case"end":return t.stop()}}},e,this,[[6,17,20,23]])}));function t(){return e.apply(this,arguments)}return t}()},{key:"loadingParams",get:function e(){var t=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:t.disableAutoFetch,enableXfa:t.enableXfa})}}]);return a}();var PDFObjects=function(){function e(){_classCallCheck(this,e);this._objs=Object.create(null)}_createClass(e,[{key:"_ensureObj",value:function e(t){if(this._objs[t]){return this._objs[t]}return this._objs[t]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:false}}},{key:"get",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;if(r){this._ensureObj(t).capability.promise.then(r);return null}var n=this._objs[t];if(!n||!n.resolved){throw new Error("Requesting object that isn't resolved yet ".concat(t,"."))}return n.data}},{key:"has",value:function e(t){var r=this._objs[t];return(r===null||r===void 0?void 0:r.resolved)||false}},{key:"resolve",value:function e(t,r){var n=this._ensureObj(t);n.resolved=true;n.data=r;n.capability.resolve(r)}},{key:"clear",value:function e(){this._objs=Object.create(null)}}]);return e}();var RenderTask=function(){function t(e){_classCallCheck(this,t);this._internalRenderTask=e;this.onContinue=null}_createClass(t,[{key:"promise",get:function e(){return this._internalRenderTask.capability.promise}},{key:"cancel",value:function e(){this._internalRenderTask.cancel()}}]);return t}();exports.RenderTask=RenderTask;var InternalRenderTask=function(){function h(e){var t=e.callback,r=e.params,n=e.objs,a=e.commonObjs,i=e.annotationCanvasMap,o=e.operatorList,s=e.pageIndex,u=e.canvasFactory,l=e.useRequestAnimationFrame,c=l===void 0?false:l,f=e.pdfBug,d=f===void 0?false:f;_classCallCheck(this,h);this.callback=t;this.params=r;this.objs=n;this.commonObjs=a;this.annotationCanvasMap=i;this.operatorListIdx=null;this.operatorList=o;this._pageIndex=s;this.canvasFactory=u;this._pdfBug=d;this.running=false;this.graphicsReadyCallback=null;this.graphicsReady=false;this._useRequestAnimationFrame=c===true&&typeof window!=="undefined";this.cancelled=false;this.capability=(0,_util.createPromiseCapability)();this.task=new RenderTask(this);this._cancelBound=this.cancel.bind(this);this._continueBound=this._continue.bind(this);this._scheduleNextBound=this._scheduleNext.bind(this);this._nextBound=this._next.bind(this);this._canvas=r.canvasContext.canvas}_createClass(h,[{key:"completed",get:function e(){return this.capability.promise["catch"](function(){})}},{key:"initializeGraphics",value:function e(t){var r;var n=t.transparency,a=n===void 0?false:n,i=t.optionalContentConfig;if(this.cancelled){return}if(this._canvas){if(h.canvasInUse.has(this._canvas)){throw new Error("Cannot use the same canvas during multiple render() operations. "+"Use different canvas or ensure previous operations were "+"cancelled or completed.")}h.canvasInUse.add(this._canvas)}if(this._pdfBug&&(r=globalThis.StepperManager)!==null&&r!==void 0&&r.enabled){this.stepper=globalThis.StepperManager.create(this._pageIndex);this.stepper.init(this.operatorList);this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint()}var o=this.params,s=o.canvasContext,u=o.viewport,l=o.transform,c=o.imageLayer,f=o.background;this.gfx=new _canvas.CanvasGraphics(s,this.commonObjs,this.objs,this.canvasFactory,c,i,this.annotationCanvasMap);this.gfx.beginDrawing({transform:l,viewport:u,transparency:a,background:f});this.operatorListIdx=0;this.graphicsReady=true;if(this.graphicsReadyCallback){this.graphicsReadyCallback()}}},{key:"cancel",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;this.running=false;this.cancelled=true;if(this.gfx){this.gfx.endDrawing()}if(this._canvas){h.canvasInUse["delete"](this._canvas)}this.callback(t||new _display_utils.RenderingCancelledException("Rendering cancelled, page ".concat(this._pageIndex+1),"canvas"))}},{key:"operatorListChanged",value:function e(){if(!this.graphicsReady){if(!this.graphicsReadyCallback){this.graphicsReadyCallback=this._continueBound}return}if(this.stepper){this.stepper.updateOperatorList(this.operatorList)}if(this.running){return}this._continue()}},{key:"_continue",value:function e(){this.running=true;if(this.cancelled){return}if(this.task.onContinue){this.task.onContinue(this._scheduleNextBound)}else{this._scheduleNext()}}},{key:"_scheduleNext",value:function e(){var t=this;if(this._useRequestAnimationFrame){window.requestAnimationFrame(function(){t._nextBound()["catch"](t._cancelBound)})}else{Promise.resolve().then(this._nextBound)["catch"](this._cancelBound)}}},{key:"_next",value:function(){var e=_asyncToGenerator(_regenerator["default"].mark(function e(){return _regenerator["default"].wrap(function e(t){while(1){switch(t.prev=t.next){case 0:if(!this.cancelled){t.next=2;break}return t.abrupt("return");case 2:this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper);if(this.operatorListIdx===this.operatorList.argsArray.length){this.running=false;if(this.operatorList.lastChunk){this.gfx.endDrawing();if(this._canvas){h.canvasInUse["delete"](this._canvas)}this.callback()}}case 4:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}],[{key:"canvasInUse",get:function e(){return(0,_util.shadow)(this,"canvasInUse",new WeakSet)}}]);return h}();var version="2.12.313";exports.version=version;var build="a2ae56f39";exports.build=build},(e,t,r)=>{"use strict";function n(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){n=function e(t){return typeof t}}else{n=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return n(e)}Object.defineProperty(t,"__esModule",{value:true});t.FontLoader=t.FontFaceObject=void 0;var o=a(r(2));var R=r(4);function a(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)s(e,t)}function s(e,t){s=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return s(e,t)}function u(a){var i=f();return function e(){var t=d(a),r;if(i){var n=d(this).constructor;r=Reflect.construct(t,arguments,n)}else{r=t.apply(this,arguments)}return l(this,r)}}function l(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return c(e)}function c(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function f(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return d(e)}function h(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function v(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=s.apply(e,o);function a(e){h(n,t,r,a,i,"next",e)}function i(e){h(n,t,r,a,i,"throw",e)}a(undefined)})}}function E(t,e){var r=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=p(t))||e&&t&&typeof t.length==="number"){if(r)t=r;var n=0;var a=function e(){};return{s:a,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,o=false,s;return{s:function e(){r=r.call(t)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!i&&r["return"]!=null)r["return"]()}finally{if(o)throw s}}}}function p(e,t){if(!e)return;if(typeof e==="string")return y(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(e,t)}function y(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function m(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function g(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function b(e,t,r){if(t)g(e.prototype,t);if(r)g(e,r);return e}var _=function(){function s(e){var t=e.docId,r=e.onUnsupportedFeature,n=e.ownerDocument,a=n===void 0?globalThis.document:n,i=e.styleElement,o=i===void 0?null:i;m(this,s);if(this.constructor===s){(0,R.unreachable)("Cannot initialize BaseFontLoader.")}this.docId=t;this._onUnsupportedFeature=r;this._document=a;this.nativeFontFaces=[];this.styleElement=null}b(s,[{key:"addNativeFontFace",value:function e(t){this.nativeFontFaces.push(t);this._document.fonts.add(t)}},{key:"insertRule",value:function e(t){var r=this.styleElement;if(!r){r=this.styleElement=this._document.createElement("style");r.id="PDFJS_FONT_STYLE_TAG_".concat(this.docId);this._document.documentElement.getElementsByTagName("head")[0].appendChild(r)}var n=r.sheet;n.insertRule(t,n.cssRules.length)}},{key:"clear",value:function e(){var t=E(this.nativeFontFaces),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;this._document.fonts["delete"](n)}}catch(e){t.e(e)}finally{t.f()}this.nativeFontFaces.length=0;if(this.styleElement){this.styleElement.remove();this.styleElement=null}}},{key:"bind",value:function(){var t=v(o["default"].mark(function e(r){var n=this;var a,i;return o["default"].wrap(function e(t){while(1){switch(t.prev=t.next){case 0:if(!(r.attached||r.missingFile)){t.next=2;break}return t.abrupt("return");case 2:r.attached=true;if(!this.isFontLoadingAPISupported){t.next=19;break}a=r.createNativeFontFace();if(!a){t.next=18;break}this.addNativeFontFace(a);t.prev=7;t.next=10;return a.loaded;case 10:t.next=18;break;case 12:t.prev=12;t.t0=t["catch"](7);this._onUnsupportedFeature({featureId:R.UNSUPPORTED_FEATURES.errorFontLoadNative});(0,R.warn)("Failed to load font '".concat(a.family,"': '").concat(t.t0,"'."));r.disableFontFace=true;throw t.t0;case 18:return t.abrupt("return");case 19:i=r.createFontFaceRule();if(!i){t.next=26;break}this.insertRule(i);if(!this.isSyncFontLoadingSupported){t.next=24;break}return t.abrupt("return");case 24:t.next=26;return new Promise(function(e){var t=n._queueLoadingCallback(e);n._prepareFontLoadEvent([i],[r],t)});case 26:case"end":return t.stop()}}},e,this,[[7,12]])}));function e(e){return t.apply(this,arguments)}return e}()},{key:"_queueLoadingCallback",value:function e(t){(0,R.unreachable)("Abstract method `_queueLoadingCallback`.")}},{key:"isFontLoadingAPISupported",get:function e(){var t;var r=!!((t=this._document)!==null&&t!==void 0&&t.fonts);return(0,R.shadow)(this,"isFontLoadingAPISupported",r)}},{key:"isSyncFontLoadingSupported",get:function e(){(0,R.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}},{key:"_loadTestFont",get:function e(){(0,R.unreachable)("Abstract method `_loadTestFont`.")}},{key:"_prepareFontLoadEvent",value:function e(t,r,n){(0,R.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}]);return s}();var A;t.FontLoader=A;{t.FontLoader=A=function(e){i(n,e);var r=u(n);function n(e){var t;m(this,n);t=r.call(this,e);t.loadingContext={requests:[],nextRequestId:0};t.loadTestFontId=0;return t}b(n,[{key:"isSyncFontLoadingSupported",get:function e(){var t=false;if(typeof navigator==="undefined"){t=true}else{var r=/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent);if((r===null||r===void 0?void 0:r[1])>=14){t=true}}return(0,R.shadow)(this,"isSyncFontLoadingSupported",t)}},{key:"_queueLoadingCallback",value:function e(t){function r(){(0,R.assert)(!a.done,"completeRequest() cannot be called twice.");a.done=true;while(n.requests.length>0&&n.requests[0].done){var e=n.requests.shift();setTimeout(e.callback,0)}}var n=this.loadingContext;var a={id:"pdfjs-font-loading-".concat(n.nextRequestId++),done:false,complete:r,callback:t};n.requests.push(a);return a}},{key:"_loadTestFont",get:function e(){var t=function e(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQA"+"FQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAA"+"ALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgA"+"AAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1"+"AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD"+"6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACM"+"AooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4D"+"IP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAA"+"AAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUA"+"AQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgAB"+"AAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABY"+"AAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAA"+"AC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"+"AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAA"+"AAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQAC"+"AQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3"+"Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTj"+"FQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,R.shadow)(this,"_loadTestFont",t())}},{key:"_prepareFontLoadEvent",value:function e(t,r,n){function a(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3)&255}function i(e,t,r,n){var a=e.substring(0,t);var i=e.substring(t+r);return a+n+i}var o,s;var u=this._document.createElement("canvas");u.width=1;u.height=1;var l=u.getContext("2d");var c=0;function f(e,t){c++;if(c>30){(0,R.warn)("Load test font never loaded.");t();return}l.font="30px "+e;l.fillText(".",0,20);var r=l.getImageData(0,0,1,1);if(r.data[3]>0){t();return}setTimeout(f.bind(null,e,t))}var d="lt".concat(Date.now()).concat(this.loadTestFontId++);var h=this._loadTestFont;var v=976;h=i(h,v,d.length,d);var p=16;var y=1482184792;var m=a(h,p);for(o=0,s=d.length-3;o<s;o+=4){m=m-y+a(d,o)|0}if(o<d.length){m=m-y+a(d+"XXX",o)|0}h=i(h,p,4,(0,R.string32)(m));var g="url(data:font/opentype;base64,".concat(btoa(h),");");var b='@font-face {font-family:"'.concat(d,'";src:').concat(g,"}");this.insertRule(b);var _=[];var A=E(r),S;try{for(A.s();!(S=A.n()).done;){var w=S.value;_.push(w.loadedName)}}catch(e){A.e(e)}finally{A.f()}_.push(d);var k=this._document.createElement("div");k.style.visibility="hidden";k.style.width=k.style.height="10px";k.style.position="absolute";k.style.top=k.style.left="0px";for(var x=0,C=_;x<C.length;x++){var P=C[x];var T=this._document.createElement("span");T.textContent="Hi";T.style.fontFamily=P;k.appendChild(T)}this._document.body.appendChild(k);f(d,function(){k.remove();n.complete()})}}]);return n}(_)}var S=function(){function d(e,t){var r=t.isEvalSupported,n=r===void 0?true:r,a=t.disableFontFace,i=a===void 0?false:a,o=t.ignoreErrors,s=o===void 0?false:o,u=t.onUnsupportedFeature,l=t.fontRegistry,c=l===void 0?null:l;m(this,d);this.compiledGlyphs=Object.create(null);for(var f in e){this[f]=e[f]}this.isEvalSupported=n!==false;this.disableFontFace=i===true;this.ignoreErrors=s===true;this._onUnsupportedFeature=u;this.fontRegistry=c}b(d,[{key:"createNativeFontFace",value:function e(){if(!this.data||this.disableFontFace){return null}var t;if(!this.cssFontInfo){t=new FontFace(this.loadedName,this.data,{})}else{var r={weight:this.cssFontInfo.fontWeight};if(this.cssFontInfo.italicAngle){r.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")}t=new FontFace(this.cssFontInfo.fontFamily,this.data,r)}if(this.fontRegistry){this.fontRegistry.registerFont(this)}return t}},{key:"createFontFaceRule",value:function e(){if(!this.data||this.disableFontFace){return null}var t=(0,R.bytesToString)(this.data);var r="url(data:".concat(this.mimetype,";base64,").concat(btoa(t),");");var n;if(!this.cssFontInfo){n='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(r,"}")}else{var a="font-weight: ".concat(this.cssFontInfo.fontWeight,";");if(this.cssFontInfo.italicAngle){a+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")}n='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(a,"src:").concat(r,"}")}if(this.fontRegistry){this.fontRegistry.registerFont(this,r)}return n}},{key:"getPathGenerator",value:function e(t,r){if(this.compiledGlyphs[r]!==undefined){return this.compiledGlyphs[r]}var i;try{i=t.get(this.loadedName+"_path_"+r)}catch(e){if(!this.ignoreErrors){throw e}this._onUnsupportedFeature({featureId:R.UNSUPPORTED_FEATURES.errorFontGetPath});(0,R.warn)('getPathGenerator - ignoring character: "'.concat(e,'".'));return this.compiledGlyphs[r]=function(e,t){}}if(this.isEvalSupported&&R.IsEvalSupportedCached.value){var n=[];var a=E(i),o;try{for(a.s();!(o=a.n()).done;){var s=o.value;var u=s.args!==undefined?s.args.join(","):"";n.push("c.",s.cmd,"(",u,");\n")}}catch(e){a.e(e)}finally{a.f()}return this.compiledGlyphs[r]=new Function("c","size",n.join(""))}return this.compiledGlyphs[r]=function(e,t){var r=E(i),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;if(a.cmd==="scale"){a.args=[t,-t]}e[a.cmd].apply(e,a.args)}}catch(e){r.e(e)}finally{r.f()}}}}]);return d}();t.FontFaceObject=S},(e,t,r)=>{"use strict";function n(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){n=function e(t){return typeof t}}else{n=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return n(e)}Object.defineProperty(t,"__esModule",{value:true});t.NodeStandardFontDataFactory=t.NodeCanvasFactory=t.NodeCMapReaderFactory=void 0;var a=r(135);var i=r(6);var o=r(4);function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function u(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);return e}function l(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)c(e,t)}function c(e,t){c=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return c(e,t)}function f(a){var i=v();return function e(){var t=p(a),r;if(i){var n=p(this).constructor;r=Reflect.construct(t,arguments,n)}else{r=t.apply(this,arguments)}return d(this,r)}}function d(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return h(e)}function h(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function v(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}function p(e){p=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return p(e)}function y(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var m=function e(){y(this,e);(0,o.unreachable)("Not implemented: NodeCanvasFactory")};t.NodeCanvasFactory=m;var g=function e(){y(this,e);(0,o.unreachable)("Not implemented: NodeCMapReaderFactory")};t.NodeCMapReaderFactory=g;var b=function e(){y(this,e);(0,o.unreachable)("Not implemented: NodeStandardFontDataFactory")};t.NodeStandardFontDataFactory=b;if(i.isNodeJS){var _=function e(t){return new Promise(function(r,n){var e=require("fs");e.readFile(t,function(e,t){if(e||!t){n(new Error(e));return}r(new Uint8Array(t))})})};t.NodeCanvasFactory=m=function(e){l(r,e);var t=f(r);function r(){y(this,r);return t.apply(this,arguments)}u(r,[{key:"_createCanvas",value:function e(t,r){var n=require("canvas");return n.createCanvas(t,r)}}]);return r}(a.BaseCanvasFactory);t.NodeCMapReaderFactory=g=function(e){l(r,e);var t=f(r);function r(){y(this,r);return t.apply(this,arguments)}u(r,[{key:"_fetchData",value:function e(t,r){return _(t).then(function(e){return{cMapData:e,compressionType:r}})}}]);return r}(a.BaseCMapReaderFactory);t.NodeStandardFontDataFactory=b=function(e){l(r,e);var t=f(r);function r(){y(this,r);return t.apply(this,arguments)}u(r,[{key:"_fetchData",value:function e(t){return _(t)}}]);return r}(a.BaseStandardFontDataFactory)}},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.AnnotationStorage=void 0;var n=r(4);function c(e,t){return u(e)||s(e,t)||i(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function i(e,t){if(!e)return;if(typeof e==="string")return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}function o(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function s(e,t){var r=e==null?null:typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r==null)return;var n=[];var a=true;var i=false;var o,s;try{for(r=r.call(e);!(a=(o=r.next()).done);a=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){i=true;s=e}finally{try{if(!a&&r["return"]!=null)r["return"]()}finally{if(i)throw s}}return n}function u(e){if(Array.isArray(e))return e}function l(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function f(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function d(e,t,r){if(t)f(e.prototype,t);if(r)f(e,r);return e}var h=function(){function e(){l(this,e);this._storage=new Map;this._timeStamp=Date.now();this._modified=false;this.onSetModified=null;this.onResetModified=null}d(e,[{key:"getValue",value:function e(t,r){var n=this._storage.get(t);if(n===undefined){return r}return Object.assign(r,n)}},{key:"setValue",value:function e(t,r){var n=this._storage.get(t);var a=false;if(n!==undefined){for(var i=0,o=Object.entries(r);i<o.length;i++){var s=c(o[i],2),u=s[0],l=s[1];if(n[u]!==l){a=true;n[u]=l}}}else{a=true;this._storage.set(t,r)}if(a){this._timeStamp=Date.now();this._setModified()}}},{key:"getAll",value:function e(){return this._storage.size>0?(0,n.objectFromMap)(this._storage):null}},{key:"size",get:function e(){return this._storage.size}},{key:"_setModified",value:function e(){if(!this._modified){this._modified=true;if(typeof this.onSetModified==="function"){this.onSetModified()}}}},{key:"resetModified",value:function e(){if(this._modified){this._modified=false;if(typeof this.onResetModified==="function"){this.onResetModified()}}}},{key:"serializable",get:function e(){return this._storage.size>0?this._storage:null}},{key:"lastModified",get:function e(){return this._timeStamp.toString()}}]);return e}();t.AnnotationStorage=h},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.CanvasGraphics=void 0;var U=r(4);var W=r(141);var a=r(1);function o(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){o=function e(t){return typeof t}}else{o=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return o(e)}function b(t,e){var r=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=l(t))||e&&t&&typeof t.length==="number"){if(r)t=r;var n=0;var a=function e(){};return{s:a,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,o=false,s;return{s:function e(){r=r.call(t)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!i&&r["return"]!=null)r["return"]()}finally{if(o)throw s}}}}function u(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function i(e,t,r){if(t)n(e.prototype,t);if(r)n(e,r);return e}function g(e,t){return d(e)||f(e,t)||l(e,t)||s()}function s(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){if(!e)return;if(typeof e==="string")return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}function c(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function f(e,t){var r=e==null?null:typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r==null)return;var n=[];var a=true;var i=false;var o,s;try{for(r=r.call(e);!(a=(o=r.next()).done);a=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){i=true;s=e}finally{try{if(!a&&r["return"]!=null)r["return"]()}finally{if(i)throw s}}return n}function d(e){if(Array.isArray(e))return e}var h=16;var v=100;var y=4096;var _=15;var A=10;var p=true;var m=1e3;var q=16;var S=1.000001;function w(e,s){if(e._removeMirroring){throw new Error("Context is already forwarding operations.")}e.__originalSave=e.save;e.__originalRestore=e.restore;e.__originalRotate=e.rotate;e.__originalScale=e.scale;e.__originalTranslate=e.translate;e.__originalTransform=e.transform;e.__originalSetTransform=e.setTransform;e.__originalResetTransform=e.resetTransform;e.__originalClip=e.clip;e.__originalMoveTo=e.moveTo;e.__originalLineTo=e.lineTo;e.__originalBezierCurveTo=e.bezierCurveTo;e.__originalRect=e.rect;e.__originalClosePath=e.closePath;e.__originalBeginPath=e.beginPath;e._removeMirroring=function(){e.save=e.__originalSave;e.restore=e.__originalRestore;e.rotate=e.__originalRotate;e.scale=e.__originalScale;e.translate=e.__originalTranslate;e.transform=e.__originalTransform;e.setTransform=e.__originalSetTransform;e.resetTransform=e.__originalResetTransform;e.clip=e.__originalClip;e.moveTo=e.__originalMoveTo;e.lineTo=e.__originalLineTo;e.bezierCurveTo=e.__originalBezierCurveTo;e.rect=e.__originalRect;e.closePath=e.__originalClosePath;e.beginPath=e.__originalBeginPath;delete e._removeMirroring};e.save=function e(){s.save();this.__originalSave()};e.restore=function e(){s.restore();this.__originalRestore()};e.translate=function e(t,r){s.translate(t,r);this.__originalTranslate(t,r)};e.scale=function e(t,r){s.scale(t,r);this.__originalScale(t,r)};e.transform=function e(t,r,n,a,i,o){s.transform(t,r,n,a,i,o);this.__originalTransform(t,r,n,a,i,o)};e.setTransform=function e(t,r,n,a,i,o){s.setTransform(t,r,n,a,i,o);this.__originalSetTransform(t,r,n,a,i,o)};e.resetTransform=function e(){s.resetTransform();this.__originalResetTransform()};e.rotate=function e(t){s.rotate(t);this.__originalRotate(t)};e.clip=function e(t){s.clip(t);this.__originalClip(t)};e.moveTo=function(e,t){s.moveTo(e,t);this.__originalMoveTo(e,t)};e.lineTo=function(e,t){s.lineTo(e,t);this.__originalLineTo(e,t)};e.bezierCurveTo=function(e,t,r,n,a,i){s.bezierCurveTo(e,t,r,n,a,i);this.__originalBezierCurveTo(e,t,r,n,a,i)};e.rect=function(e,t,r,n){s.rect(e,t,r,n);this.__originalRect(e,t,r,n)};e.closePath=function(){s.closePath();this.__originalClosePath()};e.beginPath=function(){s.beginPath();this.__originalBeginPath()}}function k(u){if(u.mozCurrentTransform){return}u._originalSave=u.save;u._originalRestore=u.restore;u._originalRotate=u.rotate;u._originalScale=u.scale;u._originalTranslate=u.translate;u._originalTransform=u.transform;u._originalSetTransform=u.setTransform;u._originalResetTransform=u.resetTransform;u._transformMatrix=u._transformMatrix||[1,0,0,1,0,0];u._transformStack=[];try{var e=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(u),"lineWidth");u._setLineWidth=e.set;u._getLineWidth=e.get;Object.defineProperty(u,"lineWidth",{set:function e(t){this._setLineWidth(t*S)},get:function e(){return this._getLineWidth()}})}catch(e){}Object.defineProperty(u,"mozCurrentTransform",{get:function e(){return this._transformMatrix}});Object.defineProperty(u,"mozCurrentTransformInverse",{get:function e(){var t=g(this._transformMatrix,6),r=t[0],n=t[1],a=t[2],i=t[3],o=t[4],s=t[5];var u=r*i-n*a;var l=n*a-r*i;return[i/u,n/l,a/l,r/u,(i*o-a*s)/l,(n*o-r*s)/u]}});u.save=function e(){var t=this._transformMatrix;this._transformStack.push(t);this._transformMatrix=t.slice(0,6);this._originalSave()};u.restore=function e(){var t=this._transformStack.pop();if(t){this._transformMatrix=t;this._originalRestore()}};u.translate=function e(t,r){var n=this._transformMatrix;n[4]=n[0]*t+n[2]*r+n[4];n[5]=n[1]*t+n[3]*r+n[5];this._originalTranslate(t,r)};u.scale=function e(t,r){var n=this._transformMatrix;n[0]*=t;n[1]*=t;n[2]*=r;n[3]*=r;this._originalScale(t,r)};u.transform=function e(t,r,n,a,i,o){var s=this._transformMatrix;this._transformMatrix=[s[0]*t+s[2]*r,s[1]*t+s[3]*r,s[0]*n+s[2]*a,s[1]*n+s[3]*a,s[0]*i+s[2]*o+s[4],s[1]*i+s[3]*o+s[5]];u._originalTransform(t,r,n,a,i,o)};u.setTransform=function e(t,r,n,a,i,o){this._transformMatrix=[t,r,n,a,i,o];u._originalSetTransform(t,r,n,a,i,o)};u.resetTransform=function e(){this._transformMatrix=[1,0,0,1,0,0];u._originalResetTransform()};u.rotate=function e(t){var r=Math.cos(t);var n=Math.sin(t);var a=this._transformMatrix;this._transformMatrix=[a[0]*r+a[2]*n,a[1]*r+a[3]*n,a[0]*-n+a[2]*r,a[1]*-n+a[3]*r,a[4],a[5]];this._originalRotate(t)}}var x=function(){function t(e){u(this,t);this.canvasFactory=e;this.cache=Object.create(null)}i(t,[{key:"getCanvas",value:function e(t,r,n,a){var i;if(this.cache[t]!==undefined){i=this.cache[t];this.canvasFactory.reset(i,r,n);i.context.setTransform(1,0,0,1,0,0)}else{i=this.canvasFactory.create(r,n);this.cache[t]=i}if(a){k(i.context)}return i}},{key:"clear",value:function e(){for(var t in this.cache){var r=this.cache[t];this.canvasFactory.destroy(r);delete this.cache[t]}}}]);return t}();function C(e){var t=1e3;var r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]);var s=e.width,u=e.height,n=s+1;var a,i,o,l;var c=new Uint8Array(n*(u+1));var f=s+7&~7,d=e.data;var h=new Uint8Array(f*u);var v=0;for(a=0,i=d.length;a<i;a++){var p=d[a];var y=128;while(y>0){h[v++]=p&y?0:255;y>>=1}}var m=0;v=0;if(h[v]!==0){c[0]=1;++m}for(o=1;o<s;o++){if(h[v]!==h[v+1]){c[o]=h[v]?2:1;++m}v++}if(h[v]!==0){c[o]=2;++m}for(a=1;a<u;a++){v=a*f;l=a*n;if(h[v-f]!==h[v]){c[l]=h[v]?1:8;++m}var g=(h[v]?4:0)+(h[v-f]?8:0);for(o=1;o<s;o++){g=(g>>2)+(h[v+1]?4:0)+(h[v-f+1]?8:0);if(r[g]){c[l+o]=r[g];++m}v++}if(h[v-f]!==h[v]){c[l+o]=h[v]?2:4;++m}if(m>t){return null}}v=f*(u-1);l=a*n;if(h[v]!==0){c[l]=8;++m}for(o=1;o<s;o++){if(h[v]!==h[v+1]){c[l+o]=h[v]?4:8;++m}v++}if(h[v]!==0){c[l+o]=4;++m}if(m>t){return null}var b=new Int32Array([0,n,-1,0,-n,0,0,0,1]);var _=[];for(a=0;m&&a<=u;a++){var A=a*n;var S=A+s;while(A<S&&!c[A]){A++}if(A===S){continue}var w=[A%n,a];var k=A;var x=c[A];do{var C=b[x];do{A+=C}while(!c[A]);var P=c[A];if(P!==5&&P!==10){x=P;c[A]=0}else{x=P&51*x>>4;c[A]&=x>>2|x<<2}w.push(A%n,A/n|0);if(!c[A]){--m}}while(k!==A);_.push(w);--a}var T=function e(t){t.save();t.scale(1/s,-1/u);t.translate(0,-u);t.beginPath();for(var r=0,n=_.length;r<n;r++){var a=_[r];t.moveTo(a[0],a[1]);for(var i=2,o=a.length;i<o;i+=2){t.lineTo(a[i],a[i+1])}}t.fill();t.beginPath();t.restore()};return T}var P=function(){function r(e,t){u(this,r);this.alphaIsShape=false;this.fontSize=0;this.fontSizeScale=1;this.textMatrix=U.IDENTITY_MATRIX;this.textMatrixScale=1;this.fontMatrix=U.FONT_IDENTITY_MATRIX;this.leading=0;this.x=0;this.y=0;this.lineX=0;this.lineY=0;this.charSpacing=0;this.wordSpacing=0;this.textHScale=1;this.textRenderingMode=U.TextRenderingMode.FILL;this.textRise=0;this.fillColor="#000000";this.strokeColor="#000000";this.patternFill=false;this.fillAlpha=1;this.strokeAlpha=1;this.lineWidth=1;this.activeSMask=null;this.transferMaps=null;this.startNewPathAndClipBox([0,0,e,t])}i(r,[{key:"clone",value:function e(){var e=Object.create(this);e.clipBox=this.clipBox.slice();return e}},{key:"setCurrentPoint",value:function e(t,r){this.x=t;this.y=r}},{key:"updatePathMinMax",value:function e(t,r,n){var a=U.Util.applyTransform([r,n],t);var i=g(a,2);r=i[0];n=i[1];this.minX=Math.min(this.minX,r);this.minY=Math.min(this.minY,n);this.maxX=Math.max(this.maxX,r);this.maxY=Math.max(this.maxY,n)}},{key:"updateCurvePathMinMax",value:function e(t,r,n,a,i,o,s,u,l){var c=U.Util.bezierBoundingBox(r,n,a,i,o,s,u,l);this.updatePathMinMax(t,c[0],c[1]);this.updatePathMinMax(t,c[2],c[3])}},{key:"getPathBoundingBox",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:W.PathType.FILL;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var n=[this.minX,this.minY,this.maxX,this.maxY];if(t===W.PathType.STROKE){if(!r){(0,U.unreachable)("Stroke bounding box must include transform.")}var a=U.Util.singularValueDecompose2dScale(r);var i=a[0]*this.lineWidth/2;var o=a[1]*this.lineWidth/2;n[0]-=i;n[1]-=o;n[2]+=i;n[3]+=o}return n}},{key:"updateClipFromPath",value:function e(){var t=U.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}},{key:"startNewPathAndClipBox",value:function e(t){this.clipBox=t;this.minX=Infinity;this.minY=Infinity;this.maxX=0;this.maxY=0}},{key:"getClippedPathBoundingBox",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:W.PathType.FILL;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;return U.Util.intersect(this.clipBox,this.getPathBoundingBox(t,r))}}]);return r}();function T(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(typeof ImageData!=="undefined"&&t instanceof ImageData){e.putImageData(t,0,0);return}var n=t.height,a=t.width;var i=n%q;var o=(n-i)/q;var s=i===0?o:o+1;var u=e.createImageData(a,q);var l=0,c;var f=t.data;var d=u.data;var h,v,p,y;var m,g,b,_;if(r){switch(r.length){case 1:m=r[0];g=r[0];b=r[0];_=r[0];break;case 4:m=r[0];g=r[1];b=r[2];_=r[3];break}}if(t.kind===U.ImageKind.GRAYSCALE_1BPP){var A=f.byteLength;var S=new Uint32Array(d.buffer,0,d.byteLength>>2);var w=S.length;var k=a+7>>3;var x=4294967295;var C=U.IsLittleEndianCached.value?4278190080:255;if(_){if(_[0]===255&&_[255]===0){var P=[C,x];x=P[0];C=P[1]}}for(h=0;h<s;h++){p=h<o?q:i;c=0;for(v=0;v<p;v++){var T=A-l;var R=0;var E=T>k?a:T*8-7;var O=E&~7;var F=0;var M=0;for(;R<O;R+=8){M=f[l++];S[c++]=M&128?x:C;S[c++]=M&64?x:C;S[c++]=M&32?x:C;S[c++]=M&16?x:C;S[c++]=M&8?x:C;S[c++]=M&4?x:C;S[c++]=M&2?x:C;S[c++]=M&1?x:C}for(;R<E;R++){if(F===0){M=f[l++];F=128}S[c++]=M&F?x:C;F>>=1}}while(c<w){S[c++]=0}e.putImageData(u,0,h*q)}}else if(t.kind===U.ImageKind.RGBA_32BPP){var I=!!(m||g||b);v=0;y=a*q*4;for(h=0;h<o;h++){d.set(f.subarray(l,l+y));l+=y;if(I){for(var j=0;j<y;j+=4){if(m){d[j+0]=m[d[j+0]]}if(g){d[j+1]=g[d[j+1]]}if(b){d[j+2]=b[d[j+2]]}}}e.putImageData(u,0,v);v+=q}if(h<s){y=a*i*4;d.set(f.subarray(l,l+y));if(I){for(var L=0;L<y;L+=4){if(m){d[L+0]=m[d[L+0]]}if(g){d[L+1]=g[d[L+1]]}if(b){d[L+2]=b[d[L+2]]}}}e.putImageData(u,0,v)}}else if(t.kind===U.ImageKind.RGB_24BPP){var D=!!(m||g||b);p=q;y=a*p;for(h=0;h<s;h++){if(h>=o){p=i;y=a*p}c=0;for(v=y;v--;){d[c++]=f[l++];d[c++]=f[l++];d[c++]=f[l++];d[c++]=255}if(D){for(var N=0;N<c;N+=4){if(m){d[N+0]=m[d[N+0]]}if(g){d[N+1]=g[d[N+1]]}if(b){d[N+2]=b[d[N+2]]}}}e.putImageData(u,0,h*q)}}else{throw new Error("bad image kind: ".concat(t.kind))}}function R(e,t){var r=t.height,n=t.width;var a=r%q;var i=(r-a)/q;var o=a===0?i:i+1;var s=e.createImageData(n,q);var u=0;var l=t.data;var c=s.data;for(var f=0;f<o;f++){var d=f<i?q:a;var h=3;for(var v=0;v<d;v++){var p=void 0,y=0;for(var m=0;m<n;m++){if(!y){p=l[u++];y=128}c[h]=p&y?0:255;h+=4;y>>=1}}e.putImageData(s,0,f*q)}}function E(e,t){var r=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(var n=0,a=r.length;n<a;n++){var i=r[n];if(e[i]!==undefined){t[i]=e[i]}}if(e.setLineDash!==undefined){t.setLineDash(e.getLineDash());t.lineDashOffset=e.lineDashOffset}}function O(e){e.strokeStyle="#000000";e.fillStyle="#000000";e.fillRule="nonzero";e.globalAlpha=1;e.lineWidth=1;e.lineCap="butt";e.lineJoin="miter";e.miterLimit=10;e.globalCompositeOperation="source-over";e.font="10px sans-serif";if(e.setLineDash!==undefined){e.setLineDash([]);e.lineDashOffset=0}}function F(e,t,r,n){var a=e.length;for(var i=3;i<a;i+=4){var o=e[i];if(o===0){e[i-3]=t;e[i-2]=r;e[i-1]=n}else if(o<255){var s=255-o;e[i-3]=e[i-3]*o+t*s>>8;e[i-2]=e[i-2]*o+r*s>>8;e[i-1]=e[i-1]*o+n*s>>8}}}function M(e,t,r){var n=e.length;var a=1/255;for(var i=3;i<n;i+=4){var o=r?r[e[i]]:e[i];t[i]=t[i]*o*a|0}}function I(e,t,r){var n=e.length;for(var a=3;a<n;a+=4){var i=e[a-3]*77+e[a-2]*152+e[a-1]*28;t[a]=r?t[a]*r[i>>8]>>8:t[a]*i>>16}}function j(e,t,r,n,a,i,o,s,u,l,c){var f=!!i;var d=f?i[0]:0;var h=f?i[1]:0;var v=f?i[2]:0;var p;if(a==="Luminosity"){p=I}else{p=M}var y=1048576;var m=Math.min(n,Math.ceil(y/r));for(var g=0;g<n;g+=m){var b=Math.min(m,n-g);var _=e.getImageData(s-l,g+(u-c),r,b);var A=t.getImageData(s,g+u,r,b);if(f){F(_.data,d,h,v)}p(_.data,A.data,o);t.putImageData(A,s,g+u)}}function L(e,t,r,n){var a=n[0];var i=n[1];var o=n[2]-a;var s=n[3]-i;if(o===0||s===0){return}j(t.context,r,o,s,t.subtype,t.backdrop,t.transferMap,a,i,t.offsetX,t.offsetY);e.save();e.globalAlpha=1;e.globalCompositeOperation="source-over";e.setTransform(1,0,0,1,0,0);e.drawImage(r.canvas,0,0);e.restore()}function D(e,t){var r=U.Util.singularValueDecompose2dScale(e);r[0]=Math.fround(r[0]);r[1]=Math.fround(r[1]);var n=Math.fround((globalThis.devicePixelRatio||1)*a.PixelsPerInch.PDF_TO_CSS_UNITS);if(t!==undefined){return t}else if(r[0]<=n||r[1]<=n){return true}return false}var N=["butt","round","square"];var B=["miter","round","bevel"];var z={};var G={};var H=function(){function s(e,t,r,n,a,i,o){u(this,s);this.ctx=e;this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height);this.stateStack=[];this.pendingClip=null;this.pendingEOFill=false;this.res=null;this.xobjs=null;this.commonObjs=t;this.objs=r;this.canvasFactory=n;this.imageLayer=a;this.groupStack=[];this.processingType3=null;this.baseTransform=null;this.baseTransformStack=[];this.groupLevel=0;this.smaskStack=[];this.smaskCounter=0;this.tempSMask=null;this.suspendedCtx=null;this.contentVisible=true;this.markedContentStack=[];this.optionalContentConfig=i;this.cachedCanvases=new x(this.canvasFactory);this.cachedPatterns=new Map;this.annotationCanvasMap=o;this.viewportScale=1;this.outputScaleX=1;this.outputScaleY=1;if(e){k(e)}this._cachedGetSinglePixelWidth=null}i(s,[{key:"beginDrawing",value:function e(t){var r=t.transform,n=t.viewport,a=t.transparency,i=a===void 0?false:a,o=t.background,s=o===void 0?null:o;var u=this.ctx.canvas.width;var l=this.ctx.canvas.height;this.ctx.save();this.ctx.fillStyle=s||"rgb(255, 255, 255)";this.ctx.fillRect(0,0,u,l);this.ctx.restore();if(i){var c=this.cachedCanvases.getCanvas("transparent",u,l,true);this.compositeCtx=this.ctx;this.transparentCanvas=c.canvas;this.ctx=c.context;this.ctx.save();this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save();O(this.ctx);if(r){this.ctx.transform.apply(this.ctx,r);this.outputScaleX=r[0];this.outputScaleY=r[0]}this.ctx.transform.apply(this.ctx,n.transform);this.viewportScale=n.scale;this.baseTransform=this.ctx.mozCurrentTransform.slice();this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]);if(this.imageLayer){this.imageLayer.beginLayout()}}},{key:"executeOperatorList",value:function e(t,r,n,a){var i=t.argsArray;var o=t.fnArray;var s=r||0;var u=i.length;if(u===s){return s}var l=u-s>A&&typeof n==="function";var c=l?Date.now()+_:0;var f=0;var d=this.commonObjs;var h=this.objs;var v;while(true){if(a!==undefined&&s===a.nextBreakPoint){a.breakIt(s,n);return s}v=o[s];if(v!==U.OPS.dependency){this[v].apply(this,i[s])}else{var p=b(i[s]),y;try{for(p.s();!(y=p.n()).done;){var m=y.value;var g=m.startsWith("g_")?d:h;if(!g.has(m)){g.get(m,n);return s}}}catch(e){p.e(e)}finally{p.f()}}s++;if(s===u){return s}if(l&&++f>A){if(Date.now()>c){n();return s}f=0}}}},{key:"endDrawing",value:function e(){while(this.stateStack.length||this.current.activeSMask!==null){this.restore()}this.ctx.restore();if(this.transparentCanvas){this.ctx=this.compositeCtx;this.ctx.save();this.ctx.setTransform(1,0,0,1,0,0);this.ctx.drawImage(this.transparentCanvas,0,0);this.ctx.restore();this.transparentCanvas=null}this.cachedCanvases.clear();this.cachedPatterns.clear();if(this.imageLayer){this.imageLayer.endLayout()}}},{key:"_scaleImage",value:function e(t,r){var n=t.width;var a=t.height;var i=Math.max(Math.hypot(r[0],r[1]),1);var o=Math.max(Math.hypot(r[2],r[3]),1);var s=n,u=a;var l="prescale1";var c,f;while(i>2&&s>1||o>2&&u>1){var d=s,h=u;if(i>2&&s>1){d=Math.ceil(s/2);i/=s/d}if(o>2&&u>1){h=Math.ceil(u/2);o/=u/h}c=this.cachedCanvases.getCanvas(l,d,h);f=c.context;f.clearRect(0,0,d,h);f.drawImage(t,0,0,s,u,0,0,d,h);t=c.canvas;s=d;u=h;l=l==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:s,paintHeight:u}}},{key:"_createMaskCanvas",value:function e(t){var r=this.ctx;var n=t.width,a=t.height;var i=this.current.fillColor;var o=this.current.patternFill;var s=this.cachedCanvases.getCanvas("maskCanvas",n,a);var u=s.context;R(u,t);var l=r.mozCurrentTransform;var c=U.Util.transform(l,[1/n,0,0,-1/a,0,0]);c=U.Util.transform(c,[1,0,0,1,0,-a]);var f=U.Util.applyTransform([0,0],c);var d=U.Util.applyTransform([n,a],c);var h=U.Util.normalizeRect([f[0],f[1],d[0],d[1]]);var v=Math.ceil(h[2]-h[0]);var p=Math.ceil(h[3]-h[1]);var y=this.cachedCanvases.getCanvas("fillCanvas",v,p,true);var m=y.context;var g=Math.min(f[0],d[0]);var b=Math.min(f[1],d[1]);m.translate(-g,-b);m.transform.apply(m,c);var _=this._scaleImage(s.canvas,m.mozCurrentTransformInverse);m.imageSmoothingEnabled=D(m.mozCurrentTransform,t.interpolate);m.drawImage(_.img,0,0,_.img.width,_.img.height,0,0,n,a);m.globalCompositeOperation="source-in";var A=U.Util.transform(m.mozCurrentTransformInverse,[1,0,0,1,-g,-b]);m.fillStyle=o?i.getPattern(r,this,A,W.PathType.FILL):i;m.fillRect(0,0,n,a);return{canvas:y.canvas,offsetX:Math.round(g),offsetY:Math.round(b)}}},{key:"setLineWidth",value:function e(t){this.current.lineWidth=t;this.ctx.lineWidth=t}},{key:"setLineCap",value:function e(t){this.ctx.lineCap=N[t]}},{key:"setLineJoin",value:function e(t){this.ctx.lineJoin=B[t]}},{key:"setMiterLimit",value:function e(t){this.ctx.miterLimit=t}},{key:"setDash",value:function e(t,r){var n=this.ctx;if(n.setLineDash!==undefined){n.setLineDash(t);n.lineDashOffset=r}}},{key:"setRenderingIntent",value:function e(t){}},{key:"setFlatness",value:function e(t){}},{key:"setGState",value:function e(t){for(var r=0,n=t.length;r<n;r++){var a=t[r];var i=a[0];var o=a[1];switch(i){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o[0],o[1]);break;case"CA":this.current.strokeAlpha=a[1];break;case"ca":this.current.fillAlpha=a[1];this.ctx.globalAlpha=a[1];break;case"BM":this.ctx.globalCompositeOperation=o;break;case"SMask":this.current.activeSMask=o?this.tempSMask:null;this.tempSMask=null;this.checkSMaskState();break;case"TR":this.current.transferMaps=o}}}},{key:"checkSMaskState",value:function e(){var t=!!this.suspendedCtx;if(this.current.activeSMask&&!t){this.beginSMaskMode()}else if(!this.current.activeSMask&&t){this.endSMaskMode()}}},{key:"beginSMaskMode",value:function e(){if(this.suspendedCtx){throw new Error("beginSMaskMode called while already in smask mode")}var t=this.ctx.canvas.width;var r=this.ctx.canvas.height;var n="smaskGroupAt"+this.groupLevel;var a=this.cachedCanvases.getCanvas(n,t,r,true);this.suspendedCtx=this.ctx;this.ctx=a.context;var i=this.ctx;i.setTransform.apply(i,this.suspendedCtx.mozCurrentTransform);E(this.suspendedCtx,i);w(i,this.suspendedCtx);this.setGState([["BM","source-over"],["ca",1],["CA",1]])}},{key:"endSMaskMode",value:function e(){if(!this.suspendedCtx){throw new Error("endSMaskMode called while not in smask mode")}this.ctx._removeMirroring();E(this.ctx,this.suspendedCtx);this.ctx=this.suspendedCtx;this.current.activeSMask=null;this.suspendedCtx=null}},{key:"compose",value:function e(t){if(!this.current.activeSMask){return}if(!t){t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height]}else{t[0]=Math.floor(t[0]);t[1]=Math.floor(t[1]);t[2]=Math.ceil(t[2]);t[3]=Math.ceil(t[3])}var r=this.current.activeSMask;var n=this.suspendedCtx;L(n,r,this.ctx,t);this.ctx.save();this.ctx.setTransform(1,0,0,1,0,0);this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height);this.ctx.restore()}},{key:"save",value:function e(){this.ctx.save();var t=this.current;this.stateStack.push(t);this.current=t.clone()}},{key:"restore",value:function e(){if(this.stateStack.length===0&&this.current.activeSMask){this.endSMaskMode()}if(this.stateStack.length!==0){this.current=this.stateStack.pop();this.ctx.restore();this.checkSMaskState();this.pendingClip=null;this._cachedGetSinglePixelWidth=null}}},{key:"transform",value:function e(t,r,n,a,i,o){this.ctx.transform(t,r,n,a,i,o);this._cachedGetSinglePixelWidth=null}},{key:"constructPath",value:function e(t,r){var n=this.ctx;var a=this.current;var i=a.x,o=a.y;var s,u;for(var l=0,c=0,f=t.length;l<f;l++){switch(t[l]|0){case U.OPS.rectangle:i=r[c++];o=r[c++];var d=r[c++];var h=r[c++];var v=i+d;var p=o+h;n.moveTo(i,o);if(d===0||h===0){n.lineTo(v,p)}else{n.lineTo(v,o);n.lineTo(v,p);n.lineTo(i,p)}a.updatePathMinMax(n.mozCurrentTransform,i,o);a.updatePathMinMax(n.mozCurrentTransform,v,p);n.closePath();break;case U.OPS.moveTo:i=r[c++];o=r[c++];n.moveTo(i,o);a.updatePathMinMax(n.mozCurrentTransform,i,o);break;case U.OPS.lineTo:i=r[c++];o=r[c++];n.lineTo(i,o);a.updatePathMinMax(n.mozCurrentTransform,i,o);break;case U.OPS.curveTo:s=i;u=o;i=r[c+4];o=r[c+5];n.bezierCurveTo(r[c],r[c+1],r[c+2],r[c+3],i,o);a.updateCurvePathMinMax(n.mozCurrentTransform,s,u,r[c],r[c+1],r[c+2],r[c+3],i,o);c+=6;break;case U.OPS.curveTo2:s=i;u=o;n.bezierCurveTo(i,o,r[c],r[c+1],r[c+2],r[c+3]);a.updateCurvePathMinMax(n.mozCurrentTransform,s,u,i,o,r[c],r[c+1],r[c+2],r[c+3]);i=r[c+2];o=r[c+3];c+=4;break;case U.OPS.curveTo3:s=i;u=o;i=r[c+2];o=r[c+3];n.bezierCurveTo(r[c],r[c+1],i,o,i,o);a.updateCurvePathMinMax(n.mozCurrentTransform,s,u,r[c],r[c+1],i,o,i,o);c+=4;break;case U.OPS.closePath:n.closePath();break}}a.setCurrentPoint(i,o)}},{key:"closePath",value:function e(){this.ctx.closePath()}},{key:"stroke",value:function e(t){t=typeof t!=="undefined"?t:true;var r=this.ctx;var n=this.current.strokeColor;r.globalAlpha=this.current.strokeAlpha;if(this.contentVisible){if(o(n)==="object"&&n!==null&&n!==void 0&&n.getPattern){var a=this.getSinglePixelWidth();r.save();r.strokeStyle=n.getPattern(r,this,r.mozCurrentTransformInverse,W.PathType.STROKE);r.lineWidth=Math.max(a,this.current.lineWidth);r.stroke();r.restore()}else{var i=this.getSinglePixelWidth();if(i<0&&-i>=this.current.lineWidth){r.save();r.resetTransform();r.lineWidth=Math.round(this._combinedScaleFactor);r.stroke();r.restore()}else{r.lineWidth=Math.max(i,this.current.lineWidth);r.stroke()}}}if(t){this.consumePath(this.current.getClippedPathBoundingBox())}r.globalAlpha=this.current.fillAlpha}},{key:"closeStroke",value:function e(){this.closePath();this.stroke()}},{key:"fill",value:function e(t){t=typeof t!=="undefined"?t:true;var r=this.ctx;var n=this.current.fillColor;var a=this.current.patternFill;var i=false;if(a){r.save();r.fillStyle=n.getPattern(r,this,r.mozCurrentTransformInverse,W.PathType.FILL);i=true}var o=this.current.getClippedPathBoundingBox();if(this.contentVisible&&o!==null){if(this.pendingEOFill){r.fill("evenodd");this.pendingEOFill=false}else{r.fill()}}if(i){r.restore()}if(t){this.consumePath(o)}}},{key:"eoFill",value:function e(){this.pendingEOFill=true;this.fill()}},{key:"fillStroke",value:function e(){this.fill(false);this.stroke(false);this.consumePath()}},{key:"eoFillStroke",value:function e(){this.pendingEOFill=true;this.fillStroke()}},{key:"closeFillStroke",value:function e(){this.closePath();this.fillStroke()}},{key:"closeEOFillStroke",value:function e(){this.pendingEOFill=true;this.closePath();this.fillStroke()}},{key:"endPath",value:function e(){this.consumePath()}},{key:"clip",value:function e(){this.pendingClip=z}},{key:"eoClip",value:function e(){this.pendingClip=G}},{key:"beginText",value:function e(){this.current.textMatrix=U.IDENTITY_MATRIX;this.current.textMatrixScale=1;this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0}},{key:"endText",value:function e(){var t=this.pendingTextPaths;var r=this.ctx;if(t===undefined){r.beginPath();return}r.save();r.beginPath();for(var n=0;n<t.length;n++){var a=t[n];r.setTransform.apply(r,a.transform);r.translate(a.x,a.y);a.addToPath(r,a.fontSize)}r.restore();r.clip();r.beginPath();delete this.pendingTextPaths}},{key:"setCharSpacing",value:function e(t){this.current.charSpacing=t}},{key:"setWordSpacing",value:function e(t){this.current.wordSpacing=t}},{key:"setHScale",value:function e(t){this.current.textHScale=t/100}},{key:"setLeading",value:function e(t){this.current.leading=-t}},{key:"setFont",value:function e(t,r){var n=this.commonObjs.get(t);var a=this.current;if(!n){throw new Error("Can't find font for ".concat(t))}a.fontMatrix=n.fontMatrix||U.FONT_IDENTITY_MATRIX;if(a.fontMatrix[0]===0||a.fontMatrix[3]===0){(0,U.warn)("Invalid font matrix for font "+t)}if(r<0){r=-r;a.fontDirection=-1}else{a.fontDirection=1}this.current.font=n;this.current.fontSize=r;if(n.isType3Font){return}var i=n.loadedName||"sans-serif";var o="normal";if(n.black){o="900"}else if(n.bold){o="bold"}var s=n.italic?"italic":"normal";var u='"'.concat(i,'", ').concat(n.fallbackName);var l=r;if(r<h){l=h}else if(r>v){l=v}this.current.fontSizeScale=r/l;this.ctx.font="".concat(s," ").concat(o," ").concat(l,"px ").concat(u)}},{key:"setTextRenderingMode",value:function e(t){this.current.textRenderingMode=t}},{key:"setTextRise",value:function e(t){this.current.textRise=t}},{key:"moveText",value:function e(t,r){this.current.x=this.current.lineX+=t;this.current.y=this.current.lineY+=r}},{key:"setLeadingMoveText",value:function e(t,r){this.setLeading(-r);this.moveText(t,r)}},{key:"setTextMatrix",value:function e(t,r,n,a,i,o){this.current.textMatrix=[t,r,n,a,i,o];this.current.textMatrixScale=Math.hypot(t,r);this.current.x=this.current.lineX=0;this.current.y=this.current.lineY=0}},{key:"nextLine",value:function e(){this.moveText(0,this.current.leading)}},{key:"paintChar",value:function e(t,r,n,a,i){var o=this.ctx;var s=this.current;var u=s.font;var l=s.textRenderingMode;var c=s.fontSize/s.fontSizeScale;var f=l&U.TextRenderingMode.FILL_STROKE_MASK;var d=!!(l&U.TextRenderingMode.ADD_TO_PATH_FLAG);var h=s.patternFill&&!u.missingFile;var v;if(u.disableFontFace||d||h){v=u.getPathGenerator(this.commonObjs,t)}if(u.disableFontFace||h){o.save();o.translate(r,n);o.beginPath();v(o,c);if(a){o.setTransform.apply(o,a)}if(f===U.TextRenderingMode.FILL||f===U.TextRenderingMode.FILL_STROKE){o.fill()}if(f===U.TextRenderingMode.STROKE||f===U.TextRenderingMode.FILL_STROKE){if(i){o.resetTransform();o.lineWidth=Math.round(this._combinedScaleFactor)}o.stroke()}o.restore()}else{if(f===U.TextRenderingMode.FILL||f===U.TextRenderingMode.FILL_STROKE){o.fillText(t,r,n)}if(f===U.TextRenderingMode.STROKE||f===U.TextRenderingMode.FILL_STROKE){if(i){o.save();o.moveTo(r,n);o.resetTransform();o.lineWidth=Math.round(this._combinedScaleFactor);o.strokeText(t,0,0);o.restore()}else{o.strokeText(t,r,n)}}}if(d){var p=this.pendingTextPaths||(this.pendingTextPaths=[]);p.push({transform:o.mozCurrentTransform,x:r,y:n,fontSize:c,addToPath:v})}}},{key:"isFontSubpixelAAEnabled",get:function e(){var t=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10),r=t.context;r.scale(1.5,1);r.fillText("I",0,10);var n=r.getImageData(0,0,10,10).data;var a=false;for(var i=3;i<n.length;i+=4){if(n[i]>0&&n[i]<255){a=true;break}}return(0,U.shadow)(this,"isFontSubpixelAAEnabled",a)}},{key:"showText",value:function e(t){var r=this.current;var n=r.font;if(n.isType3Font){return this.showType3Text(t)}var a=r.fontSize;if(a===0){return undefined}var i=this.ctx;var o=r.fontSizeScale;var s=r.charSpacing;var u=r.wordSpacing;var l=r.fontDirection;var c=r.textHScale*l;var f=t.length;var d=n.vertical;var h=d?1:-1;var v=n.defaultVMetrics;var p=a*r.fontMatrix[0];var y=r.textRenderingMode===U.TextRenderingMode.FILL&&!n.disableFontFace&&!r.patternFill;i.save();i.transform.apply(i,r.textMatrix);i.translate(r.x,r.y+r.textRise);if(l>0){i.scale(c,-1)}else{i.scale(c,1)}var m;if(r.patternFill){i.save();var g=r.fillColor.getPattern(i,this,i.mozCurrentTransformInverse,W.PathType.FILL);m=i.mozCurrentTransform;i.restore();i.fillStyle=g}var b=r.lineWidth;var _=false;var A=r.textMatrixScale;if(A===0||b===0){var S=r.textRenderingMode&U.TextRenderingMode.FILL_STROKE_MASK;if(S===U.TextRenderingMode.STROKE||S===U.TextRenderingMode.FILL_STROKE){this._cachedGetSinglePixelWidth=null;b=this.getSinglePixelWidth();_=b<0}}else{b/=A}if(o!==1){i.scale(o,o);b/=o}i.lineWidth=b;var w=0,k;for(k=0;k<f;++k){var x=t[k];if((0,U.isNum)(x)){w+=h*x*a/1e3;continue}var C=false;var P=(x.isSpace?u:0)+s;var T=x.fontChar;var R=x.accent;var E=void 0,O=void 0;var F=x.width;if(d){var M=x.vmetric||v;var I=-(x.vmetric?M[1]:F*.5)*p;var j=M[2]*p;F=M?-M[0]:F;E=I/o;O=(w+j)/o}else{E=w/o;O=0}if(n.remeasure&&F>0){var L=i.measureText(T).width*1e3/a*o;if(F<L&&this.isFontSubpixelAAEnabled){var D=F/L;C=true;i.save();i.scale(D,1);E/=D}else if(F!==L){E+=(F-L)/2e3*a/o}}if(this.contentVisible&&(x.isInFont||n.missingFile)){if(y&&!R){i.fillText(T,E,O)}else{this.paintChar(T,E,O,m,_);if(R){var N=E+a*R.offset.x/o;var q=O-a*R.offset.y/o;this.paintChar(R.fontChar,N,q,m,_)}}}var B=void 0;if(d){B=F*p-P*l}else{B=F*p+P*l}w+=B;if(C){i.restore()}}if(d){r.y-=w}else{r.x+=w*c}i.restore();this.compose();return undefined}},{key:"showType3Text",value:function e(t){var r=this.ctx;var n=this.current;var a=n.font;var i=n.fontSize;var o=n.fontDirection;var s=a.vertical?1:-1;var u=n.charSpacing;var l=n.wordSpacing;var c=n.textHScale*o;var f=n.fontMatrix||U.FONT_IDENTITY_MATRIX;var d=t.length;var h=n.textRenderingMode===U.TextRenderingMode.INVISIBLE;var v,p,y,m;if(h||i===0){return}this._cachedGetSinglePixelWidth=null;r.save();r.transform.apply(r,n.textMatrix);r.translate(n.x,n.y);r.scale(c,o);for(v=0;v<d;++v){p=t[v];if((0,U.isNum)(p)){m=s*p*i/1e3;this.ctx.translate(m,0);n.x+=m*c;continue}var g=(p.isSpace?l:0)+u;var b=a.charProcOperatorList[p.operatorListId];if(!b){(0,U.warn)('Type3 character "'.concat(p.operatorListId,'" is not available.'));continue}if(this.contentVisible){this.processingType3=p;this.save();r.scale(i,i);r.transform.apply(r,f);this.executeOperatorList(b);this.restore()}var _=U.Util.applyTransform([p.width,0],f);y=_[0]*i+g;r.translate(y,0);n.x+=y*c}r.restore();this.processingType3=null}},{key:"setCharWidth",value:function e(t,r){}},{key:"setCharWidthAndBounds",value:function e(t,r,n,a,i,o){this.ctx.rect(n,a,i-n,o-a);this.clip();this.endPath()}},{key:"getColorN_Pattern",value:function e(t){var r=this;var n;if(t[0]==="TilingPattern"){var a=t[1];var i=this.baseTransform||this.ctx.mozCurrentTransform.slice();var o={createCanvasGraphics:function e(t){return new s(t,r.commonObjs,r.objs,r.canvasFactory)}};n=new W.TilingPattern(t,a,this.ctx,o,i)}else{n=this._getPattern(t[1],t[2])}return n}},{key:"setStrokeColorN",value:function e(){this.current.strokeColor=this.getColorN_Pattern(arguments)}},{key:"setFillColorN",value:function e(){this.current.fillColor=this.getColorN_Pattern(arguments);this.current.patternFill=true}},{key:"setStrokeRGBColor",value:function e(t,r,n){var a=U.Util.makeHexColor(t,r,n);this.ctx.strokeStyle=a;this.current.strokeColor=a}},{key:"setFillRGBColor",value:function e(t,r,n){var a=U.Util.makeHexColor(t,r,n);this.ctx.fillStyle=a;this.current.fillColor=a;this.current.patternFill=false}},{key:"_getPattern",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var n;if(this.cachedPatterns.has(t)){n=this.cachedPatterns.get(t)}else{n=(0,W.getShadingPattern)(this.objs.get(t));this.cachedPatterns.set(t,n)}if(r){n.matrix=r}return n}},{key:"shadingFill",value:function e(t){if(!this.contentVisible){return}var r=this.ctx;this.save();var n=this._getPattern(t);r.fillStyle=n.getPattern(r,this,r.mozCurrentTransformInverse,W.PathType.SHADING);var a=r.mozCurrentTransformInverse;if(a){var i=r.canvas;var o=i.width;var s=i.height;var u=U.Util.applyTransform([0,0],a);var l=U.Util.applyTransform([0,s],a);var c=U.Util.applyTransform([o,0],a);var f=U.Util.applyTransform([o,s],a);var d=Math.min(u[0],l[0],c[0],f[0]);var h=Math.min(u[1],l[1],c[1],f[1]);var v=Math.max(u[0],l[0],c[0],f[0]);var p=Math.max(u[1],l[1],c[1],f[1]);this.ctx.fillRect(d,h,v-d,p-h)}else{this.ctx.fillRect(-1e10,-1e10,2e10,2e10)}this.compose(this.current.getClippedPathBoundingBox());this.restore()}},{key:"beginInlineImage",value:function e(){(0,U.unreachable)("Should not call beginInlineImage")}},{key:"beginImageData",value:function e(){(0,U.unreachable)("Should not call beginImageData")}},{key:"paintFormXObjectBegin",value:function e(t,r){if(!this.contentVisible){return}this.save();this.baseTransformStack.push(this.baseTransform);if(Array.isArray(t)&&t.length===6){this.transform.apply(this,t)}this.baseTransform=this.ctx.mozCurrentTransform;if(r){var n=r[2]-r[0];var a=r[3]-r[1];this.ctx.rect(r[0],r[1],n,a);this.current.updatePathMinMax(this.ctx.mozCurrentTransform,r[0],r[1]);this.current.updatePathMinMax(this.ctx.mozCurrentTransform,r[2],r[3]);this.clip();this.endPath()}}},{key:"paintFormXObjectEnd",value:function e(){if(!this.contentVisible){return}this.restore();this.baseTransform=this.baseTransformStack.pop()}},{key:"beginGroup",value:function e(t){if(!this.contentVisible){return}this.save();var r=this.suspendedCtx;if(this.current.activeSMask){this.suspendedCtx=null;this.current.activeSMask=null}var n=this.ctx;if(!t.isolated){(0,U.info)("TODO: Support non-isolated groups.")}if(t.knockout){(0,U.warn)("Knockout groups not supported.")}var a=n.mozCurrentTransform;if(t.matrix){n.transform.apply(n,t.matrix)}if(!t.bbox){throw new Error("Bounding box is required.")}var i=U.Util.getAxialAlignedBoundingBox(t.bbox,n.mozCurrentTransform);var o=[0,0,n.canvas.width,n.canvas.height];i=U.Util.intersect(i,o)||[0,0,0,0];var s=Math.floor(i[0]);var u=Math.floor(i[1]);var l=Math.max(Math.ceil(i[2])-s,1);var c=Math.max(Math.ceil(i[3])-u,1);var f=1,d=1;if(l>y){f=l/y;l=y}if(c>y){d=c/y;c=y}this.current.startNewPathAndClipBox([0,0,l,c]);var h="groupAt"+this.groupLevel;if(t.smask){h+="_smask_"+this.smaskCounter++%2}var v=this.cachedCanvases.getCanvas(h,l,c,true);var p=v.context;p.scale(1/f,1/d);p.translate(-s,-u);p.transform.apply(p,a);if(t.smask){this.smaskStack.push({canvas:v.canvas,context:p,offsetX:s,offsetY:u,scaleX:f,scaleY:d,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null})}else{n.setTransform(1,0,0,1,0,0);n.translate(s,u);n.scale(f,d);n.save()}E(n,p);this.ctx=p;this.setGState([["BM","source-over"],["ca",1],["CA",1]]);this.groupStack.push({ctx:n,suspendedCtx:r});this.groupLevel++}},{key:"endGroup",value:function e(t){if(!this.contentVisible){return}this.groupLevel--;var r=this.ctx;var n=this.groupStack.pop(),a=n.ctx,i=n.suspendedCtx;this.ctx=a;this.ctx.imageSmoothingEnabled=false;if(i){this.suspendedCtx=i}if(t.smask){this.tempSMask=this.smaskStack.pop();this.restore()}else{this.ctx.restore();var o=this.ctx.mozCurrentTransform;this.restore();this.ctx.save();this.ctx.setTransform.apply(this.ctx,o);var s=U.Util.getAxialAlignedBoundingBox([0,0,r.canvas.width,r.canvas.height],o);this.ctx.drawImage(r.canvas,0,0);this.ctx.restore();this.compose(s)}}},{key:"beginAnnotations",value:function e(){this.save();if(this.baseTransform){this.ctx.setTransform.apply(this.ctx,this.baseTransform)}}},{key:"endAnnotations",value:function e(){this.restore()}},{key:"beginAnnotation",value:function e(t,r,n,a,i){this.save();if(Array.isArray(r)&&r.length===4){var o=r[2]-r[0];var s=r[3]-r[1];if(i&&this.annotationCanvasMap){n=n.slice();n[4]-=r[0];n[5]-=r[1];r=r.slice();r[0]=r[1]=0;r[2]=o;r[3]=s;var u=U.Util.singularValueDecompose2dScale(this.ctx.mozCurrentTransform),l=g(u,2),c=l[0],f=l[1];var d=this.viewportScale;var h=Math.ceil(o*this.outputScaleX*d);var v=Math.ceil(s*this.outputScaleY*d);this.annotationCanvas=this.canvasFactory.create(h,v);var p=this.annotationCanvas,y=p.canvas,m=p.context;y.style.width="calc(".concat(o,"px * var(--viewport-scale-factor))");y.style.height="calc(".concat(s,"px * var(--viewport-scale-factor))");this.annotationCanvasMap.set(t,y);this.annotationCanvas.savedCtx=this.ctx;this.ctx=m;this.ctx.setTransform(c,0,0,-f,0,s*f);k(this.ctx);O(this.ctx)}else{O(this.ctx);this.ctx.rect(r[0],r[1],o,s);this.clip();this.endPath()}}this.current=new P(this.ctx.canvas.width,this.ctx.canvas.height);this.transform.apply(this,n);this.transform.apply(this,a)}},{key:"endAnnotation",value:function e(){if(this.annotationCanvas){this.ctx=this.annotationCanvas.savedCtx;delete this.annotationCanvas.savedCtx;delete this.annotationCanvas}this.restore()}},{key:"paintImageMaskXObject",value:function e(t){if(!this.contentVisible){return}var r=this.ctx;var n=t.width,a=t.height;var i=this.processingType3;if(p&&i&&i.compiled===undefined){if(n<=m&&a<=m){i.compiled=C({data:t.data,width:n,height:a})}else{i.compiled=null}}if(i!==null&&i!==void 0&&i.compiled){i.compiled(r);return}var o=this._createMaskCanvas(t);var s=o.canvas;r.save();r.setTransform(1,0,0,1,0,0);r.drawImage(s,o.offsetX,o.offsetY);r.restore();this.compose()}},{key:"paintImageMaskXObjectRepeat",value:function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var a=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var i=arguments.length>4?arguments[4]:undefined;var o=arguments.length>5?arguments[5]:undefined;if(!this.contentVisible){return}var s=this.ctx;s.save();var u=s.mozCurrentTransform;s.transform(r,n,a,i,0,0);var l=this._createMaskCanvas(t);s.setTransform(1,0,0,1,0,0);for(var c=0,f=o.length;c<f;c+=2){var d=U.Util.transform(u,[r,n,a,i,o[c],o[c+1]]);var h=U.Util.applyTransform([0,0],d),v=g(h,2),p=v[0],y=v[1];s.drawImage(l.canvas,p,y)}s.restore();this.compose()}},{key:"paintImageMaskXObjectGroup",value:function e(t){if(!this.contentVisible){return}var r=this.ctx;var n=this.current.fillColor;var a=this.current.patternFill;for(var i=0,o=t.length;i<o;i++){var s=t[i];var u=s.width,l=s.height;var c=this.cachedCanvases.getCanvas("maskCanvas",u,l);var f=c.context;f.save();R(f,s);f.globalCompositeOperation="source-in";f.fillStyle=a?n.getPattern(f,this,r.mozCurrentTransformInverse,W.PathType.FILL):n;f.fillRect(0,0,u,l);f.restore();r.save();r.transform.apply(r,s.transform);r.scale(1,-1);r.drawImage(c.canvas,0,0,u,l,0,-1,1,1);r.restore()}this.compose()}},{key:"paintImageXObject",value:function e(t){if(!this.contentVisible){return}var r=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);if(!r){(0,U.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(r)}},{key:"paintImageXObjectRepeat",value:function e(t,r,n,a){if(!this.contentVisible){return}var i=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);if(!i){(0,U.warn)("Dependent image isn't ready yet");return}var o=i.width;var s=i.height;var u=[];for(var l=0,c=a.length;l<c;l+=2){u.push({transform:[r,0,0,n,a[l],a[l+1]],x:0,y:0,w:o,h:s})}this.paintInlineImageXObjectGroup(i,u)}},{key:"paintInlineImageXObject",value:function e(t){if(!this.contentVisible){return}var r=t.width;var n=t.height;var a=this.ctx;this.save();a.scale(1/r,-1/n);var i;if(typeof HTMLElement==="function"&&t instanceof HTMLElement||!t.data){i=t}else{var o=this.cachedCanvases.getCanvas("inlineImage",r,n);var s=o.context;T(s,t,this.current.transferMaps);i=o.canvas}var u=this._scaleImage(i,a.mozCurrentTransformInverse);a.imageSmoothingEnabled=D(a.mozCurrentTransform,t.interpolate);a.drawImage(u.img,0,0,u.paintWidth,u.paintHeight,0,-n,r,n);if(this.imageLayer){var l=this.getCanvasPosition(0,-n);this.imageLayer.appendImage({imgData:t,left:l[0],top:l[1],width:r/a.mozCurrentTransformInverse[0],height:n/a.mozCurrentTransformInverse[3]})}this.compose();this.restore()}},{key:"paintInlineImageXObjectGroup",value:function e(t,r){if(!this.contentVisible){return}var n=this.ctx;var a=t.width;var i=t.height;var o=this.cachedCanvases.getCanvas("inlineImage",a,i);var s=o.context;T(s,t,this.current.transferMaps);for(var u=0,l=r.length;u<l;u++){var c=r[u];n.save();n.transform.apply(n,c.transform);n.scale(1,-1);n.drawImage(o.canvas,c.x,c.y,c.w,c.h,0,-1,1,1);if(this.imageLayer){var f=this.getCanvasPosition(c.x,c.y);this.imageLayer.appendImage({imgData:t,left:f[0],top:f[1],width:a,height:i})}n.restore()}this.compose()}},{key:"paintSolidColorImageMask",value:function e(){if(!this.contentVisible){return}this.ctx.fillRect(0,0,1,1);this.compose()}},{key:"markPoint",value:function e(t){}},{key:"markPointProps",value:function e(t,r){}},{key:"beginMarkedContent",value:function e(t){this.markedContentStack.push({visible:true})}},{key:"beginMarkedContentProps",value:function e(t,r){if(t==="OC"){this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(r)})}else{this.markedContentStack.push({visible:true})}this.contentVisible=this.isContentVisible()}},{key:"endMarkedContent",value:function e(){this.markedContentStack.pop();this.contentVisible=this.isContentVisible()}},{key:"beginCompat",value:function e(){}},{key:"endCompat",value:function e(){}},{key:"consumePath",value:function e(t){if(this.pendingClip){this.current.updateClipFromPath()}if(!this.pendingClip){this.compose(t)}var r=this.ctx;if(this.pendingClip){if(this.pendingClip===G){r.clip("evenodd")}else{r.clip()}this.pendingClip=null}this.current.startNewPathAndClipBox(this.current.clipBox);r.beginPath()}},{key:"getSinglePixelWidth",value:function e(){if(this._cachedGetSinglePixelWidth===null){var t=this.ctx.mozCurrentTransform;var r=Math.abs(t[0]*t[3]-t[2]*t[1]);var n=Math.pow(t[0],2)+Math.pow(t[2],2);var a=Math.pow(t[1],2)+Math.pow(t[3],2);var i=Math.sqrt(Math.max(n,a))/r;if(n!==a&&this._combinedScaleFactor*i>1){this._cachedGetSinglePixelWidth=-(this._combinedScaleFactor*i)}else if(r>Number.EPSILON){this._cachedGetSinglePixelWidth=i}else{this._cachedGetSinglePixelWidth=1}}return this._cachedGetSinglePixelWidth}},{key:"getCanvasPosition",value:function e(t,r){var n=this.ctx.mozCurrentTransform;return[n[0]*t+n[2]*r+n[4],n[1]*t+n[3]*r+n[5]]}},{key:"isContentVisible",value:function e(){for(var t=this.markedContentStack.length-1;t>=0;t--){if(!this.markedContentStack[t].visible){return false}}return true}}]);return s}();t.CanvasGraphics=H;for(var V in U.OPS){if(H.prototype[V]!==undefined){H.prototype[U.OPS[V]]=H.prototype[V]}}},(e,t,r)=>{"use strict";function n(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){n=function e(t){return typeof t}}else{n=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return n(e)}Object.defineProperty(t,"__esModule",{value:true});t.TilingPattern=t.PathType=void 0;t.getShadingPattern=w;var C=r(4);function T(t,e){var r=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=u(t))||e&&t&&typeof t.length==="number"){if(r)t=r;var n=0;var a=function e(){};return{s:a,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,o=false,s;return{s:function e(){r=r.call(t)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!i&&r["return"]!=null)r["return"]()}finally{if(o)throw s}}}}function u(e,t){if(!e)return;if(typeof e==="string")return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}function a(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function i(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)o(e,t)}function o(e,t){o=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return o(e,t)}function s(a){var i=f();return function e(){var t=d(a),r;if(i){var n=d(this).constructor;r=Reflect.construct(t,arguments,n)}else{r=t.apply(this,arguments)}return l(this,r)}}function l(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return c(e)}function c(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function f(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}function d(e){d=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return d(e)}function h(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function p(e,t,r){if(t)v(e.prototype,t);if(r)v(e,r);return e}var y={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};t.PathType=y;function m(e,t){if(!t||typeof Path2D==="undefined"){return}var r=t[2]-t[0];var n=t[3]-t[1];var a=new Path2D;a.rect(t[0],t[1],r,n);e.clip(a)}var g=function(){function e(){h(this,e);if(this.constructor===e){(0,C.unreachable)("Cannot initialize BaseShadingPattern.")}}p(e,[{key:"getPattern",value:function e(){(0,C.unreachable)("Abstract method `getPattern` called.")}}]);return e}();var b=function(e){i(n,e);var r=s(n);function n(e){var t;h(this,n);t=r.call(this);t._type=e[1];t._bbox=e[2];t._colorStops=e[3];t._p0=e[4];t._p1=e[5];t._r0=e[6];t._r1=e[7];t.matrix=null;return t}p(n,[{key:"_createGradient",value:function e(t){var r;if(this._type==="axial"){r=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1])}else if(this._type==="radial"){r=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1)}var n=T(this._colorStops),a;try{for(n.s();!(a=n.n()).done;){var i=a.value;r.addColorStop(i[0],i[1])}}catch(e){n.e(e)}finally{n.f()}return r}},{key:"getPattern",value:function e(t,r,n,a){var i;if(a===y.STROKE||a===y.FILL){var o=r.current.getClippedPathBoundingBox(a,t.mozCurrentTransform)||[0,0,0,0];var s=Math.ceil(o[2]-o[0])||1;var u=Math.ceil(o[3]-o[1])||1;var l=r.cachedCanvases.getCanvas("pattern",s,u,true);var c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height);c.beginPath();c.rect(0,0,c.canvas.width,c.canvas.height);c.translate(-o[0],-o[1]);n=C.Util.transform(n,[1,0,0,1,o[0],o[1]]);c.transform.apply(c,r.baseTransform);if(this.matrix){c.transform.apply(c,this.matrix)}m(c,this._bbox);c.fillStyle=this._createGradient(c);c.fill();i=t.createPattern(l.canvas,"no-repeat");var f=new DOMMatrix(n);try{i.setTransform(f)}catch(e){(0,C.warn)('RadialAxialShadingPattern.getPattern: "'.concat(e===null||e===void 0?void 0:e.message,'".'))}}else{m(t,this._bbox);i=this._createGradient(t)}return i}}]);return n}(g);function _(e,t,r,n,a,i,o,s){var u=t.coords,l=t.colors;var c=e.data,f=e.width*4;var d;if(u[r+1]>u[n+1]){d=r;r=n;n=d;d=i;i=o;o=d}if(u[n+1]>u[a+1]){d=n;n=a;a=d;d=o;o=s;s=d}if(u[r+1]>u[n+1]){d=r;r=n;n=d;d=i;i=o;o=d}var h=(u[r]+t.offsetX)*t.scaleX;var v=(u[r+1]+t.offsetY)*t.scaleY;var p=(u[n]+t.offsetX)*t.scaleX;var y=(u[n+1]+t.offsetY)*t.scaleY;var m=(u[a]+t.offsetX)*t.scaleX;var g=(u[a+1]+t.offsetY)*t.scaleY;if(v>=g){return}var b=l[i],_=l[i+1],A=l[i+2];var S=l[o],w=l[o+1],k=l[o+2];var x=l[s],C=l[s+1],P=l[s+2];var T=Math.round(v),R=Math.round(g);var E,O,F,M;var I,j,L,D;for(var N=T;N<=R;N++){if(N<y){var q=void 0;if(N<v){q=0}else{q=(v-N)/(v-y)}E=h-(h-p)*q;O=b-(b-S)*q;F=_-(_-w)*q;M=A-(A-k)*q}else{var B=void 0;if(N>g){B=1}else if(y===g){B=0}else{B=(y-N)/(y-g)}E=p-(p-m)*B;O=S-(S-x)*B;F=w-(w-C)*B;M=k-(k-P)*B}var U=void 0;if(N<v){U=0}else if(N>g){U=1}else{U=(v-N)/(v-g)}I=h-(h-m)*U;j=b-(b-x)*U;L=_-(_-C)*U;D=A-(A-P)*U;var W=Math.round(Math.min(E,I));var z=Math.round(Math.max(E,I));var G=f*N+W*4;for(var H=W;H<=z;H++){U=(E-H)/(E-I);if(U<0){U=0}else if(U>1){U=1}c[G++]=O-(O-j)*U|0;c[G++]=F-(F-L)*U|0;c[G++]=M-(M-D)*U|0;c[G++]=255}}}function R(e,t,r){var n=t.coords;var a=t.colors;var i,o;switch(t.type){case"lattice":var s=t.verticesPerRow;var u=Math.floor(n.length/s)-1;var l=s-1;for(i=0;i<u;i++){var c=i*s;for(var f=0;f<l;f++,c++){_(e,r,n[c],n[c+1],n[c+s],a[c],a[c+1],a[c+s]);_(e,r,n[c+s+1],n[c+1],n[c+s],a[c+s+1],a[c+1],a[c+s])}}break;case"triangles":for(i=0,o=n.length;i<o;i+=3){_(e,r,n[i],n[i+1],n[i+2],a[i],a[i+1],a[i+2])}break;default:throw new Error("illegal figure")}}var A=function(e){i(n,e);var r=s(n);function n(e){var t;h(this,n);t=r.call(this);t._coords=e[2];t._colors=e[3];t._figures=e[4];t._bounds=e[5];t._bbox=e[7];t._background=e[8];t.matrix=null;return t}p(n,[{key:"_createMeshCanvas",value:function e(t,r,n){var a=1.1;var i=3e3;var o=2;var s=Math.floor(this._bounds[0]);var u=Math.floor(this._bounds[1]);var l=Math.ceil(this._bounds[2])-s;var c=Math.ceil(this._bounds[3])-u;var f=Math.min(Math.ceil(Math.abs(l*t[0]*a)),i);var d=Math.min(Math.ceil(Math.abs(c*t[1]*a)),i);var h=l/f;var v=c/d;var p={coords:this._coords,colors:this._colors,offsetX:-s,offsetY:-u,scaleX:1/h,scaleY:1/v};var y=f+o*2;var m=d+o*2;var g=n.getCanvas("mesh",y,m,false);var b=g.context;var _=b.createImageData(f,d);if(r){var A=_.data;for(var S=0,w=A.length;S<w;S+=4){A[S]=r[0];A[S+1]=r[1];A[S+2]=r[2];A[S+3]=255}}var k=T(this._figures),x;try{for(k.s();!(x=k.n()).done;){var C=x.value;R(_,C,p)}}catch(e){k.e(e)}finally{k.f()}b.putImageData(_,o,o);var P=g.canvas;return{canvas:P,offsetX:s-o*h,offsetY:u-o*v,scaleX:h,scaleY:v}}},{key:"getPattern",value:function e(t,r,n,a){m(t,this._bbox);var i;if(a===y.SHADING){i=C.Util.singularValueDecompose2dScale(t.mozCurrentTransform)}else{i=C.Util.singularValueDecompose2dScale(r.baseTransform);if(this.matrix){var o=C.Util.singularValueDecompose2dScale(this.matrix);i=[i[0]*o[0],i[1]*o[1]]}}var s=this._createMeshCanvas(i,a===y.SHADING?null:this._background,r.cachedCanvases);if(a!==y.SHADING){t.setTransform.apply(t,r.baseTransform);if(this.matrix){t.transform.apply(t,this.matrix)}}t.translate(s.offsetX,s.offsetY);t.scale(s.scaleX,s.scaleY);return t.createPattern(s.canvas,"no-repeat")}}]);return n}(g);var S=function(e){i(r,e);var t=s(r);function r(){h(this,r);return t.apply(this,arguments)}p(r,[{key:"getPattern",value:function e(){return"hotpink"}}]);return r}(g);function w(e){switch(e[0]){case"RadialAxial":return new b(e);case"Mesh":return new A(e);case"Dummy":return new S}throw new Error("Unknown IR type: ".concat(e[0]))}var k={COLORED:1,UNCOLORED:2};var x=function(){function o(e,t,r,n,a){h(this,o);this.operatorList=e[2];this.matrix=e[3]||[1,0,0,1,0,0];this.bbox=e[4];this.xstep=e[5];this.ystep=e[6];this.paintType=e[7];this.tilingType=e[8];this.color=t;this.ctx=r;this.canvasGraphicsFactory=n;this.baseTransform=a}p(o,[{key:"createPatternCanvas",value:function e(t){var r=this.operatorList;var n=this.bbox;var a=this.xstep;var i=this.ystep;var o=this.paintType;var s=this.tilingType;var u=this.color;var l=this.canvasGraphicsFactory;(0,C.info)("TilingType: "+s);var c=n[0],f=n[1],d=n[2],h=n[3];var v=C.Util.singularValueDecompose2dScale(this.matrix);var p=C.Util.singularValueDecompose2dScale(this.baseTransform);var y=[v[0]*p[0],v[1]*p[1]];var m=this.getSizeAndScale(a,this.ctx.canvas.width,y[0]);var g=this.getSizeAndScale(i,this.ctx.canvas.height,y[1]);var b=t.cachedCanvases.getCanvas("pattern",m.size,g.size,true);var _=b.context;var A=l.createCanvasGraphics(_);A.groupLevel=t.groupLevel;this.setFillAndStrokeStyleToContext(A,o,u);var S=c;var w=f;var k=d;var x=h;if(c<0){S=0;k+=Math.abs(c)}if(f<0){w=0;x+=Math.abs(f)}_.translate(-(m.scale*S),-(g.scale*w));A.transform(m.scale,0,0,g.scale,0,0);this.clipBbox(A,S,w,k,x);A.baseTransform=A.ctx.mozCurrentTransform.slice();A.executeOperatorList(r);A.endDrawing();return{canvas:b.canvas,scaleX:m.scale,scaleY:g.scale,offsetX:S,offsetY:w}}},{key:"getSizeAndScale",value:function e(t,r,n){t=Math.abs(t);var a=Math.max(o.MAX_PATTERN_SIZE,r);var i=Math.ceil(t*n);if(i>=a){i=a}else{n=i/t}return{scale:n,size:i}}},{key:"clipBbox",value:function e(t,r,n,a,i){var o=a-r;var s=i-n;t.ctx.rect(r,n,o,s);t.clip();t.endPath()}},{key:"setFillAndStrokeStyleToContext",value:function e(t,r,n){var a=t.ctx,i=t.current;switch(r){case k.COLORED:var o=this.ctx;a.fillStyle=o.fillStyle;a.strokeStyle=o.strokeStyle;i.fillColor=o.fillStyle;i.strokeColor=o.strokeStyle;break;case k.UNCOLORED:var s=C.Util.makeHexColor(n[0],n[1],n[2]);a.fillStyle=s;a.strokeStyle=s;i.fillColor=s;i.strokeColor=s;break;default:throw new C.FormatError("Unsupported paint type: ".concat(r))}}},{key:"getPattern",value:function e(t,r,n,a){var i=n;if(a!==y.SHADING){i=C.Util.transform(i,r.baseTransform);if(this.matrix){i=C.Util.transform(i,this.matrix)}}var o=this.createPatternCanvas(r);var s=new DOMMatrix(i);s=s.translate(o.offsetX,o.offsetY);s=s.scale(1/o.scaleX,1/o.scaleY);var u=t.createPattern(o.canvas,"repeat");try{u.setTransform(s)}catch(e){(0,C.warn)('TilingPattern.getPattern: "'.concat(e===null||e===void 0?void 0:e.message,'".'))}return u}}],[{key:"MAX_PATTERN_SIZE",get:function e(){return(0,C.shadow)(this,"MAX_PATTERN_SIZE",3e3)}}]);return o}();t.TilingPattern=x},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.GlobalWorkerOptions=void 0;var r=Object.create(null);t.GlobalWorkerOptions=r;r.workerPort=r.workerPort===undefined?null:r.workerPort;r.workerSrc=r.workerSrc===undefined?"":r.workerSrc},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.MessageHandler=void 0;var a=n(r(2));var f=r(4);function n(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function i(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=s.apply(e,o);function a(e){u(n,t,r,a,i,"next",e)}function i(e){u(n,t,r,a,i,"throw",e)}a(undefined)})}}function o(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function s(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function l(e,t,r){if(t)s(e.prototype,t);if(r)s(e,r);return e}function c(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){c=function e(t){return typeof t}}else{c=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return c(e)}var d={UNKNOWN:0,DATA:1,ERROR:2};var h={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function v(e){if(!(e instanceof Error||c(e)==="object"&&e!==null)){(0,f.warn)('wrapReason: Expected "reason" to be a (possibly cloned) Error.');return e}switch(e.name){case"AbortException":return new f.AbortException(e.message);case"MissingPDFException":return new f.MissingPDFException(e.message);case"PasswordException":return new f.PasswordException(e.message,e.code);case"UnexpectedResponseException":return new f.UnexpectedResponseException(e.message,e.status);case"UnknownErrorException":return new f.UnknownErrorException(e.message,e.details);default:return new f.UnknownErrorException(e.message,e.toString())}}var p=function(){function r(e,t,s){var u=this;o(this,r);this.sourceName=e;this.targetName=t;this.comObj=s;this.callbackId=1;this.streamId=1;this.streamSinks=Object.create(null);this.streamControllers=Object.create(null);this.callbackCapabilities=Object.create(null);this.actionHandler=Object.create(null);this._onComObjOnMessage=function(e){var t=e.data;if(t.targetName!==u.sourceName){return}if(t.stream){u._processStreamMessage(t);return}if(t.callback){var r=t.callbackId;var n=u.callbackCapabilities[r];if(!n){throw new Error("Cannot resolve callback ".concat(r))}delete u.callbackCapabilities[r];if(t.callback===d.DATA){n.resolve(t.data)}else if(t.callback===d.ERROR){n.reject(v(t.reason))}else{throw new Error("Unexpected callback case")}return}var a=u.actionHandler[t.action];if(!a){throw new Error("Unknown action from worker: ".concat(t.action))}if(t.callbackId){var i=u.sourceName;var o=t.sourceName;new Promise(function(e){e(a(t.data))}).then(function(e){s.postMessage({sourceName:i,targetName:o,callback:d.DATA,callbackId:t.callbackId,data:e})},function(e){s.postMessage({sourceName:i,targetName:o,callback:d.ERROR,callbackId:t.callbackId,reason:v(e)})});return}if(t.streamId){u._createStreamSink(t);return}a(t.data)};s.addEventListener("message",this._onComObjOnMessage)}l(r,[{key:"on",value:function e(t,r){var n=this.actionHandler;if(n[t]){throw new Error('There is already an actionName called "'.concat(t,'"'))}n[t]=r}},{key:"send",value:function e(t,r,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:r},n)}},{key:"sendWithPromise",value:function e(t,r,n){var a=this.callbackId++;var i=(0,f.createPromiseCapability)();this.callbackCapabilities[a]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:a,data:r},n)}catch(e){i.reject(e)}return i.promise}},{key:"sendWithStream",value:function e(n,a,t,i){var o=this;var s=this.streamId++,u=this.sourceName,l=this.targetName,c=this.comObj;return new ReadableStream({start:function e(t){var r=(0,f.createPromiseCapability)();o.streamControllers[s]={controller:t,startCall:r,pullCall:null,cancelCall:null,isClosed:false};c.postMessage({sourceName:u,targetName:l,action:n,streamId:s,data:a,desiredSize:t.desiredSize},i);return r.promise},pull:function e(t){var r=(0,f.createPromiseCapability)();o.streamControllers[s].pullCall=r;c.postMessage({sourceName:u,targetName:l,stream:h.PULL,streamId:s,desiredSize:t.desiredSize});return r.promise},cancel:function e(t){(0,f.assert)(t instanceof Error,"cancel must have a valid reason");var r=(0,f.createPromiseCapability)();o.streamControllers[s].cancelCall=r;o.streamControllers[s].isClosed=true;c.postMessage({sourceName:u,targetName:l,stream:h.CANCEL,streamId:s,reason:v(t)});return r.promise}},t)}},{key:"_createStreamSink",value:function e(t){var i=t.streamId,o=this.sourceName,s=t.sourceName,u=this.comObj;var r=this,n=this.actionHandler[t.action];var a={enqueue:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var n=arguments.length>2?arguments[2]:undefined;if(this.isCancelled){return}var a=this.desiredSize;this.desiredSize-=r;if(a>0&&this.desiredSize<=0){this.sinkCapability=(0,f.createPromiseCapability)();this.ready=this.sinkCapability.promise}u.postMessage({sourceName:o,targetName:s,stream:h.ENQUEUE,streamId:i,chunk:t},n)},close:function e(){if(this.isCancelled){return}this.isCancelled=true;u.postMessage({sourceName:o,targetName:s,stream:h.CLOSE,streamId:i});delete r.streamSinks[i]},error:function e(t){(0,f.assert)(t instanceof Error,"error must have a valid reason");if(this.isCancelled){return}this.isCancelled=true;u.postMessage({sourceName:o,targetName:s,stream:h.ERROR,streamId:i,reason:v(t)})},sinkCapability:(0,f.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:false,desiredSize:t.desiredSize,ready:null};a.sinkCapability.resolve();a.ready=a.sinkCapability.promise;this.streamSinks[i]=a;new Promise(function(e){e(n(t.data,a))}).then(function(){u.postMessage({sourceName:o,targetName:s,stream:h.START_COMPLETE,streamId:i,success:true})},function(e){u.postMessage({sourceName:o,targetName:s,stream:h.START_COMPLETE,streamId:i,reason:v(e)})})}},{key:"_processStreamMessage",value:function e(t){var r=t.streamId,n=this.sourceName,a=t.sourceName,i=this.comObj;var o=this.streamControllers[r],s=this.streamSinks[r];switch(t.stream){case h.START_COMPLETE:if(t.success){o.startCall.resolve()}else{o.startCall.reject(v(t.reason))}break;case h.PULL_COMPLETE:if(t.success){o.pullCall.resolve()}else{o.pullCall.reject(v(t.reason))}break;case h.PULL:if(!s){i.postMessage({sourceName:n,targetName:a,stream:h.PULL_COMPLETE,streamId:r,success:true});break}if(s.desiredSize<=0&&t.desiredSize>0){s.sinkCapability.resolve()}s.desiredSize=t.desiredSize;new Promise(function(e){e(s.onPull&&s.onPull())}).then(function(){i.postMessage({sourceName:n,targetName:a,stream:h.PULL_COMPLETE,streamId:r,success:true})},function(e){i.postMessage({sourceName:n,targetName:a,stream:h.PULL_COMPLETE,streamId:r,reason:v(e)})});break;case h.ENQUEUE:(0,f.assert)(o,"enqueue should have stream controller");if(o.isClosed){break}o.controller.enqueue(t.chunk);break;case h.CLOSE:(0,f.assert)(o,"close should have stream controller");if(o.isClosed){break}o.isClosed=true;o.controller.close();this._deleteStreamController(o,r);break;case h.ERROR:(0,f.assert)(o,"error should have stream controller");o.controller.error(v(t.reason));this._deleteStreamController(o,r);break;case h.CANCEL_COMPLETE:if(t.success){o.cancelCall.resolve()}else{o.cancelCall.reject(v(t.reason))}this._deleteStreamController(o,r);break;case h.CANCEL:if(!s){break}new Promise(function(e){e(s.onCancel&&s.onCancel(v(t.reason)))}).then(function(){i.postMessage({sourceName:n,targetName:a,stream:h.CANCEL_COMPLETE,streamId:r,success:true})},function(e){i.postMessage({sourceName:n,targetName:a,stream:h.CANCEL_COMPLETE,streamId:r,reason:v(e)})});s.sinkCapability.reject(v(t.reason));s.isCancelled=true;delete this.streamSinks[r];break;default:throw new Error("Unexpected stream case")}}},{key:"_deleteStreamController",value:function(){var r=i(a["default"].mark(function e(r,n){return a["default"].wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return Promise.allSettled([r.startCall&&r.startCall.promise,r.pullCall&&r.pullCall.promise,r.cancelCall&&r.cancelCall.promise]);case 2:delete this.streamControllers[n];case 3:case"end":return t.stop()}}},e,this)}));function e(e,t){return r.apply(this,arguments)}return e}()},{key:"destroy",value:function e(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}]);return r}();t.MessageHandler=p},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Metadata=void 0;var a=r(4);function i(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function o(e,t,r){if(t)n(e.prototype,t);if(r)n(e,r);return e}function s(e,t,r){u(e,t);t.set(e,r)}function u(e,t){if(t.has(e)){throw new TypeError("Cannot initialize the same private elements twice on an object")}}function l(e,t){var r=d(e,t,"get");return c(e,r)}function c(e,t){if(t.get){return t.get.call(e)}return t.value}function f(e,t,r){var n=d(e,t,"set");h(e,n,r);return r}function d(e,t,r){if(!t.has(e)){throw new TypeError("attempted to "+r+" private field on non-instance")}return t.get(e)}function h(e,t,r){if(t.set){t.set.call(e,r)}else{if(!t.writable){throw new TypeError("attempted to set read only private field")}t.value=r}}var v=new WeakMap;var p=new WeakMap;var y=function(){function n(e){var t=e.parsedData,r=e.rawData;i(this,n);s(this,v,{writable:true,value:void 0});s(this,p,{writable:true,value:void 0});f(this,v,t);f(this,p,r)}o(n,[{key:"getRaw",value:function e(){return l(this,p)}},{key:"get",value:function e(t){var r;return(r=l(this,v).get(t))!==null&&r!==void 0?r:null}},{key:"getAll",value:function e(){return(0,a.objectFromMap)(l(this,v))}},{key:"has",value:function e(t){return l(this,v).has(t)}}]);return n}();t.Metadata=y},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.OptionalContentConfig=void 0;var v=r(4);function p(t,e){var r=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=u(t))||e&&t&&typeof t.length==="number"){if(r)t=r;var n=0;var a=function e(){};return{s:a,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,o=false,s;return{s:function e(){r=r.call(t)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!i&&r["return"]!=null)r["return"]()}finally{if(o)throw s}}}}function u(e,t){if(!e)return;if(typeof e==="string")return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}function n(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function i(e,t,r){if(t)a(e.prototype,t);if(r)a(e,r);return e}function y(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var m=function e(t,r){y(this,e);this.visible=true;this.name=t;this.intent=r};var o=function(){function h(e){y(this,h);this.name=null;this.creator=null;this._order=null;this._groups=new Map;if(e===null){return}this.name=e.name;this.creator=e.creator;this._order=e.order;var t=p(e.groups),r;try{for(t.s();!(r=t.n()).done;){var n=r.value;this._groups.set(n.id,new m(n.name,n.intent))}}catch(e){t.e(e)}finally{t.f()}if(e.baseState==="OFF"){var a=p(this._groups),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;o.visible=false}}catch(e){a.e(e)}finally{a.f()}}var s=p(e.on),u;try{for(s.s();!(u=s.n()).done;){var l=u.value;this._groups.get(l).visible=true}}catch(e){s.e(e)}finally{s.f()}var c=p(e.off),f;try{for(c.s();!(f=c.n()).done;){var d=f.value;this._groups.get(d).visible=false}}catch(e){c.e(e)}finally{c.f()}}i(h,[{key:"_evaluateVisibilityExpression",value:function e(t){var r=t.length;if(r<2){return true}var n=t[0];for(var a=1;a<r;a++){var i=t[a];var o=void 0;if(Array.isArray(i)){o=this._evaluateVisibilityExpression(i)}else if(this._groups.has(i)){o=this._groups.get(i).visible}else{(0,v.warn)("Optional content group not found: ".concat(i));return true}switch(n){case"And":if(!o){return false}break;case"Or":if(o){return true}break;case"Not":return!o;default:return true}}return n==="And"}},{key:"isVisible",value:function e(t){if(this._groups.size===0){return true}if(!t){(0,v.warn)("Optional content group not defined.");return true}if(t.type==="OCG"){if(!this._groups.has(t.id)){(0,v.warn)("Optional content group not found: ".concat(t.id));return true}return this._groups.get(t.id).visible}else if(t.type==="OCMD"){if(t.expression){return this._evaluateVisibilityExpression(t.expression)}if(!t.policy||t.policy==="AnyOn"){var r=p(t.ids),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;if(!this._groups.has(a)){(0,v.warn)("Optional content group not found: ".concat(a));return true}if(this._groups.get(a).visible){return true}}}catch(e){r.e(e)}finally{r.f()}return false}else if(t.policy==="AllOn"){var i=p(t.ids),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(!this._groups.has(s)){(0,v.warn)("Optional content group not found: ".concat(s));return true}if(!this._groups.get(s).visible){return false}}}catch(e){i.e(e)}finally{i.f()}return true}else if(t.policy==="AnyOff"){var u=p(t.ids),l;try{for(u.s();!(l=u.n()).done;){var c=l.value;if(!this._groups.has(c)){(0,v.warn)("Optional content group not found: ".concat(c));return true}if(!this._groups.get(c).visible){return true}}}catch(e){u.e(e)}finally{u.f()}return false}else if(t.policy==="AllOff"){var f=p(t.ids),d;try{for(f.s();!(d=f.n()).done;){var h=d.value;if(!this._groups.has(h)){(0,v.warn)("Optional content group not found: ".concat(h));return true}if(this._groups.get(h).visible){return false}}}catch(e){f.e(e)}finally{f.f()}return true}(0,v.warn)("Unknown optional content policy ".concat(t.policy,"."));return true}(0,v.warn)("Unknown group type ".concat(t.type,"."));return true}},{key:"setVisibility",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(!this._groups.has(t)){(0,v.warn)("Optional content group not found: ".concat(t));return}this._groups.get(t).visible=!!r}},{key:"getOrder",value:function e(){if(!this._groups.size){return null}if(this._order){return this._order.slice()}return Array.from(this._groups.keys())}},{key:"getGroups",value:function e(){return this._groups.size>0?(0,v.objectFromMap)(this._groups):null}},{key:"getGroup",value:function e(t){return this._groups.get(t)||null}}]);return h}();t.OptionalContentConfig=o},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFDataTransportStream=void 0;var a=n(r(2));var o=r(4);var u=r(1);function n(e){return e&&e.__esModule?e:{default:e}}function l(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function i(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=s.apply(e,o);function a(e){l(n,t,r,a,i,"next",e)}function i(e){l(n,t,r,a,i,"throw",e)}a(undefined)})}}function c(t,e){var r=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=f(t))||e&&t&&typeof t.length==="number"){if(r)t=r;var n=0;var a=function e(){};return{s:a,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,o=false,s;return{s:function e(){r=r.call(t)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!i&&r["return"]!=null)r["return"]()}finally{if(o)throw s}}}}function f(e,t){if(!e)return;if(typeof e==="string")return s(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s(e,t)}function s(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function v(e,t,r){if(t)h(e.prototype,t);if(r)h(e,r);return e}var p=function(){function i(e,t){var r=this;d(this,i);(0,o.assert)(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');this._queuedChunks=[];this._progressiveDone=e.progressiveDone||false;this._contentDispositionFilename=e.contentDispositionFilename||null;var n=e.initialData;if((n===null||n===void 0?void 0:n.length)>0){var a=new Uint8Array(n).buffer;this._queuedChunks.push(a)}this._pdfDataRangeTransport=t;this._isStreamingSupported=!e.disableStream;this._isRangeSupported=!e.disableRange;this._contentLength=e.length;this._fullRequestReader=null;this._rangeReaders=[];this._pdfDataRangeTransport.addRangeListener(function(e,t){r._onReceiveData({begin:e,chunk:t})});this._pdfDataRangeTransport.addProgressListener(function(e,t){r._onProgress({loaded:e,total:t})});this._pdfDataRangeTransport.addProgressiveReadListener(function(e){r._onReceiveData({chunk:e})});this._pdfDataRangeTransport.addProgressiveDoneListener(function(){r._onProgressiveDone()});this._pdfDataRangeTransport.transportReady()}v(i,[{key:"_onReceiveData",value:function e(t){var r=new Uint8Array(t.chunk).buffer;if(t.begin===undefined){if(this._fullRequestReader){this._fullRequestReader._enqueue(r)}else{this._queuedChunks.push(r)}}else{var n=this._rangeReaders.some(function(e){if(e._begin!==t.begin){return false}e._enqueue(r);return true});(0,o.assert)(n,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}},{key:"_progressiveDataLength",get:function e(){var t,r;return(t=(r=this._fullRequestReader)===null||r===void 0?void 0:r._loaded)!==null&&t!==void 0?t:0}},{key:"_onProgress",value:function e(t){if(t.total===undefined){var r=this._rangeReaders[0];if(r!==null&&r!==void 0&&r.onProgress){r.onProgress({loaded:t.loaded})}}else{var n=this._fullRequestReader;if(n!==null&&n!==void 0&&n.onProgress){n.onProgress({loaded:t.loaded,total:t.total})}}}},{key:"_onProgressiveDone",value:function e(){if(this._fullRequestReader){this._fullRequestReader.progressiveDone()}this._progressiveDone=true}},{key:"_removeRangeReader",value:function e(t){var r=this._rangeReaders.indexOf(t);if(r>=0){this._rangeReaders.splice(r,1)}}},{key:"getFullReader",value:function e(){(0,o.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");var t=this._queuedChunks;this._queuedChunks=null;return new y(this,t,this._progressiveDone,this._contentDispositionFilename)}},{key:"getRangeReader",value:function e(t,r){if(r<=this._progressiveDataLength){return null}var n=new m(this,t,r);this._pdfDataRangeTransport.requestDataRange(t,r);this._rangeReaders.push(n);return n}},{key:"cancelAllRequests",value:function e(t){if(this._fullRequestReader){this._fullRequestReader.cancel(t)}var r=c(this._rangeReaders.slice(0)),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.cancel(t)}}catch(e){r.e(e)}finally{r.f()}this._pdfDataRangeTransport.abort()}}]);return i}();t.PDFDataTransportStream=p;var y=function(){function s(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var n=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;d(this,s);this._stream=e;this._done=r||false;this._filename=(0,u.isPdfFile)(n)?n:null;this._queuedChunks=t||[];this._loaded=0;var a=c(this._queuedChunks),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;this._loaded+=o.byteLength}}catch(e){a.e(e)}finally{a.f()}this._requests=[];this._headersReady=Promise.resolve();e._fullRequestReader=this;this.onProgress=null}v(s,[{key:"_enqueue",value:function e(t){if(this._done){return}if(this._requests.length>0){var r=this._requests.shift();r.resolve({value:t,done:false})}else{this._queuedChunks.push(t)}this._loaded+=t.byteLength}},{key:"headersReady",get:function e(){return this._headersReady}},{key:"filename",get:function e(){return this._filename}},{key:"isRangeSupported",get:function e(){return this._stream._isRangeSupported}},{key:"isStreamingSupported",get:function e(){return this._stream._isStreamingSupported}},{key:"contentLength",get:function e(){return this._stream._contentLength}},{key:"read",value:function(){var e=i(a["default"].mark(function e(){var r,n;return a["default"].wrap(function e(t){while(1){switch(t.prev=t.next){case 0:if(!(this._queuedChunks.length>0)){t.next=3;break}r=this._queuedChunks.shift();return t.abrupt("return",{value:r,done:false});case 3:if(!this._done){t.next=5;break}return t.abrupt("return",{value:undefined,done:true});case 5:n=(0,o.createPromiseCapability)();this._requests.push(n);return t.abrupt("return",n.promise);case 8:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){this._done=true;var r=c(this._requests),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.resolve({value:undefined,done:true})}}catch(e){r.e(e)}finally{r.f()}this._requests.length=0}},{key:"progressiveDone",value:function e(){if(this._done){return}this._done=true}}]);return s}();var m=function(){function n(e,t,r){d(this,n);this._stream=e;this._begin=t;this._end=r;this._queuedChunk=null;this._requests=[];this._done=false;this.onProgress=null}v(n,[{key:"_enqueue",value:function e(t){if(this._done){return}if(this._requests.length===0){this._queuedChunk=t}else{var r=this._requests.shift();r.resolve({value:t,done:false});var n=c(this._requests),a;try{for(n.s();!(a=n.n()).done;){var i=a.value;i.resolve({value:undefined,done:true})}}catch(e){n.e(e)}finally{n.f()}this._requests.length=0}this._done=true;this._stream._removeRangeReader(this)}},{key:"isStreamingSupported",get:function e(){return false}},{key:"read",value:function(){var e=i(a["default"].mark(function e(){var r,n;return a["default"].wrap(function e(t){while(1){switch(t.prev=t.next){case 0:if(!this._queuedChunk){t.next=4;break}r=this._queuedChunk;this._queuedChunk=null;return t.abrupt("return",{value:r,done:false});case 4:if(!this._done){t.next=6;break}return t.abrupt("return",{value:undefined,done:true});case 6:n=(0,o.createPromiseCapability)();this._requests.push(n);return t.abrupt("return",n.promise);case 9:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){this._done=true;var r=c(this._requests),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.resolve({value:undefined,done:true})}}catch(e){r.e(e)}finally{r.f()}this._requests.length=0;this._stream._removeRangeReader(this)}}]);return n}()},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.XfaText=void 0;function c(t,e){var r=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=u(t))||e&&t&&typeof t.length==="number"){if(r)t=r;var n=0;var a=function e(){};return{s:a,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,o=false,s;return{s:function e(){r=r.call(t)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!i&&r["return"]!=null)r["return"]()}finally{if(o)throw s}}}}function u(e,t){if(!e)return;if(typeof e==="string")return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return n(e,t)}function n(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function r(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function a(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function i(e,t,r){if(t)a(e.prototype,t);if(r)a(e,r);return e}var o=function(){function l(){r(this,l)}i(l,null,[{key:"textContent",value:function e(t){var s=[];var r={items:s,styles:Object.create(null)};function u(e){var t;if(!e){return}var r=null;var n=e.name;if(n==="#text"){r=e.value}else if(!l.shouldBuildText(n)){return}else if(e!==null&&e!==void 0&&(t=e.attributes)!==null&&t!==void 0&&t.textContent){r=e.attributes.textContent}else if(e.value){r=e.value}if(r!==null){s.push({str:r})}if(!e.children){return}var a=c(e.children),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;u(o)}}catch(e){a.e(e)}finally{a.f()}}u(t);return r}},{key:"shouldBuildText",value:function e(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}]);return l}();t.XfaText=o},(e,t,r)=>{"use strict";function n(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){n=function e(t){return typeof t}}else{n=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return n(e)}Object.defineProperty(t,"__esModule",{value:true});t.AnnotationLayer=void 0;var k=r(4);var m=r(1);var y=r(139);var c=r(149);var g=r(150);function x(e,t,r){a(e,t);return r}function a(e,t){if(e!==t){throw new TypeError("Private static access of wrong provenance")}}function i(e,t,r){if(typeof Reflect!=="undefined"&&Reflect.get){i=Reflect.get}else{i=function e(t,r,n){var a=o(t,r);if(!a)return;var i=Object.getOwnPropertyDescriptor(a,r);if(i.get){return i.get.call(n)}return i.value}}return i(e,t,r||e)}function o(e,t){while(!Object.prototype.hasOwnProperty.call(e,t)){e=A(e);if(e===null)break}return e}function l(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function j(e){return f(e)||u(e)||C(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function f(e){if(Array.isArray(e))return P(e)}function d(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)h(e,t)}function h(e,t){h=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return h(e,t)}function v(a){var i=_();return function e(){var t=A(a),r;if(i){var n=A(this).constructor;r=Reflect.construct(t,arguments,n)}else{r=t.apply(this,arguments)}return p(this,r)}}function p(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return b(e)}function b(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function _(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}function A(e){A=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return A(e)}function L(t,e){var r=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=C(t))||e&&t&&typeof t.length==="number"){if(r)t=r;var n=0;var a=function e(){};return{s:a,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,o=false,s;return{s:function e(){r=r.call(t)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!i&&r["return"]!=null)r["return"]()}finally{if(o)throw s}}}}function S(e,t){return R(e)||T(e,t)||C(e,t)||w()}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function C(e,t){if(!e)return;if(typeof e==="string")return P(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return P(e,t)}function P(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function T(e,t){var r=e==null?null:typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r==null)return;var n=[];var a=true;var i=false;var o,s;try{for(r=r.call(e);!(a=(o=r.next()).done);a=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){i=true;s=e}finally{try{if(!a&&r["return"]!=null)r["return"]()}finally{if(i)throw s}}return n}function R(e){if(Array.isArray(e))return e}function E(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function O(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function F(e,t,r){if(t)O(e.prototype,t);if(r)O(e,r);return e}var M=1e3;var D=new WeakSet;var I=function(){function e(){E(this,e)}F(e,null,[{key:"create",value:function e(t){var r=t.data.annotationType;switch(r){case k.AnnotationType.LINK:return new q(t);case k.AnnotationType.TEXT:return new B(t);case k.AnnotationType.WIDGET:var n=t.data.fieldType;switch(n){case"Tx":return new W(t);case"Btn":if(t.data.radioButton){return new G(t)}else if(t.data.checkBox){return new z(t)}return new H(t);case"Ch":return new V(t)}return new U(t);case k.AnnotationType.POPUP:return new X(t);case k.AnnotationType.FREETEXT:return new K(t);case k.AnnotationType.LINE:return new Q(t);case k.AnnotationType.SQUARE:return new J(t);case k.AnnotationType.CIRCLE:return new $(t);case k.AnnotationType.POLYLINE:return new Z(t);case k.AnnotationType.CARET:return new te(t);case k.AnnotationType.INK:return new re(t);case k.AnnotationType.POLYGON:return new ee(t);case k.AnnotationType.HIGHLIGHT:return new ne(t);case k.AnnotationType.UNDERLINE:return new ae(t);case k.AnnotationType.SQUIGGLY:return new ie(t);case k.AnnotationType.STRIKEOUT:return new oe(t);case k.AnnotationType.STAMP:return new se(t);case k.AnnotationType.FILEATTACHMENT:return new ue(t);default:return new N(t)}}}]);return e}();var N=function(){function u(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{},r=t.isRenderable,n=r===void 0?false:r,a=t.ignoreBorder,i=a===void 0?false:a,o=t.createQuadrilaterals,s=o===void 0?false:o;E(this,u);this.isRenderable=n;this.data=e.data;this.layer=e.layer;this.page=e.page;this.viewport=e.viewport;this.linkService=e.linkService;this.downloadManager=e.downloadManager;this.imageResourcesPath=e.imageResourcesPath;this.renderForms=e.renderForms;this.svgFactory=e.svgFactory;this.annotationStorage=e.annotationStorage;this.enableScripting=e.enableScripting;this.hasJSActions=e.hasJSActions;this._fieldObjects=e.fieldObjects;this._mouseState=e.mouseState;if(n){this.container=this._createContainer(i)}if(s){this.quadrilaterals=this._createQuadrilaterals(i)}}F(u,[{key:"_createContainer",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var r=this.data,n=this.page,a=this.viewport;var i=document.createElement("section");var o=r.rect[2]-r.rect[0];var s=r.rect[3]-r.rect[1];i.setAttribute("data-annotation-id",r.id);var u=k.Util.normalizeRect([r.rect[0],n.view[3]-r.rect[1]+n.view[1],r.rect[2],n.view[3]-r.rect[3]+n.view[1]]);if(r.hasOwnCanvas){var l=a.transform.slice();var c=k.Util.singularValueDecompose2dScale(l),f=S(c,2),d=f[0],h=f[1];o=Math.ceil(o*d);s=Math.ceil(s*h);u[0]*=d;u[1]*=h;for(var v=0;v<4;v++){l[v]=Math.sign(l[v])}i.style.transform="matrix(".concat(l.join(","),")")}else{i.style.transform="matrix(".concat(a.transform.join(","),")")}i.style.transformOrigin="".concat(-u[0],"px ").concat(-u[1],"px");if(!t&&r.borderStyle.width>0){i.style.borderWidth="".concat(r.borderStyle.width,"px");if(r.borderStyle.style!==k.AnnotationBorderStyleType.UNDERLINE){o-=2*r.borderStyle.width;s-=2*r.borderStyle.width}var p=r.borderStyle.horizontalCornerRadius;var y=r.borderStyle.verticalCornerRadius;if(p>0||y>0){var m="".concat(p,"px / ").concat(y,"px");i.style.borderRadius=m}switch(r.borderStyle.style){case k.AnnotationBorderStyleType.SOLID:i.style.borderStyle="solid";break;case k.AnnotationBorderStyleType.DASHED:i.style.borderStyle="dashed";break;case k.AnnotationBorderStyleType.BEVELED:(0,k.warn)("Unimplemented border style: beveled");break;case k.AnnotationBorderStyleType.INSET:(0,k.warn)("Unimplemented border style: inset");break;case k.AnnotationBorderStyleType.UNDERLINE:i.style.borderBottomStyle="solid";break;default:break}var g=r.borderColor||r.color||null;if(g){i.style.borderColor=k.Util.makeHexColor(r.color[0]|0,r.color[1]|0,r.color[2]|0)}else{i.style.borderWidth=0}}i.style.left="".concat(u[0],"px");i.style.top="".concat(u[1],"px");if(r.hasOwnCanvas){i.style.width=i.style.height="auto"}else{i.style.width="".concat(o,"px");i.style.height="".concat(s,"px")}return i}},{key:"_createQuadrilaterals",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!this.data.quadPoints){return null}var r=[];var n=this.data.rect;var a=L(this.data.quadPoints),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;this.data.rect=[o[2].x,o[2].y,o[1].x,o[1].y];r.push(this._createContainer(t))}}catch(e){a.e(e)}finally{a.f()}this.data.rect=n;return r}},{key:"_createPopup",value:function e(t,r){var n=this.container;if(this.quadrilaterals){t=t||this.quadrilaterals;n=this.quadrilaterals[0]}if(!t){t=document.createElement("div");t.style.height=n.style.height;t.style.width=n.style.width;n.appendChild(t)}var a=new Y({container:n,trigger:t,color:r.color,titleObj:r.titleObj,modificationDate:r.modificationDate,contentsObj:r.contentsObj,richText:r.richText,hideWrapper:true});var i=a.render();i.style.left=n.style.width;n.appendChild(i)}},{key:"_renderQuadrilaterals",value:function e(t){var r=L(this.quadrilaterals),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.className=t}}catch(e){r.e(e)}finally{r.f()}return this.quadrilaterals}},{key:"render",value:function e(){(0,k.unreachable)("Abstract method `AnnotationElement.render` called")}},{key:"_getElementsByName",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var n=[];if(this._fieldObjects){var a=this._fieldObjects[t];if(a){var i=L(a),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,u=s.page,l=s.id,c=s.exportValues;if(u===-1){continue}if(l===r){continue}var f=typeof c==="string"?c:null;var d=document.getElementById(l);if(d&&!D.has(d)){(0,k.warn)("_getElementsByName - element not allowed: ".concat(l));continue}n.push({id:l,exportValue:f,domElement:d})}}catch(e){i.e(e)}finally{i.f()}}return n}var h=L(document.getElementsByName(t)),v;try{for(h.s();!(v=h.n()).done;){var p=v.value;var y=p.id,m=p.exportValue;if(y===r){continue}if(!D.has(p)){continue}n.push({id:y,exportValue:m,domElement:p})}}catch(e){h.e(e)}finally{h.f()}return n}}],[{key:"platform",get:function e(){var t=typeof navigator!=="undefined"?navigator.platform:"";return(0,k.shadow)(this,"platform",{isWin:t.includes("Win"),isMac:t.includes("Mac")})}}]);return u}();var q=function(e){d(a,e);var n=v(a);function a(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;E(this,a);var r=!!(e.data.url||e.data.dest||e.data.action||e.data.isTooltipOnly||e.data.resetForm||e.data.actions&&(e.data.actions.Action||e.data.actions["Mouse Up"]||e.data.actions["Mouse Down"]));return n.call(this,e,{isRenderable:r,ignoreBorder:!!(t!==null&&t!==void 0&&t.ignoreBorder),createQuadrilaterals:true})}F(a,[{key:"render",value:function e(){var t=this.data,r=this.linkService;var n=document.createElement("a");if(t.url){var a;if(!r.addLinkAttributes){(0,k.warn)("LinkAnnotationElement.render - missing `addLinkAttributes`-method on the `linkService`-instance.")}(a=r.addLinkAttributes)===null||a===void 0?void 0:a.call(r,n,t.url,t.newWindow)}else if(t.action){this._bindNamedAction(n,t.action)}else if(t.dest){this._bindLink(n,t.dest)}else{var i=false;if(t.actions&&(t.actions.Action||t.actions["Mouse Up"]||t.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions){i=true;this._bindJSAction(n,t)}if(t.resetForm){this._bindResetFormAction(n,t.resetForm)}else if(!i){this._bindLink(n,"")}}if(this.quadrilaterals){return this._renderQuadrilaterals("linkAnnotation").map(function(e,t){var r=t===0?n:n.cloneNode();e.appendChild(r);return e})}this.container.className="linkAnnotation";this.container.appendChild(n);return this.container}},{key:"_bindLink",value:function e(t,r){var n=this;t.href=this.linkService.getDestinationHash(r);t.onclick=function(){if(r){n.linkService.goToDestination(r)}return false};if(r||r===""){t.className="internalLink"}}},{key:"_bindNamedAction",value:function e(t,r){var n=this;t.href=this.linkService.getAnchorUrl("");t.onclick=function(){n.linkService.executeNamedAction(r);return false};t.className="internalLink"}},{key:"_bindJSAction",value:function e(n,a){var i=this;n.href=this.linkService.getAnchorUrl("");var o=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);var t=function e(){var t=u[s];var r=o.get(t);if(!r){return"continue"}n[r]=function(){var e;(e=i.linkService.eventBus)===null||e===void 0?void 0:e.dispatch("dispatcheventinsandbox",{source:i,detail:{id:a.id,name:t}});return false}};for(var s=0,u=Object.keys(a.actions);s<u.length;s++){var r=t();if(r==="continue")continue}if(!n.onclick){n.onclick=function(){return false}}n.className="internalLink"}},{key:"_bindResetFormAction",value:function e(t,F){var M=this;var I=t.onclick;if(!I){t.href=this.linkService.getAnchorUrl("")}t.className="internalLink";if(!this._fieldObjects){(0,k.warn)('_bindResetFormAction - "resetForm" action not supported, '+"ensure that the `fieldObjects` parameter is provided.");if(!I){t.onclick=function(){return false}}return}t.onclick=function(){if(I){I()}var e=F.fields,t=F.refs,r=F.include;var n=[];if(e.length!==0||t.length!==0){var a=new Set(t);var i=L(e),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;var u=M._fieldObjects[s]||[];var l=L(u),c;try{for(l.s();!(c=l.n()).done;){var f=c.value.id;a.add(f)}}catch(e){l.e(e)}finally{l.f()}}}catch(e){i.e(e)}finally{i.f()}for(var d=0,h=Object.values(M._fieldObjects);d<h.length;d++){var v=h[d];var p=L(v),y;try{for(p.s();!(y=p.n()).done;){var m=y.value;if(a.has(m.id)===r){n.push(m)}}}catch(e){p.e(e)}finally{p.f()}}}else{for(var g=0,b=Object.values(M._fieldObjects);g<b.length;g++){var _=b[g];n.push.apply(n,j(_))}}var A=M.annotationStorage;var S=[];for(var w=0,k=n;w<k.length;w++){var x=k[w];var C=x.id;S.push(C);switch(x.type){case"text":{var P=x.defaultValue||"";A.setValue(C,{value:P,valueAsString:P});break}case"checkbox":case"radiobutton":{var T=x.defaultValue===x.exportValues;A.setValue(C,{value:T});break}case"combobox":case"listbox":{var R=x.defaultValue||"";A.setValue(C,{value:R});break}default:continue}var E=document.getElementById(C);if(!E||!D.has(E)){continue}E.dispatchEvent(new Event("resetform"))}if(M.enableScripting){var O;(O=M.linkService.eventBus)===null||O===void 0?void 0:O.dispatch("dispatcheventinsandbox",{source:M,detail:{id:"app",ids:S,name:"ResetForm"}})}return false}}}]);return a}(N);var B=function(e){d(o,e);var i=v(o);function o(e){var t,r,n;E(this,o);var a=!!(e.data.hasPopup||(t=e.data.titleObj)!==null&&t!==void 0&&t.str||(r=e.data.contentsObj)!==null&&r!==void 0&&r.str||(n=e.data.richText)!==null&&n!==void 0&&n.str);return i.call(this,e,{isRenderable:a})}F(o,[{key:"render",value:function e(){this.container.className="textAnnotation";var t=document.createElement("img");t.style.height=this.container.style.height;t.style.width=this.container.style.width;t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg";t.alt="[{{type}} Annotation]";t.dataset.l10nId="text_annotation_type";t.dataset.l10nArgs=JSON.stringify({type:this.data.name});if(!this.data.hasPopup){this._createPopup(t,this.data)}this.container.appendChild(t);return this.container}}]);return o}(N);var U=function(e){d(r,e);var t=v(r);function r(){E(this,r);return t.apply(this,arguments)}F(r,[{key:"render",value:function e(){if(this.data.alternativeText){this.container.title=this.data.alternativeText}return this.container}},{key:"_getKeyModifier",value:function e(t){var r=N.platform,n=r.isWin,a=r.isMac;return n&&t.ctrlKey||a&&t.metaKey}},{key:"_setEventListener",value:function e(t,r,n,a){var i=this;if(r.includes("mouse")){t.addEventListener(r,function(e){var t;(t=i.linkService.eventBus)===null||t===void 0?void 0:t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:i.data.id,name:n,value:a(e),shift:e.shiftKey,modifier:i._getKeyModifier(e)}})})}else{t.addEventListener(r,function(e){var t;(t=i.linkService.eventBus)===null||t===void 0?void 0:t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:i.data.id,name:n,value:e.target.checked}})})}}},{key:"_setEventListeners",value:function e(t,r,n){var a=L(r),i;try{for(a.s();!(i=a.n()).done;){var o;var s=S(i.value,2),u=s[0],l=s[1];if(l==="Action"||(o=this.data.actions)!==null&&o!==void 0&&o[l]){this._setEventListener(t,u,l,n)}}}catch(e){a.e(e)}finally{a.f()}}},{key:"_setBackgroundColor",value:function e(t){var r=this.data.backgroundColor||null;t.style.backgroundColor=r===null?"transparent":k.Util.makeHexColor(r[0],r[1],r[2])}},{key:"_dispatchEventFromSandbox",value:function e(t,r){var n=this;var a=function e(t,r,n){var a=n.detail[t];n.target.style[r]=c.ColorConverters["".concat(a[0],"_HTML")](a.slice(1))};var i={display:function e(t){var r=t.detail.display%2===1;t.target.style.visibility=r?"hidden":"visible";n.annotationStorage.setValue(n.data.id,{hidden:r,print:t.detail.display===0||t.detail.display===3})},print:function e(t){n.annotationStorage.setValue(n.data.id,{print:t.detail.print})},hidden:function e(t){t.target.style.visibility=t.detail.hidden?"hidden":"visible";n.annotationStorage.setValue(n.data.id,{hidden:t.detail.hidden})},focus:function e(t){setTimeout(function(){return t.target.focus({preventScroll:false})},0)},userName:function e(t){t.target.title=t.detail.userName},readonly:function e(t){if(t.detail.readonly){t.target.setAttribute("readonly","")}else{t.target.removeAttribute("readonly")}},required:function e(t){if(t.detail.required){t.target.setAttribute("required","")}else{t.target.removeAttribute("required")}},bgColor:function e(t){a("bgColor","backgroundColor",t)},fillColor:function e(t){a("fillColor","backgroundColor",t)},fgColor:function e(t){a("fgColor","color",t)},textColor:function e(t){a("textColor","color",t)},borderColor:function e(t){a("borderColor","borderColor",t)},strokeColor:function e(t){a("strokeColor","borderColor",t)}};for(var o=0,s=Object.keys(r.detail);o<s.length;o++){var u=s[o];var l=t[u]||i[u];if(l){l(r)}}}}]);return r}(N);var W=function(e){d(n,e);var r=v(n);function n(e){E(this,n);var t=e.renderForms||!e.data.hasAppearance&&!!e.data.fieldValue;return r.call(this,e,{isRenderable:t})}F(n,[{key:"setPropertyOnSiblings",value:function e(t,r,n,a){var i=this.annotationStorage;var o=L(this._getElementsByName(t.name,t.id)),s;try{for(o.s();!(s=o.n()).done;){var u=s.value;if(u.domElement){u.domElement[r]=n}i.setValue(u.id,l({},a,n))}}catch(e){o.e(e)}finally{o.f()}}},{key:"render",value:function e(){var i=this;var r=this.annotationStorage;var o=this.data.id;this.container.className="textWidgetAnnotation";var n=null;if(this.renderForms){var t=r.getValue(o,{value:this.data.fieldValue,valueAsString:this.data.fieldValue});var a=t.valueAsString||t.value||"";var s={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};if(this.data.multiLine){n=document.createElement("textarea");n.textContent=a}else{n=document.createElement("input");n.type="text";n.setAttribute("value",a)}D.add(n);n.disabled=this.data.readOnly;n.name=this.data.fieldName;n.tabIndex=M;s.userValue=a;n.setAttribute("id",o);n.addEventListener("input",function(e){r.setValue(o,{value:e.target.value});i.setPropertyOnSiblings(n,"value",e.target.value,"value")});n.addEventListener("resetform",function(e){var t=i.data.defaultFieldValue||"";n.value=s.userValue=t;delete s.formattedValue});var u=function e(t){if(s.formattedValue){t.target.value=s.formattedValue}t.target.scrollLeft=0;s.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions){var l;n.addEventListener("focus",function(e){if(s.userValue){e.target.value=s.userValue}});n.addEventListener("updatefromsandbox",function(e){var t={value:function e(t){s.userValue=t.detail.value||"";r.setValue(o,{value:s.userValue.toString()});if(!s.formattedValue){t.target.value=s.userValue}},valueAsString:function e(t){s.formattedValue=t.detail.valueAsString||"";if(t.target!==document.activeElement){t.target.value=s.formattedValue}r.setValue(o,{formattedValue:s.formattedValue})},selRange:function e(t){var r=S(t.detail.selRange,2),n=r[0],a=r[1];if(n>=0&&a<t.target.value.length){t.target.setSelectionRange(n,a)}}};i._dispatchEventFromSandbox(t,e)});n.addEventListener("keydown",function(e){var t;s.beforeInputValue=e.target.value;var r=-1;if(e.key==="Escape"){r=0}else if(e.key==="Enter"){r=2}else if(e.key==="Tab"){r=3}if(r===-1){return}s.userValue=e.target.value;(t=i.linkService.eventBus)===null||t===void 0?void 0:t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:o,name:"Keystroke",value:e.target.value,willCommit:true,commitKey:r,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}})});var c=u;u=null;n.addEventListener("blur",function(e){if(i._mouseState.isDown){var t;s.userValue=e.target.value;(t=i.linkService.eventBus)===null||t===void 0?void 0:t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:o,name:"Keystroke",value:e.target.value,willCommit:true,commitKey:1,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}})}c(e)});n.addEventListener("mousedown",function(e){s.beforeInputValue=e.target.value;s.beforeInputSelectionRange=null});n.addEventListener("keyup",function(e){if(e.target.selectionStart===e.target.selectionEnd){s.beforeInputSelectionRange=null}});n.addEventListener("select",function(e){s.beforeInputSelectionRange=[e.target.selectionStart,e.target.selectionEnd]});if((l=this.data.actions)!==null&&l!==void 0&&l.Keystroke){n.addEventListener("input",function(e){var t;var r=-1;var n=-1;if(s.beforeInputSelectionRange){var a=S(s.beforeInputSelectionRange,2);r=a[0];n=a[1]}(t=i.linkService.eventBus)===null||t===void 0?void 0:t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:o,name:"Keystroke",value:s.beforeInputValue,change:e.data,willCommit:false,selStart:r,selEnd:n}})})}this._setEventListeners(n,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(e){return e.target.value})}if(u){n.addEventListener("blur",u)}if(this.data.maxLen!==null){n.maxLength=this.data.maxLen}if(this.data.comb){var f=this.data.rect[2]-this.data.rect[0];var d=f/this.data.maxLen;n.classList.add("comb");n.style.letterSpacing="calc(".concat(d,"px - 1ch)")}}else{n=document.createElement("div");n.textContent=this.data.fieldValue;n.style.verticalAlign="middle";n.style.display="table-cell"}this._setTextStyle(n);this._setBackgroundColor(n);this.container.appendChild(n);return this.container}},{key:"_setTextStyle",value:function e(t){var r=["left","center","right"];var n=this.data.defaultAppearanceData,a=n.fontSize,i=n.fontColor;var o=t.style;if(a){o.fontSize="".concat(a,"px")}o.color=k.Util.makeHexColor(i[0],i[1],i[2]);if(this.data.textAlignment!==null){o.textAlign=r[this.data.textAlignment]}}}]);return n}(U);var z=function(e){d(r,e);var t=v(r);function r(e){E(this,r);return t.call(this,e,{isRenderable:e.renderForms})}F(r,[{key:"render",value:function e(){var u=this;var l=this.annotationStorage;var c=this.data;var f=c.id;var t=l.getValue(f,{value:c.exportValue===c.fieldValue}).value;if(typeof t==="string"){t=t!=="Off";l.setValue(f,{value:t})}this.container.className="buttonWidgetAnnotation checkBox";var r=document.createElement("input");D.add(r);r.disabled=c.readOnly;r.type="checkbox";r.name=c.fieldName;if(t){r.setAttribute("checked",true)}r.setAttribute("id",f);r.setAttribute("exportValue",c.exportValue);r.tabIndex=M;r.addEventListener("change",function(e){var t=e.target,r=t.name,n=t.checked;var a=L(u._getElementsByName(r,f)),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;var s=n&&o.exportValue===c.exportValue;if(o.domElement){o.domElement.checked=s}l.setValue(o.id,{value:s})}}catch(e){a.e(e)}finally{a.f()}l.setValue(f,{value:n})});r.addEventListener("resetform",function(e){var t=c.defaultFieldValue||"Off";e.target.checked=t===c.exportValue});if(this.enableScripting&&this.hasJSActions){r.addEventListener("updatefromsandbox",function(e){var t={value:function e(t){t.target.checked=t.detail.value!=="Off";l.setValue(f,{value:t.target.checked})}};u._dispatchEventFromSandbox(t,e)});this._setEventListeners(r,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(e){return e.target.checked})}this._setBackgroundColor(r);this.container.appendChild(r);return this.container}}]);return r}(U);var G=function(e){d(r,e);var t=v(r);function r(e){E(this,r);return t.call(this,e,{isRenderable:e.renderForms})}F(r,[{key:"render",value:function e(){var s=this;this.container.className="buttonWidgetAnnotation radioButton";var u=this.annotationStorage;var r=this.data;var l=r.id;var t=u.getValue(l,{value:r.fieldValue===r.buttonValue}).value;if(typeof t==="string"){t=t!==r.buttonValue;u.setValue(l,{value:t})}var n=document.createElement("input");D.add(n);n.disabled=r.readOnly;n.type="radio";n.name=r.fieldName;if(t){n.setAttribute("checked",true)}n.setAttribute("id",l);n.tabIndex=M;n.addEventListener("change",function(e){var t=e.target,r=t.name,n=t.checked;var a=L(s._getElementsByName(r,l)),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;u.setValue(o.id,{value:false})}}catch(e){a.e(e)}finally{a.f()}u.setValue(l,{value:n})});n.addEventListener("resetform",function(e){var t=r.defaultFieldValue;e.target.checked=t!==null&&t!==undefined&&t===r.buttonValue});if(this.enableScripting&&this.hasJSActions){var c=r.buttonValue;n.addEventListener("updatefromsandbox",function(e){var t={value:function e(t){var r=c===t.detail.value;var n=L(s._getElementsByName(t.target.name)),a;try{for(n.s();!(a=n.n()).done;){var i=a.value;var o=r&&i.id===l;if(i.domElement){i.domElement.checked=o}u.setValue(i.id,{value:o})}}catch(e){n.e(e)}finally{n.f()}}};s._dispatchEventFromSandbox(t,e)});this._setEventListeners(n,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],function(e){return e.target.checked})}this._setBackgroundColor(n);this.container.appendChild(n);return this.container}}]);return r}(U);var H=function(e){d(r,e);var t=v(r);function r(e){E(this,r);return t.call(this,e,{ignoreBorder:e.data.hasAppearance})}F(r,[{key:"render",value:function e(){var t=i(A(r.prototype),"render",this).call(this);t.className="buttonWidgetAnnotation pushButton";if(this.data.alternativeText){t.title=this.data.alternativeText}return t}}]);return r}(q);var V=function(e){d(r,e);var t=v(r);function r(e){E(this,r);return t.call(this,e,{isRenderable:e.renderForms})}F(r,[{key:"render",value:function e(){var i=this;this.container.className="choiceWidgetAnnotation";var u=this.annotationStorage;var l=this.data.id;u.getValue(l,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:undefined});var t=this.data.defaultAppearanceData.fontSize;if(!t){t=9}var r="calc(".concat(t,"px * var(--zoom-factor))");var c=document.createElement("select");D.add(c);c.disabled=this.data.readOnly;c.name=this.data.fieldName;c.setAttribute("id",l);c.tabIndex=M;c.style.fontSize="".concat(t,"px");if(!this.data.combo){c.size=this.data.options.length;if(this.data.multiSelect){c.multiple=true}}c.addEventListener("resetform",function(e){var t=i.data.defaultFieldValue;var r=L(c.options),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.selected=a.value===t}}catch(e){r.e(e)}finally{r.f()}});var n=L(this.data.options),a;try{for(n.s();!(a=n.n()).done;){var o=a.value;var s=document.createElement("option");s.textContent=o.displayValue;s.value=o.exportValue;if(this.data.combo){s.style.fontSize=r}if(this.data.fieldValue.includes(o.exportValue)){s.setAttribute("selected",true)}c.appendChild(s)}}catch(e){n.e(e)}finally{n.f()}var f=function e(t,r){var n=r?"value":"textContent";var a=t.target.options;if(!t.target.multiple){return a.selectedIndex===-1?null:a[a.selectedIndex][n]}return Array.prototype.filter.call(a,function(e){return e.selected}).map(function(e){return e[n]})};var d=function e(t){var r=t.target.options;return Array.prototype.map.call(r,function(e){return{displayValue:e.textContent,exportValue:e.value}})};if(this.enableScripting&&this.hasJSActions){c.addEventListener("updatefromsandbox",function(e){var t={value:function e(t){var e=t.detail.value;var r=new Set(Array.isArray(e)?e:[e]);var n=L(c.options),a;try{for(n.s();!(a=n.n()).done;){var i=a.value;i.selected=r.has(i.value)}}catch(e){n.e(e)}finally{n.f()}u.setValue(l,{value:f(t,true)})},multipleSelection:function e(t){c.multiple=true},remove:function e(t){var r=c.options;var n=t.detail.remove;r[n].selected=false;c.remove(n);if(r.length>0){var a=Array.prototype.findIndex.call(r,function(e){return e.selected});if(a===-1){r[0].selected=true}}u.setValue(l,{value:f(t,true),items:d(t)})},clear:function e(t){while(c.length!==0){c.remove(0)}u.setValue(l,{value:null,items:[]})},insert:function e(t){var r=t.detail.insert,n=r.index,a=r.displayValue,i=r.exportValue;var o=document.createElement("option");o.textContent=a;o.value=i;c.insertBefore(o,c.children[n]);u.setValue(l,{value:f(t,true),items:d(t)})},items:function e(t){var e=t.detail.items;while(c.length!==0){c.remove(0)}var r=L(e),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;var i=a.displayValue,o=a.exportValue;var s=document.createElement("option");s.textContent=i;s.value=o;c.appendChild(s)}}catch(e){r.e(e)}finally{r.f()}if(c.options.length>0){c.options[0].selected=true}u.setValue(l,{value:f(t,true),items:d(t)})},indices:function e(t){var e=new Set(t.detail.indices);var r=L(t.target.options),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.selected=e.has(a.index)}}catch(e){r.e(e)}finally{r.f()}u.setValue(l,{value:f(t,true)})},editable:function e(t){t.target.disabled=!t.detail.editable}};i._dispatchEventFromSandbox(t,e)});c.addEventListener("input",function(e){var t;var r=f(e,true);var n=f(e,false);u.setValue(l,{value:r});(t=i.linkService.eventBus)===null||t===void 0?void 0:t.dispatch("dispatcheventinsandbox",{source:i,detail:{id:l,name:"Keystroke",value:n,changeEx:r,willCommit:true,commitKey:1,keyDown:false}})});this._setEventListeners(c,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],function(e){return e.target.checked})}else{c.addEventListener("input",function(e){u.setValue(l,{value:f(e)})})}this._setBackgroundColor(c);this.container.appendChild(c);return this.container}}]);return r}(U);var X=function(e){d(o,e);var i=v(o);function o(e){var t,r,n;E(this,o);var a=!!((t=e.data.titleObj)!==null&&t!==void 0&&t.str||(r=e.data.contentsObj)!==null&&r!==void 0&&r.str||(n=e.data.richText)!==null&&n!==void 0&&n.str);return i.call(this,e,{isRenderable:a})}F(o,[{key:"render",value:function e(){var t=["Line","Square","Circle","PolyLine","Polygon","Ink"];this.container.className="popupAnnotation";if(t.includes(this.data.parentType)){return this.container}var r='[data-annotation-id="'.concat(this.data.parentId,'"]');var n=this.layer.querySelectorAll(r);if(n.length===0){return this.container}var a=new Y({container:this.container,trigger:Array.from(n),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText});var i=this.page;var o=k.Util.normalizeRect([this.data.parentRect[0],i.view[3]-this.data.parentRect[1]+i.view[1],this.data.parentRect[2],i.view[3]-this.data.parentRect[3]+i.view[1]]);var s=o[0]+this.data.parentRect[2]-this.data.parentRect[0];var u=o[1];this.container.style.transformOrigin="".concat(-s,"px ").concat(-u,"px");this.container.style.left="".concat(s,"px");this.container.style.top="".concat(u,"px");this.container.appendChild(a.render());return this.container}}]);return o}(N);var Y=function(){function t(e){E(this,t);this.container=e.container;this.trigger=e.trigger;this.color=e.color;this.titleObj=e.titleObj;this.modificationDate=e.modificationDate;this.contentsObj=e.contentsObj;this.richText=e.richText;this.hideWrapper=e.hideWrapper||false;this.pinned=false}F(t,[{key:"render",value:function e(){var t,r;var n=.7;var a=document.createElement("div");a.className="popupWrapper";this.hideElement=this.hideWrapper?a:this.container;this.hideElement.hidden=true;var i=document.createElement("div");i.className="popup";var o=this.color;if(o){var s=n*(255-o[0])+o[0];var u=n*(255-o[1])+o[1];var l=n*(255-o[2])+o[2];i.style.backgroundColor=k.Util.makeHexColor(s|0,u|0,l|0)}var c=document.createElement("h1");c.dir=this.titleObj.dir;c.textContent=this.titleObj.str;i.appendChild(c);var f=m.PDFDateString.toDateObject(this.modificationDate);if(f){var d=document.createElement("span");d.className="popupDate";d.textContent="{{date}}, {{time}}";d.dataset.l10nId="annotation_date_string";d.dataset.l10nArgs=JSON.stringify({date:f.toLocaleDateString(),time:f.toLocaleTimeString()});i.appendChild(d)}if((t=this.richText)!==null&&t!==void 0&&t.str&&(!((r=this.contentsObj)!==null&&r!==void 0&&r.str)||this.contentsObj.str===this.richText.str)){g.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:i});i.lastChild.className="richText popupContent"}else{var h=this._formatContents(this.contentsObj);i.appendChild(h)}if(!Array.isArray(this.trigger)){this.trigger=[this.trigger]}var v=L(this.trigger),p;try{for(v.s();!(p=v.n()).done;){var y=p.value;y.addEventListener("click",this._toggle.bind(this));y.addEventListener("mouseover",this._show.bind(this,false));y.addEventListener("mouseout",this._hide.bind(this,false))}}catch(e){v.e(e)}finally{v.f()}i.addEventListener("click",this._hide.bind(this,true));a.appendChild(i);return a}},{key:"_formatContents",value:function e(t){var r=t.str,n=t.dir;var a=document.createElement("p");a.className="popupContent";a.dir=n;var i=r.split(/(?:\r\n?|\n)/);for(var o=0,s=i.length;o<s;++o){var u=i[o];a.appendChild(document.createTextNode(u));if(o<s-1){a.appendChild(document.createElement("br"))}}return a}},{key:"_toggle",value:function e(){if(this.pinned){this._hide(true)}else{this._show(true)}}},{key:"_show",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(t){this.pinned=true}if(this.hideElement.hidden){this.hideElement.hidden=false;this.container.style.zIndex+=1}}},{key:"_hide",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;if(t){this.pinned=false}if(!this.hideElement.hidden&&!this.pinned){this.hideElement.hidden=true;this.container.style.zIndex-=1}}}]);return t}();var K=function(e){d(o,e);var i=v(o);function o(e){var t,r,n;E(this,o);var a=!!(e.data.hasPopup||(t=e.data.titleObj)!==null&&t!==void 0&&t.str||(r=e.data.contentsObj)!==null&&r!==void 0&&r.str||(n=e.data.richText)!==null&&n!==void 0&&n.str);return i.call(this,e,{isRenderable:a,ignoreBorder:true})}F(o,[{key:"render",value:function e(){this.container.className="freeTextAnnotation";if(!this.data.hasPopup){this._createPopup(null,this.data)}return this.container}}]);return o}(N);var Q=function(e){d(o,e);var i=v(o);function o(e){var t,r,n;E(this,o);var a=!!(e.data.hasPopup||(t=e.data.titleObj)!==null&&t!==void 0&&t.str||(r=e.data.contentsObj)!==null&&r!==void 0&&r.str||(n=e.data.richText)!==null&&n!==void 0&&n.str);return i.call(this,e,{isRenderable:a,ignoreBorder:true})}F(o,[{key:"render",value:function e(){this.container.className="lineAnnotation";var t=this.data;var r=t.rect[2]-t.rect[0];var n=t.rect[3]-t.rect[1];var a=this.svgFactory.create(r,n);var i=this.svgFactory.createElement("svg:line");i.setAttribute("x1",t.rect[2]-t.lineCoordinates[0]);i.setAttribute("y1",t.rect[3]-t.lineCoordinates[1]);i.setAttribute("x2",t.rect[2]-t.lineCoordinates[2]);i.setAttribute("y2",t.rect[3]-t.lineCoordinates[3]);i.setAttribute("stroke-width",t.borderStyle.width||1);i.setAttribute("stroke","transparent");i.setAttribute("fill","transparent");a.appendChild(i);this.container.append(a);this._createPopup(i,t);return this.container}}]);return o}(N);var J=function(e){d(o,e);var i=v(o);function o(e){var t,r,n;E(this,o);var a=!!(e.data.hasPopup||(t=e.data.titleObj)!==null&&t!==void 0&&t.str||(r=e.data.contentsObj)!==null&&r!==void 0&&r.str||(n=e.data.richText)!==null&&n!==void 0&&n.str);return i.call(this,e,{isRenderable:a,ignoreBorder:true})}F(o,[{key:"render",value:function e(){this.container.className="squareAnnotation";var t=this.data;var r=t.rect[2]-t.rect[0];var n=t.rect[3]-t.rect[1];var a=this.svgFactory.create(r,n);var i=t.borderStyle.width;var o=this.svgFactory.createElement("svg:rect");o.setAttribute("x",i/2);o.setAttribute("y",i/2);o.setAttribute("width",r-i);o.setAttribute("height",n-i);o.setAttribute("stroke-width",i||1);o.setAttribute("stroke","transparent");o.setAttribute("fill","transparent");a.appendChild(o);this.container.append(a);this._createPopup(o,t);return this.container}}]);return o}(N);var $=function(e){d(o,e);var i=v(o);function o(e){var t,r,n;E(this,o);var a=!!(e.data.hasPopup||(t=e.data.titleObj)!==null&&t!==void 0&&t.str||(r=e.data.contentsObj)!==null&&r!==void 0&&r.str||(n=e.data.richText)!==null&&n!==void 0&&n.str);return i.call(this,e,{isRenderable:a,ignoreBorder:true})}F(o,[{key:"render",value:function e(){this.container.className="circleAnnotation";var t=this.data;var r=t.rect[2]-t.rect[0];var n=t.rect[3]-t.rect[1];var a=this.svgFactory.create(r,n);var i=t.borderStyle.width;var o=this.svgFactory.createElement("svg:ellipse");o.setAttribute("cx",r/2);o.setAttribute("cy",n/2);o.setAttribute("rx",r/2-i/2);o.setAttribute("ry",n/2-i/2);o.setAttribute("stroke-width",i||1);o.setAttribute("stroke","transparent");o.setAttribute("fill","transparent");a.appendChild(o);this.container.append(a);this._createPopup(o,t);return this.container}}]);return o}(N);var Z=function(e){d(s,e);var o=v(s);function s(e){var t,r,n;var a;E(this,s);var i=!!(e.data.hasPopup||(t=e.data.titleObj)!==null&&t!==void 0&&t.str||(r=e.data.contentsObj)!==null&&r!==void 0&&r.str||(n=e.data.richText)!==null&&n!==void 0&&n.str);a=o.call(this,e,{isRenderable:i,ignoreBorder:true});a.containerClassName="polylineAnnotation";a.svgElementName="svg:polyline";return a}F(s,[{key:"render",value:function e(){this.container.className=this.containerClassName;var t=this.data;var r=t.rect[2]-t.rect[0];var n=t.rect[3]-t.rect[1];var a=this.svgFactory.create(r,n);var i=[];var o=L(t.vertices),s;try{for(o.s();!(s=o.n()).done;){var u=s.value;var l=u.x-t.rect[0];var c=t.rect[3]-u.y;i.push(l+","+c)}}catch(e){o.e(e)}finally{o.f()}i=i.join(" ");var f=this.svgFactory.createElement(this.svgElementName);f.setAttribute("points",i);f.setAttribute("stroke-width",t.borderStyle.width||1);f.setAttribute("stroke","transparent");f.setAttribute("fill","transparent");a.appendChild(f);this.container.append(a);this._createPopup(f,t);return this.container}}]);return s}(N);var ee=function(e){d(n,e);var r=v(n);function n(e){var t;E(this,n);t=r.call(this,e);t.containerClassName="polygonAnnotation";t.svgElementName="svg:polygon";return t}return n}(Z);var te=function(e){d(o,e);var i=v(o);function o(e){var t,r,n;E(this,o);var a=!!(e.data.hasPopup||(t=e.data.titleObj)!==null&&t!==void 0&&t.str||(r=e.data.contentsObj)!==null&&r!==void 0&&r.str||(n=e.data.richText)!==null&&n!==void 0&&n.str);return i.call(this,e,{isRenderable:a,ignoreBorder:true})}F(o,[{key:"render",value:function e(){this.container.className="caretAnnotation";if(!this.data.hasPopup){this._createPopup(null,this.data)}return this.container}}]);return o}(N);var re=function(e){d(s,e);var o=v(s);function s(e){var t,r,n;var a;E(this,s);var i=!!(e.data.hasPopup||(t=e.data.titleObj)!==null&&t!==void 0&&t.str||(r=e.data.contentsObj)!==null&&r!==void 0&&r.str||(n=e.data.richText)!==null&&n!==void 0&&n.str);a=o.call(this,e,{isRenderable:i,ignoreBorder:true});a.containerClassName="inkAnnotation";a.svgElementName="svg:polyline";return a}F(s,[{key:"render",value:function e(){this.container.className=this.containerClassName;var t=this.data;var r=t.rect[2]-t.rect[0];var n=t.rect[3]-t.rect[1];var a=this.svgFactory.create(r,n);var i=L(t.inkLists),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;var u=[];var l=L(s),c;try{for(l.s();!(c=l.n()).done;){var f=c.value;var d=f.x-t.rect[0];var h=t.rect[3]-f.y;u.push("".concat(d,",").concat(h))}}catch(e){l.e(e)}finally{l.f()}u=u.join(" ");var v=this.svgFactory.createElement(this.svgElementName);v.setAttribute("points",u);v.setAttribute("stroke-width",t.borderStyle.width||1);v.setAttribute("stroke","transparent");v.setAttribute("fill","transparent");this._createPopup(v,t);a.appendChild(v)}}catch(e){i.e(e)}finally{i.f()}this.container.append(a);return this.container}}]);return s}(N);var ne=function(e){d(o,e);var i=v(o);function o(e){var t,r,n;E(this,o);var a=!!(e.data.hasPopup||(t=e.data.titleObj)!==null&&t!==void 0&&t.str||(r=e.data.contentsObj)!==null&&r!==void 0&&r.str||(n=e.data.richText)!==null&&n!==void 0&&n.str);return i.call(this,e,{isRenderable:a,ignoreBorder:true,createQuadrilaterals:true})}F(o,[{key:"render",value:function e(){if(!this.data.hasPopup){this._createPopup(null,this.data)}if(this.quadrilaterals){return this._renderQuadrilaterals("highlightAnnotation")}this.container.className="highlightAnnotation";return this.container}}]);return o}(N);var ae=function(e){d(o,e);var i=v(o);function o(e){var t,r,n;E(this,o);var a=!!(e.data.hasPopup||(t=e.data.titleObj)!==null&&t!==void 0&&t.str||(r=e.data.contentsObj)!==null&&r!==void 0&&r.str||(n=e.data.richText)!==null&&n!==void 0&&n.str);return i.call(this,e,{isRenderable:a,ignoreBorder:true,createQuadrilaterals:true})}F(o,[{key:"render",value:function e(){if(!this.data.hasPopup){this._createPopup(null,this.data)}if(this.quadrilaterals){return this._renderQuadrilaterals("underlineAnnotation")}this.container.className="underlineAnnotation";return this.container}}]);return o}(N);var ie=function(e){d(o,e);var i=v(o);function o(e){var t,r,n;E(this,o);var a=!!(e.data.hasPopup||(t=e.data.titleObj)!==null&&t!==void 0&&t.str||(r=e.data.contentsObj)!==null&&r!==void 0&&r.str||(n=e.data.richText)!==null&&n!==void 0&&n.str);return i.call(this,e,{isRenderable:a,ignoreBorder:true,createQuadrilaterals:true})}F(o,[{key:"render",value:function e(){if(!this.data.hasPopup){this._createPopup(null,this.data)}if(this.quadrilaterals){return this._renderQuadrilaterals("squigglyAnnotation")}this.container.className="squigglyAnnotation";return this.container}}]);return o}(N);var oe=function(e){d(o,e);var i=v(o);function o(e){var t,r,n;E(this,o);var a=!!(e.data.hasPopup||(t=e.data.titleObj)!==null&&t!==void 0&&t.str||(r=e.data.contentsObj)!==null&&r!==void 0&&r.str||(n=e.data.richText)!==null&&n!==void 0&&n.str);return i.call(this,e,{isRenderable:a,ignoreBorder:true,createQuadrilaterals:true})}F(o,[{key:"render",value:function e(){if(!this.data.hasPopup){this._createPopup(null,this.data)}if(this.quadrilaterals){return this._renderQuadrilaterals("strikeoutAnnotation")}this.container.className="strikeoutAnnotation";return this.container}}]);return o}(N);var se=function(e){d(o,e);var i=v(o);function o(e){var t,r,n;E(this,o);var a=!!(e.data.hasPopup||(t=e.data.titleObj)!==null&&t!==void 0&&t.str||(r=e.data.contentsObj)!==null&&r!==void 0&&r.str||(n=e.data.richText)!==null&&n!==void 0&&n.str);return i.call(this,e,{isRenderable:a,ignoreBorder:true})}F(o,[{key:"render",value:function e(){this.container.className="stampAnnotation";if(!this.data.hasPopup){this._createPopup(null,this.data)}return this.container}}]);return o}(N);var ue=function(e){d(s,e);var o=v(s);function s(e){var t;var r;E(this,s);r=o.call(this,e,{isRenderable:true});var n=r.data.file,a=n.filename,i=n.content;r.filename=(0,m.getFilenameFromUrl)(a);r.content=i;(t=r.linkService.eventBus)===null||t===void 0?void 0:t.dispatch("fileattachmentannotation",{source:b(r),id:(0,k.stringToPDFString)(a),filename:a,content:i});return r}F(s,[{key:"render",value:function e(){var t,r;this.container.className="fileAttachmentAnnotation";var n=document.createElement("div");n.style.height=this.container.style.height;n.style.width=this.container.style.width;n.addEventListener("dblclick",this._download.bind(this));if(!this.data.hasPopup&&((t=this.data.titleObj)!==null&&t!==void 0&&t.str||(r=this.data.contentsObj)!==null&&r!==void 0&&r.str||this.data.richText)){this._createPopup(n,this.data)}this.container.appendChild(n);return this.container}},{key:"_download",value:function e(){var t;(t=this.downloadManager)===null||t===void 0?void 0:t.openOrDownloadData(this.container,this.content,this.filename)}}]);return s}(N);var le=function(){function w(){E(this,w)}F(w,null,[{key:"render",value:function e(t){var r=[],n=[];var a=L(t.annotations),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;if(!o){continue}if(o.annotationType===k.AnnotationType.POPUP){n.push(o);continue}r.push(o)}}catch(e){a.e(e)}finally{a.f()}if(n.length){r.push.apply(r,n)}var s=t.div;for(var u=0,l=r;u<l.length;u++){var c=l[u];var f=I.create({data:c,layer:s,page:t.page,viewport:t.viewport,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==false,svgFactory:new m.DOMSVGFactory,annotationStorage:t.annotationStorage||new y.AnnotationStorage,enableScripting:t.enableScripting,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,mouseState:t.mouseState||{isDown:false}});if(f.isRenderable){var d=f.render();if(c.hidden){d.style.visibility="hidden"}if(Array.isArray(d)){var h=L(d),v;try{for(h.s();!(v=h.n()).done;){var p=v.value;s.appendChild(p)}}catch(e){h.e(e)}finally{h.f()}}else{if(f instanceof X){s.prepend(d)}else{s.appendChild(d)}}}}x(this,w,ce).call(this,s,t.annotationCanvasMap)}},{key:"update",value:function e(t){var r=t.page,n=t.viewport,a=t.annotations,i=t.annotationCanvasMap,o=t.div;var s=n.transform;var u="matrix(".concat(s.join(","),")");var l,c;var f=L(a),d;try{for(f.s();!(d=f.n()).done;){var h=d.value;var v=o.querySelectorAll('[data-annotation-id="'.concat(h.id,'"]'));if(v){var p=L(v),y;try{for(p.s();!(y=p.n()).done;){var m=y.value;if(h.hasOwnCanvas){var g=k.Util.normalizeRect([h.rect[0],r.view[3]-h.rect[1]+r.view[1],h.rect[2],r.view[3]-h.rect[3]+r.view[1]]);if(!c){l=Math.abs(s[0]||s[1]);var b=s.slice();for(var _=0;_<4;_++){b[_]=Math.sign(b[_])}c="matrix(".concat(b.join(","),")")}var A=g[0]*l;var S=g[1]*l;m.style.left="".concat(A,"px");m.style.top="".concat(S,"px");m.style.transformOrigin="".concat(-A,"px ").concat(-S,"px");m.style.transform=c}else{m.style.transform=u}}}catch(e){p.e(e)}finally{p.f()}}}}catch(e){f.e(e)}finally{f.f()}x(this,w,ce).call(this,o,i);o.hidden=false}}]);return w}();t.AnnotationLayer=le;function ce(e,t){if(!t){return}var r=L(t),n;try{for(r.s();!(n=r.n()).done;){var a=S(n.value,2),i=a[0],o=a[1];var s=e.querySelector('[data-annotation-id="'.concat(i,'"]'));if(!s){continue}var u=s.firstChild;if(u.nodeName==="CANVAS"){s.replaceChild(o,u)}else{s.insertBefore(o,u)}}}catch(e){r.e(e)}finally{r.f()}t.clear()}},(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ColorConverters=void 0;function c(e,t){return o(e)||i(e,t)||n(e,t)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(!e)return;if(typeof e==="string")return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}function a(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function i(e,t){var r=e==null?null:typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r==null)return;var n=[];var a=true;var i=false;var o,s;try{for(r=r.call(e);!(a=(o=r.next()).done);a=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){i=true;s=e}finally{try{if(!a&&r["return"]!=null)r["return"]()}finally{if(i)throw s}}return n}function o(e){if(Array.isArray(e))return e}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function u(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function l(e,t,r){if(t)u(e.prototype,t);if(r)u(e,r);return e}function f(e){return Math.floor(Math.max(0,Math.min(1,e))*255).toString(16).padStart(2,"0")}var d=function(){function e(){s(this,e)}l(e,null,[{key:"CMYK_G",value:function e(t){var r=c(t,4),n=r[0],a=r[1],i=r[2],o=r[3];return["G",1-Math.min(1,.3*n+.59*i+.11*a+o)]}},{key:"G_CMYK",value:function e(t){var r=c(t,1),n=r[0];return["CMYK",0,0,0,1-n]}},{key:"G_RGB",value:function e(t){var r=c(t,1),n=r[0];return["RGB",n,n,n]}},{key:"G_HTML",value:function e(t){var r=c(t,1),n=r[0];var a=f(n);return"#".concat(a).concat(a).concat(a)}},{key:"RGB_G",value:function e(t){var r=c(t,3),n=r[0],a=r[1],i=r[2];return["G",.3*n+.59*a+.11*i]}},{key:"RGB_HTML",value:function e(t){var r=c(t,3),n=r[0],a=r[1],i=r[2];var o=f(n);var s=f(a);var u=f(i);return"#".concat(o).concat(s).concat(u)}},{key:"T_HTML",value:function e(){return"#00000000"}},{key:"CMYK_RGB",value:function e(t){var r=c(t,4),n=r[0],a=r[1],i=r[2],o=r[3];return["RGB",1-Math.min(1,n+o),1-Math.min(1,i+o),1-Math.min(1,a+o)]}},{key:"CMYK_HTML",value:function e(t){return this.RGB_HTML(this.CMYK_RGB(t))}},{key:"RGB_CMYK",value:function e(t){var r=c(t,3),n=r[0],a=r[1],i=r[2];var o=1-n;var s=1-a;var u=1-i;var l=Math.min(o,s,u);return["CMYK",o,s,u,l]}}]);return e}();t.ColorConverters=d},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.XfaLayer=void 0;var y=r(4);var k=r(147);function x(e,t){return i(e)||a(e,t)||u(e,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){var r=e==null?null:typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r==null)return;var n=[];var a=true;var i=false;var o,s;try{for(r=r.call(e);!(a=(o=r.next()).done);a=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){i=true;s=e}finally{try{if(!a&&r["return"]!=null)r["return"]()}finally{if(i)throw s}}return n}function i(e){if(Array.isArray(e))return e}function C(t,e){var r=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=u(t))||e&&t&&typeof t.length==="number"){if(r)t=r;var n=0;var a=function e(){};return{s:a,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,o=false,s;return{s:function e(){r=r.call(t)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!i&&r["return"]!=null)r["return"]()}finally{if(o)throw s}}}}function u(e,t){if(!e)return;if(typeof e==="string")return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}function o(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function l(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function c(e,t,r){if(t)l(e.prototype,t);if(r)l(e,r);return e}var f=function(){function e(){s(this,e)}c(e,null,[{key:"setupStorage",value:function e(t,n,r,a,i){var o=a.getValue(n,{value:null});switch(r.name){case"textarea":if(o.value!==null){t.textContent=o.value}if(i==="print"){break}t.addEventListener("input",function(e){a.setValue(n,{value:e.target.value})});break;case"input":if(r.attributes.type==="radio"||r.attributes.type==="checkbox"){if(o.value===r.attributes.xfaOn){t.setAttribute("checked",true)}else if(o.value===r.attributes.xfaOff){t.removeAttribute("checked")}if(i==="print"){break}t.addEventListener("change",function(e){a.setValue(n,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})})}else{if(o.value!==null){t.setAttribute("value",o.value)}if(i==="print"){break}t.addEventListener("input",function(e){a.setValue(n,{value:e.target.value})})}break;case"select":if(o.value!==null){var s=C(r.children),u;try{for(s.s();!(u=s.n()).done;){var l=u.value;if(l.attributes.value===o.value){l.attributes.selected=true}}}catch(e){s.e(e)}finally{s.f()}}t.addEventListener("input",function(e){var t=e.target.options;var r=t.selectedIndex===-1?"":t[t.selectedIndex].value;a.setValue(n,{value:r})});break}}},{key:"setAttributes",value:function e(t){var r=t.html,n=t.element,a=t.storage,i=a===void 0?null:a,o=t.intent,s=t.linkService;var u=n.attributes;var l=r instanceof HTMLAnchorElement;if(u.type==="radio"){u.name="".concat(u.name,"-").concat(o)}for(var c=0,f=Object.entries(u);c<f.length;c++){var d=x(f[c],2),h=d[0],v=d[1];if(v===null||v===undefined||h==="dataId"){continue}if(h!=="style"){if(h==="textContent"){r.textContent=v}else if(h==="class"){if(v.length){r.setAttribute(h,v.join(" "))}}else{if(l&&(h==="href"||h==="newWindow")){continue}r.setAttribute(h,v)}}else{Object.assign(r.style,v)}}if(l){var p;if(!s.addLinkAttributes){(0,y.warn)("XfaLayer.setAttribute - missing `addLinkAttributes`-method on the `linkService`-instance.")}(p=s.addLinkAttributes)===null||p===void 0?void 0:p.call(s,r,u.href,u.newWindow)}if(i&&u.dataId){this.setupStorage(r,u.dataId,n,i)}}},{key:"render",value:function e(t){var r=t.annotationStorage;var n=t.linkService;var a=t.xfaHtml;var i=t.intent||"display";var o=document.createElement(a.name);if(a.attributes){this.setAttributes({html:o,element:a,intent:i,linkService:n})}var s=[[a,-1,o]];var u=t.div;u.appendChild(o);if(t.viewport){var l="matrix(".concat(t.viewport.transform.join(","),")");u.style.transform=l}if(i!=="richText"){u.setAttribute("class","xfaLayer xfaFont")}var c=[];while(s.length>0){var f;var d=x(s[s.length-1],3),h=d[0],v=d[1],p=d[2];if(v+1===h.children.length){s.pop();continue}var y=h.children[++s[s.length-1][1]];if(y===null){continue}var m=y.name;if(m==="#text"){var g=document.createTextNode(y.value);c.push(g);p.appendChild(g);continue}var b=void 0;if(y!==null&&y!==void 0&&(f=y.attributes)!==null&&f!==void 0&&f.xmlns){b=document.createElementNS(y.attributes.xmlns,m)}else{b=document.createElement(m)}p.appendChild(b);if(y.attributes){this.setAttributes({html:b,element:y,storage:r,intent:i,linkService:n})}if(y.children&&y.children.length>0){s.push([y,-1,b])}else if(y.value){var _=document.createTextNode(y.value);if(k.XfaText.shouldBuildText(m)){c.push(_)}b.appendChild(_)}}var A=C(u.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea")),S;try{for(A.s();!(S=A.n()).done;){var w=S.value;w.setAttribute("readOnly",true)}}catch(e){A.e(e)}finally{A.f()}return{textDivs:c}}},{key:"update",value:function e(t){var r="matrix(".concat(t.viewport.transform.join(","),")");t.div.style.transform=r;t.div.hidden=false}}]);return e}();t.XfaLayer=f},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.renderTextLayer=m;var S=r(4);function f(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function a(e,t,r){if(t)n(e.prototype,t);if(r)n(e,r);return e}function w(t,e){var r=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=u(t))||e&&t&&typeof t.length==="number"){if(r)t=r;var n=0;var a=function e(){};return{s:a,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,o=false,s;return{s:function e(){r=r.call(t)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!i&&r["return"]!=null)r["return"]()}finally{if(o)throw s}}}}function u(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}var o=1e5;var d=30;var h=.8;var v=new Map;var k=/^\s+$/g;function x(e,t){var r=v.get(e);if(r){return r}t.save();t.font="".concat(d,"px ").concat(e);var n=t.measureText("");var a=n.fontBoundingBoxAscent;var i=Math.abs(n.fontBoundingBoxDescent);if(a){t.restore();var o=a/(a+i);v.set(e,o);return o}t.strokeStyle="red";t.clearRect(0,0,d,d);t.strokeText("g",0,0);var s=t.getImageData(0,0,d,d).data;i=0;for(var u=s.length-1-3;u>=0;u-=4){if(s[u]>0){i=Math.ceil(u/4/d);break}}t.clearRect(0,0,d,d);t.strokeText("A",0,d);s=t.getImageData(0,0,d,d).data;a=0;for(var l=0,c=s.length;l<c;l+=4){if(s[l]>0){a=d-Math.floor(l/4/d);break}}t.restore();if(a){var f=a/(a+i);v.set(e,f);return f}v.set(e,h);return h}function s(e,t,r,n){var a=document.createElement("span");var i=e._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1}:{angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL};e._textDivs.push(a);var o=S.Util.transform(e._viewport.transform,t.transform);var s=Math.atan2(o[1],o[0]);var u=r[t.fontName];if(u.vertical){s+=Math.PI/2}var l=Math.hypot(o[2],o[3]);var c=l*x(u.fontFamily,n);var f,d;if(s===0){f=o[4];d=o[5]-c}else{f=o[4]+c*Math.sin(s);d=o[5]-c*Math.cos(s)}a.style.left="".concat(f,"px");a.style.top="".concat(d,"px");a.style.fontSize="".concat(l,"px");a.style.fontFamily=u.fontFamily;a.setAttribute("role","presentation");a.textContent=t.str;a.dir=t.dir;if(e._fontInspectorEnabled){a.dataset.fontName=t.fontName}if(s!==0){i.angle=s*(180/Math.PI)}var h=false;if(t.str.length>1||e._enhanceTextSelection&&k.test(t.str)){h=true}else if(t.str!==" "&&t.transform[0]!==t.transform[3]){var v=Math.abs(t.transform[0]),p=Math.abs(t.transform[3]);if(v!==p&&Math.max(v,p)/Math.min(v,p)>1.5){h=true}}if(h){if(u.vertical){i.canvasWidth=t.height*e._viewport.scale}else{i.canvasWidth=t.width*e._viewport.scale}}e._textDivProperties.set(a,i);if(e._textContentStream){e._layoutText(a)}if(e._enhanceTextSelection&&i.hasText){var y=1,m=0;if(s!==0){y=Math.cos(s);m=Math.sin(s)}var g=(u.vertical?t.height:t.width)*e._viewport.scale;var b=l;var _,A;if(s!==0){_=[y,m,-m,y,f,d];A=S.Util.getAxialAlignedBoundingBox([0,0,g,b],_)}else{A=[f,d,f+g,d+b]}e._bounds.push({left:A[0],top:A[1],right:A[2],bottom:A[3],div:a,size:[g,b],m:_})}}function l(e){if(e._canceled){return}var t=e._textDivs;var r=e._capability;var n=t.length;if(n>o){e._renderingDone=true;r.resolve();return}if(!e._textContentStream){for(var a=0;a<n;a++){e._layoutText(t[a])}}e._renderingDone=true;r.resolve()}function g(e,t,r){var n=0;for(var a=0;a<r;a++){var i=e[t++];if(i>0){n=n?Math.min(i,n):i}}return n}function p(e){var t=e._bounds;var r=e._viewport;var n=b(r.width,r.height,t);for(var a=0;a<n.length;a++){var i=t[a].div;var o=e._textDivProperties.get(i);if(o.angle===0){o.paddingLeft=t[a].left-n[a].left;o.paddingTop=t[a].top-n[a].top;o.paddingRight=n[a].right-t[a].right;o.paddingBottom=n[a].bottom-t[a].bottom;e._textDivProperties.set(i,o);continue}var s=n[a],u=t[a];var l=u.m,c=l[0],f=l[1];var d=[[0,0],[0,u.size[1]],[u.size[0],0],u.size];var h=new Float64Array(64);for(var v=0,p=d.length;v<p;v++){var y=S.Util.applyTransform(d[v],l);h[v+0]=c&&(s.left-y[0])/c;h[v+4]=f&&(s.top-y[1])/f;h[v+8]=c&&(s.right-y[0])/c;h[v+12]=f&&(s.bottom-y[1])/f;h[v+16]=f&&(s.left-y[0])/-f;h[v+20]=c&&(s.top-y[1])/c;h[v+24]=f&&(s.right-y[0])/-f;h[v+28]=c&&(s.bottom-y[1])/c;h[v+32]=c&&(s.left-y[0])/-c;h[v+36]=f&&(s.top-y[1])/-f;h[v+40]=c&&(s.right-y[0])/-c;h[v+44]=f&&(s.bottom-y[1])/-f;h[v+48]=f&&(s.left-y[0])/f;h[v+52]=c&&(s.top-y[1])/-c;h[v+56]=f&&(s.right-y[0])/f;h[v+60]=c&&(s.bottom-y[1])/-c}var m=1+Math.min(Math.abs(c),Math.abs(f));o.paddingLeft=g(h,32,16)/m;o.paddingTop=g(h,48,16)/m;o.paddingRight=g(h,0,16)/m;o.paddingBottom=g(h,16,16)/m;e._textDivProperties.set(i,o)}}function b(a,e,t){var i=t.map(function(e,t){return{x1:e.left,y1:e.top,x2:e.right,y2:e.bottom,index:t,x1New:undefined,x2New:undefined}});y(a,i);var o=new Array(t.length);var r=w(i),n;try{for(r.s();!(n=r.n()).done;){var s=n.value;var u=s.index;o[u]={left:s.x1New,top:0,right:s.x2New,bottom:0}}}catch(e){r.e(e)}finally{r.f()}t.map(function(e,t){var r=o[t],n=i[t];n.x1=e.top;n.y1=a-r.right;n.x2=e.bottom;n.y2=a-r.left;n.index=t;n.x1New=undefined;n.x2New=undefined});y(e,i);var l=w(i),c;try{for(l.s();!(c=l.n()).done;){var f=c.value;var d=f.index;o[d].top=f.x1New;o[d].bottom=f.x2New}}catch(e){l.e(e)}finally{l.f()}return o}function y(e,t){t.sort(function(e,t){return e.x1-t.x1||e.index-t.index});var r={x1:-Infinity,y1:-Infinity,x2:0,y2:Infinity,index:-1,x1New:0,x2New:0};var n=[{start:-Infinity,end:Infinity,boundary:r}];var a=w(t),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;var s=0;while(s<n.length&&n[s].end<=o.y1){s++}var u=n.length-1;while(u>=0&&n[u].start>=o.y2){u--}var l=void 0,c=void 0;var f=void 0,d=void 0,h=-Infinity;for(f=s;f<=u;f++){l=n[f];c=l.boundary;var v=void 0;if(c.x2>o.x1){v=c.index>o.index?c.x1New:o.x1}else if(c.x2New===undefined){v=(c.x2+o.x1)/2}else{v=c.x2New}if(v>h){h=v}}o.x1New=h;for(f=s;f<=u;f++){l=n[f];c=l.boundary;if(c.x2New===undefined){if(c.x2>o.x1){if(c.index>o.index){c.x2New=c.x2}}else{c.x2New=h}}else if(c.x2New>h){c.x2New=Math.max(h,c.x2)}}var p=[];var y=null;for(f=s;f<=u;f++){l=n[f];c=l.boundary;var m=c.x2>o.x2?c:o;if(y===m){p[p.length-1].end=l.end}else{p.push({start:l.start,end:l.end,boundary:m});y=m}}if(n[s].start<o.y1){p[0].start=o.y1;p.unshift({start:n[s].start,end:o.y1,boundary:n[s].boundary})}if(o.y2<n[u].end){p[p.length-1].end=o.y2;p.push({start:o.y2,end:n[u].end,boundary:n[u].boundary})}for(f=s;f<=u;f++){l=n[f];c=l.boundary;if(c.x2New!==undefined){continue}var g=false;for(d=s-1;!g&&d>=0&&n[d].start>=c.y1;d--){g=n[d].boundary===c}for(d=u+1;!g&&d<n.length&&n[d].end<=c.y2;d++){g=n[d].boundary===c}for(d=0;!g&&d<p.length;d++){g=p[d].boundary===c}if(!g){c.x2New=h}}Array.prototype.splice.apply(n,[s,u-s+1].concat(p))}}catch(e){a.e(e)}finally{a.f()}for(var b=0,_=n;b<_.length;b++){var A=_[b];var S=A.boundary;if(S.x2New===undefined){S.x2New=Math.max(e,S.x2)}}}var c=function(){function c(e){var t,r=this;var n=e.textContent,a=e.textContentStream,i=e.container,o=e.viewport,s=e.textDivs,u=e.textContentItemsStr,l=e.enhanceTextSelection;f(this,c);this._textContent=n;this._textContentStream=a;this._container=i;this._document=i.ownerDocument;this._viewport=o;this._textDivs=s||[];this._textContentItemsStr=u||[];this._enhanceTextSelection=!!l;this._fontInspectorEnabled=!!((t=globalThis.FontInspector)!==null&&t!==void 0&&t.enabled);this._reader=null;this._layoutTextLastFontSize=null;this._layoutTextLastFontFamily=null;this._layoutTextCtx=null;this._textDivProperties=new WeakMap;this._renderingDone=false;this._canceled=false;this._capability=(0,S.createPromiseCapability)();this._renderTimer=null;this._bounds=[];this._capability.promise["finally"](function(){if(!r._enhanceTextSelection){r._textDivProperties=null}if(r._layoutTextCtx){r._layoutTextCtx.canvas.width=0;r._layoutTextCtx.canvas.height=0;r._layoutTextCtx=null}})["catch"](function(){})}a(c,[{key:"promise",get:function e(){return this._capability.promise}},{key:"cancel",value:function e(){this._canceled=true;if(this._reader){this._reader.cancel(new S.AbortException("TextLayer task cancelled."))["catch"](function(){});this._reader=null}if(this._renderTimer!==null){clearTimeout(this._renderTimer);this._renderTimer=null}this._capability.reject(new Error("TextLayer task cancelled."))}},{key:"_processItems",value:function e(t,r){for(var n=0,a=t.length;n<a;n++){if(t[n].str===undefined){if(t[n].type==="beginMarkedContentProps"||t[n].type==="beginMarkedContent"){var i=this._container;this._container=document.createElement("span");this._container.classList.add("markedContent");if(t[n].id!==null){this._container.setAttribute("id","".concat(t[n].id))}i.appendChild(this._container)}else if(t[n].type==="endMarkedContent"){this._container=this._container.parentNode}continue}this._textContentItemsStr.push(t[n].str);s(this,t[n],r,this._layoutTextCtx)}}},{key:"_layoutText",value:function e(t){var r=this._textDivProperties.get(t);var n="";if(r.canvasWidth!==0&&r.hasText){var a=t.style,i=a.fontSize,o=a.fontFamily;if(i!==this._layoutTextLastFontSize||o!==this._layoutTextLastFontFamily){this._layoutTextCtx.font="".concat(i," ").concat(o);this._layoutTextLastFontSize=i;this._layoutTextLastFontFamily=o}var s=this._layoutTextCtx.measureText(t.textContent),u=s.width;if(u>0){var l=r.canvasWidth/u;if(this._enhanceTextSelection){r.scale=l}n="scaleX(".concat(l,")")}}if(r.angle!==0){n="rotate(".concat(r.angle,"deg) ").concat(n)}if(n.length>0){if(this._enhanceTextSelection){r.originalTransform=n}t.style.transform=n}if(r.hasText){this._container.appendChild(t)}if(r.hasEOL){var c=document.createElement("br");c.setAttribute("role","presentation");this._container.appendChild(c)}}},{key:"_render",value:function e(){var a=this;var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var i=(0,S.createPromiseCapability)();var o=Object.create(null);var r=this._document.createElement("canvas");r.height=r.width=d;r.mozOpaque=true;this._layoutTextCtx=r.getContext("2d",{alpha:false});if(this._textContent){var n=this._textContent.items;var s=this._textContent.styles;this._processItems(n,s);i.resolve()}else if(this._textContentStream){var u=function n(){a._reader.read().then(function(e){var t=e.value,r=e.done;if(r){i.resolve();return}Object.assign(o,t.styles);a._processItems(t.items,o);n()},i.reject)};this._reader=this._textContentStream.getReader();u()}else{throw new Error('Neither "textContent" nor "textContentStream" parameters specified.')}i.promise.then(function(){o=null;if(!t){l(a)}else{a._renderTimer=setTimeout(function(){l(a);a._renderTimer=null},t)}},this._capability.reject)}},{key:"expandTextDivs",value:function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(!this._enhanceTextSelection||!this._renderingDone){return}if(this._bounds!==null){p(this);this._bounds=null}var r=[],n=[];for(var a=0,i=this._textDivs.length;a<i;a++){var o=this._textDivs[a];var s=this._textDivProperties.get(o);if(!s.hasText){continue}if(t){r.length=0;n.length=0;if(s.originalTransform){r.push(s.originalTransform)}if(s.paddingTop>0){n.push("".concat(s.paddingTop,"px"));r.push("translateY(".concat(-s.paddingTop,"px)"))}else{n.push(0)}if(s.paddingRight>0){n.push("".concat(s.paddingRight/s.scale,"px"))}else{n.push(0)}if(s.paddingBottom>0){n.push("".concat(s.paddingBottom,"px"))}else{n.push(0)}if(s.paddingLeft>0){n.push("".concat(s.paddingLeft/s.scale,"px"));r.push("translateX(".concat(-s.paddingLeft/s.scale,"px)"))}else{n.push(0)}o.style.padding=n.join(" ");if(r.length){o.style.transform=r.join(" ")}}else{o.style.padding=null;o.style.transform=s.originalTransform}}}}]);return c}();function m(e){var t=new c({textContent:e.textContent,textContentStream:e.textContentStream,container:e.container,viewport:e.viewport,textDivs:e.textDivs,textContentItemsStr:e.textContentItemsStr,enhanceTextSelection:e.enhanceTextSelection});t._render(e.timeout);return t}},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.SVGGraphics=void 0;var M=r(4);var i=r(1);var a=r(6);function I(e){return s(e)||o(e)||f(e)||n()}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function o(e){if(typeof Symbol!=="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function s(e){if(Array.isArray(e))return d(e)}function j(e,t){return c(e)||l(e,t)||f(e,t)||u()}function u(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function l(e,t){var r=e==null?null:typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r==null)return;var n=[];var a=true;var i=false;var o,s;try{for(r=r.call(e);!(a=(o=r.next()).done);a=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){i=true;s=e}finally{try{if(!a&&r["return"]!=null)r["return"]()}finally{if(i)throw s}}return n}function c(e){if(Array.isArray(e))return e}function E(t,e){var r=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=f(t))||e&&t&&typeof t.length==="number"){if(r)t=r;var n=0;var a=function e(){};return{s:a,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,o=false,s;return{s:function e(){r=r.call(t)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!i&&r["return"]!=null)r["return"]()}finally{if(o)throw s}}}}function f(e,t){if(!e)return;if(typeof e==="string")return d(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d(e,t)}function d(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function v(e,t,r){if(t)h(e.prototype,t);if(r)h(e,r);return e}function p(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var y=function e(){p(this,e);(0,M.unreachable)("Not implemented: SVGGraphics")};t.SVGGraphics=y;{var m=function e(t){var r=[];var n=[];var a=E(t),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;if(o.fn==="save"){r.push({fnId:92,fn:"group",items:[]});n.push(r);r=r[r.length-1].items;continue}if(o.fn==="restore"){r=n.pop()}else{r.push(o)}}}catch(e){a.e(e)}finally{a.f()}return r};var O=function e(t){if(Number.isInteger(t)){return t.toString()}var r=t.toFixed(10);var n=r.length-1;if(r[n]!=="0"){return r}do{n--}while(r[n]==="0");return r.substring(0,r[n]==="."?n:n+1)};var F=function e(t){if(t[4]===0&&t[5]===0){if(t[1]===0&&t[2]===0){if(t[0]===1&&t[3]===1){return""}return"scale(".concat(O(t[0])," ").concat(O(t[3]),")")}if(t[0]===t[3]&&t[1]===-t[2]){var r=Math.acos(t[0])*180/Math.PI;return"rotate(".concat(O(r),")")}}else{if(t[0]===1&&t[1]===0&&t[2]===0&&t[3]===1){return"translate(".concat(O(t[4])," ").concat(O(t[5]),")")}}return"matrix(".concat(O(t[0])," ").concat(O(t[1])," ").concat(O(t[2])," ").concat(O(t[3])," ").concat(O(t[4])," ")+"".concat(O(t[5]),")")};var L={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"};var D="http://www.w3.org/XML/1998/namespace";var g="http://www.w3.org/1999/xlink";var b=["butt","round","square"];var _=["miter","round","bevel"];var A=function(){var A=new Uint8Array([137,80,78,71,13,10,26,10]);var S=12;var s=new Int32Array(256);for(var e=0;e<256;e++){var t=e;for(var r=0;r<8;r++){if(t&1){t=3988292384^t>>1&2147483647}else{t=t>>1&2147483647}}s[e]=t}function u(e,t,r){var n=-1;for(var a=t;a<r;a++){var i=(n^e[a])&255;var o=s[i];n=n>>>8^o}return n^-1}function w(e,t,r,n){var a=n;var i=t.length;r[a]=i>>24&255;r[a+1]=i>>16&255;r[a+2]=i>>8&255;r[a+3]=i&255;a+=4;r[a]=e.charCodeAt(0)&255;r[a+1]=e.charCodeAt(1)&255;r[a+2]=e.charCodeAt(2)&255;r[a+3]=e.charCodeAt(3)&255;a+=4;r.set(t,a);a+=t.length;var o=u(r,n+4,a);r[a]=o>>24&255;r[a+1]=o>>16&255;r[a+2]=o>>8&255;r[a+3]=o&255}function l(e,t,r){var n=1;var a=0;for(var i=t;i<r;++i){n=(n+(e[i]&255))%65521;a=(a+n)%65521}return a<<16|n}function k(e){if(!a.isNodeJS){return n(e)}try{var t;if(parseInt(process.versions.node)>=8){t=e}else{t=Buffer.from(e)}var r=require("zlib").deflateSync(t,{level:9});return r instanceof Uint8Array?r:new Uint8Array(r)}catch(e){(0,M.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+e)}return n(e)}function n(e){var t=e.length;var r=65535;var n=Math.ceil(t/r);var a=new Uint8Array(2+t+n*5+4);var i=0;a[i++]=120;a[i++]=156;var o=0;while(t>r){a[i++]=0;a[i++]=255;a[i++]=255;a[i++]=0;a[i++]=0;a.set(e.subarray(o,o+r),i);i+=r;o+=r;t-=r}a[i++]=1;a[i++]=t&255;a[i++]=t>>8&255;a[i++]=~t&65535&255;a[i++]=(~t&65535)>>8&255;a.set(e.subarray(o),i);i+=e.length-o;var s=l(e,0,e.length);a[i++]=s>>24&255;a[i++]=s>>16&255;a[i++]=s>>8&255;a[i++]=s&255;return a}function i(e,t,r,n){var a=e.width;var i=e.height;var o,s,u;var l=e.data;switch(t){case M.ImageKind.GRAYSCALE_1BPP:s=0;o=1;u=a+7>>3;break;case M.ImageKind.RGB_24BPP:s=2;o=8;u=a*3;break;case M.ImageKind.RGBA_32BPP:s=6;o=8;u=a*4;break;default:throw new Error("invalid format")}var c=new Uint8Array((1+u)*i);var f=0,d=0;for(var h=0;h<i;++h){c[f++]=0;c.set(l.subarray(d,d+u),f);d+=u;f+=u}if(t===M.ImageKind.GRAYSCALE_1BPP&&n){f=0;for(var v=0;v<i;v++){f++;for(var p=0;p<u;p++){c[f++]^=255}}}var y=new Uint8Array([a>>24&255,a>>16&255,a>>8&255,a&255,i>>24&255,i>>16&255,i>>8&255,i&255,o,s,0,0,0]);var m=k(c);var g=A.length+S*3+y.length+m.length;var b=new Uint8Array(g);var _=0;b.set(A,_);_+=A.length;w("IHDR",y,b,_);_+=S+y.length;w("IDATA",m,b,_);_+=S+m.length;w("IEND",new Uint8Array(0),b,_);return(0,M.createObjectURL)(b,"image/png",r)}return function e(t,r,n){var a=t.kind===undefined?M.ImageKind.GRAYSCALE_1BPP:t.kind;return i(t,a,r,n)}}();var S=function(){function e(){p(this,e);this.fontSizeScale=1;this.fontWeight=L.fontWeight;this.fontSize=0;this.textMatrix=M.IDENTITY_MATRIX;this.fontMatrix=M.FONT_IDENTITY_MATRIX;this.leading=0;this.textRenderingMode=M.TextRenderingMode.FILL;this.textMatrixScale=1;this.x=0;this.y=0;this.lineX=0;this.lineY=0;this.charSpacing=0;this.wordSpacing=0;this.textHScale=1;this.textRise=0;this.fillColor=L.fillColor;this.strokeColor="#000000";this.fillAlpha=1;this.strokeAlpha=1;this.lineWidth=1;this.lineJoin="";this.lineCap="";this.miterLimit=0;this.dashArray=[];this.dashPhase=0;this.dependencies=[];this.activeClipUrl=null;this.clipGroup=null;this.maskId=""}v(e,[{key:"clone",value:function e(){return Object.create(this)}},{key:"setCurrentPoint",value:function e(t,r){this.x=t;this.y=r}}]);return e}();var w=0;var k=0;var N=0;t.SVGGraphics=y=function(){function a(e,t){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;p(this,a);this.svgFactory=new i.DOMSVGFactory;this.current=new S;this.transformMatrix=M.IDENTITY_MATRIX;this.transformStack=[];this.extraStack=[];this.commonObjs=e;this.objs=t;this.pendingClip=null;this.pendingEOFill=false;this.embedFonts=false;this.embeddedFonts=Object.create(null);this.cssStyle=null;this.forceDataSchema=!!r;this._operatorIdMapping=[];for(var n in M.OPS){this._operatorIdMapping[M.OPS[n]]=n}}v(a,[{key:"save",value:function e(){this.transformStack.push(this.transformMatrix);var t=this.current;this.extraStack.push(t);this.current=t.clone()}},{key:"restore",value:function e(){this.transformMatrix=this.transformStack.pop();this.current=this.extraStack.pop();this.pendingClip=null;this.tgrp=null}},{key:"group",value:function e(t){this.save();this.executeOpTree(t);this.restore()}},{key:"loadDependencies",value:function e(t){var a=this;var r=t.fnArray;var n=t.argsArray;for(var i=0,o=r.length;i<o;i++){if(r[i]!==M.OPS.dependency){continue}var s=E(n[i]),u;try{var l=function e(){var t=u.value;var r=t.startsWith("g_")?a.commonObjs:a.objs;var n=new Promise(function(e){r.get(t,e)});a.current.dependencies.push(n)};for(s.s();!(u=s.n()).done;){l()}}catch(e){s.e(e)}finally{s.f()}}return Promise.all(this.current.dependencies)}},{key:"transform",value:function e(t,r,n,a,i,o){var s=[t,r,n,a,i,o];this.transformMatrix=M.Util.transform(this.transformMatrix,s);this.tgrp=null}},{key:"getSVG",value:function e(t,r){var n=this;this.viewport=r;var a=this._initialize(r);return this.loadDependencies(t).then(function(){n.transformMatrix=M.IDENTITY_MATRIX;n.executeOpTree(n.convertOpList(t));return a})}},{key:"convertOpList",value:function e(t){var r=this._operatorIdMapping;var n=t.argsArray;var a=t.fnArray;var i=[];for(var o=0,s=a.length;o<s;o++){var u=a[o];i.push({fnId:u,fn:r[u],args:n[o]})}return m(i)}},{key:"executeOpTree",value:function e(t){var r=E(t),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;var i=a.fn;var o=a.fnId;var s=a.args;switch(o|0){case M.OPS.beginText:this.beginText();break;case M.OPS.dependency:break;case M.OPS.setLeading:this.setLeading(s);break;case M.OPS.setLeadingMoveText:this.setLeadingMoveText(s[0],s[1]);break;case M.OPS.setFont:this.setFont(s);break;case M.OPS.showText:this.showText(s[0]);break;case M.OPS.showSpacedText:this.showText(s[0]);break;case M.OPS.endText:this.endText();break;case M.OPS.moveText:this.moveText(s[0],s[1]);break;case M.OPS.setCharSpacing:this.setCharSpacing(s[0]);break;case M.OPS.setWordSpacing:this.setWordSpacing(s[0]);break;case M.OPS.setHScale:this.setHScale(s[0]);break;case M.OPS.setTextMatrix:this.setTextMatrix(s[0],s[1],s[2],s[3],s[4],s[5]);break;case M.OPS.setTextRise:this.setTextRise(s[0]);break;case M.OPS.setTextRenderingMode:this.setTextRenderingMode(s[0]);break;case M.OPS.setLineWidth:this.setLineWidth(s[0]);break;case M.OPS.setLineJoin:this.setLineJoin(s[0]);break;case M.OPS.setLineCap:this.setLineCap(s[0]);break;case M.OPS.setMiterLimit:this.setMiterLimit(s[0]);break;case M.OPS.setFillRGBColor:this.setFillRGBColor(s[0],s[1],s[2]);break;case M.OPS.setStrokeRGBColor:this.setStrokeRGBColor(s[0],s[1],s[2]);break;case M.OPS.setStrokeColorN:this.setStrokeColorN(s);break;case M.OPS.setFillColorN:this.setFillColorN(s);break;case M.OPS.shadingFill:this.shadingFill(s[0]);break;case M.OPS.setDash:this.setDash(s[0],s[1]);break;case M.OPS.setRenderingIntent:this.setRenderingIntent(s[0]);break;case M.OPS.setFlatness:this.setFlatness(s[0]);break;case M.OPS.setGState:this.setGState(s[0]);break;case M.OPS.fill:this.fill();break;case M.OPS.eoFill:this.eoFill();break;case M.OPS.stroke:this.stroke();break;case M.OPS.fillStroke:this.fillStroke();break;case M.OPS.eoFillStroke:this.eoFillStroke();break;case M.OPS.clip:this.clip("nonzero");break;case M.OPS.eoClip:this.clip("evenodd");break;case M.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case M.OPS.paintImageXObject:this.paintImageXObject(s[0]);break;case M.OPS.paintInlineImageXObject:this.paintInlineImageXObject(s[0]);break;case M.OPS.paintImageMaskXObject:this.paintImageMaskXObject(s[0]);break;case M.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(s[0],s[1]);break;case M.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case M.OPS.closePath:this.closePath();break;case M.OPS.closeStroke:this.closeStroke();break;case M.OPS.closeFillStroke:this.closeFillStroke();break;case M.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case M.OPS.nextLine:this.nextLine();break;case M.OPS.transform:this.transform(s[0],s[1],s[2],s[3],s[4],s[5]);break;case M.OPS.constructPath:this.constructPath(s[0],s[1]);break;case M.OPS.endPath:this.endPath();break;case 92:this.group(a.items);break;default:(0,M.warn)("Unimplemented operator ".concat(i));break}}}catch(e){r.e(e)}finally{r.f()}}},{key:"setWordSpacing",value:function e(t){this.current.wordSpacing=t}},{key:"setCharSpacing",value:function e(t){this.current.charSpacing=t}},{key:"nextLine",value:function e(){this.moveText(0,this.current.leading)}},{key:"setTextMatrix",value:function e(t,r,n,a,i,o){var s=this.current;s.textMatrix=s.lineMatrix=[t,r,n,a,i,o];s.textMatrixScale=Math.hypot(t,r);s.x=s.lineX=0;s.y=s.lineY=0;s.xcoords=[];s.ycoords=[];s.tspan=this.svgFactory.createElement("svg:tspan");s.tspan.setAttributeNS(null,"font-family",s.fontFamily);s.tspan.setAttributeNS(null,"font-size","".concat(O(s.fontSize),"px"));s.tspan.setAttributeNS(null,"y",O(-s.y));s.txtElement=this.svgFactory.createElement("svg:text");s.txtElement.appendChild(s.tspan)}},{key:"beginText",value:function e(){var t=this.current;t.x=t.lineX=0;t.y=t.lineY=0;t.textMatrix=M.IDENTITY_MATRIX;t.lineMatrix=M.IDENTITY_MATRIX;t.textMatrixScale=1;t.tspan=this.svgFactory.createElement("svg:tspan");t.txtElement=this.svgFactory.createElement("svg:text");t.txtgrp=this.svgFactory.createElement("svg:g");t.xcoords=[];t.ycoords=[]}},{key:"moveText",value:function e(t,r){var n=this.current;n.x=n.lineX+=t;n.y=n.lineY+=r;n.xcoords=[];n.ycoords=[];n.tspan=this.svgFactory.createElement("svg:tspan");n.tspan.setAttributeNS(null,"font-family",n.fontFamily);n.tspan.setAttributeNS(null,"font-size","".concat(O(n.fontSize),"px"));n.tspan.setAttributeNS(null,"y",O(-n.y))}},{key:"showText",value:function e(t){var r=this.current;var n=r.font;var a=r.fontSize;if(a===0){return}var i=r.fontSizeScale;var o=r.charSpacing;var s=r.wordSpacing;var u=r.fontDirection;var l=r.textHScale*u;var c=n.vertical;var f=c?1:-1;var d=n.defaultVMetrics;var h=a*r.fontMatrix[0];var v=0;var p=E(t),y;try{for(p.s();!(y=p.n()).done;){var m=y.value;if(m===null){v+=u*s;continue}else if((0,M.isNum)(m)){v+=f*m*a/1e3;continue}var g=(m.isSpace?s:0)+o;var b=m.fontChar;var _=void 0,A=void 0;var S=m.width;if(c){var w=void 0;var k=m.vmetric||d;w=m.vmetric?k[1]:S*.5;w=-w*h;var x=k[2]*h;S=k?-k[0]:S;_=w/i;A=(v+x)/i}else{_=v/i;A=0}if(m.isInFont||n.missingFile){r.xcoords.push(r.x+_);if(c){r.ycoords.push(-r.y+A)}r.tspan.textContent+=b}else{}var C=void 0;if(c){C=S*h-g*u}else{C=S*h+g*u}v+=C}}catch(e){p.e(e)}finally{p.f()}r.tspan.setAttributeNS(null,"x",r.xcoords.map(O).join(" "));if(c){r.tspan.setAttributeNS(null,"y",r.ycoords.map(O).join(" "))}else{r.tspan.setAttributeNS(null,"y",O(-r.y))}if(c){r.y-=v}else{r.x+=v*l}r.tspan.setAttributeNS(null,"font-family",r.fontFamily);r.tspan.setAttributeNS(null,"font-size","".concat(O(r.fontSize),"px"));if(r.fontStyle!==L.fontStyle){r.tspan.setAttributeNS(null,"font-style",r.fontStyle)}if(r.fontWeight!==L.fontWeight){r.tspan.setAttributeNS(null,"font-weight",r.fontWeight)}var P=r.textRenderingMode&M.TextRenderingMode.FILL_STROKE_MASK;if(P===M.TextRenderingMode.FILL||P===M.TextRenderingMode.FILL_STROKE){if(r.fillColor!==L.fillColor){r.tspan.setAttributeNS(null,"fill",r.fillColor)}if(r.fillAlpha<1){r.tspan.setAttributeNS(null,"fill-opacity",r.fillAlpha)}}else if(r.textRenderingMode===M.TextRenderingMode.ADD_TO_PATH){r.tspan.setAttributeNS(null,"fill","transparent")}else{r.tspan.setAttributeNS(null,"fill","none")}if(P===M.TextRenderingMode.STROKE||P===M.TextRenderingMode.FILL_STROKE){var T=1/(r.textMatrixScale||1);this._setStrokeAttributes(r.tspan,T)}var R=r.textMatrix;if(r.textRise!==0){R=R.slice();R[5]+=r.textRise}r.txtElement.setAttributeNS(null,"transform","".concat(F(R)," scale(").concat(O(l),", -1)"));r.txtElement.setAttributeNS(D,"xml:space","preserve");r.txtElement.appendChild(r.tspan);r.txtgrp.appendChild(r.txtElement);this._ensureTransformGroup().appendChild(r.txtElement)}},{key:"setLeadingMoveText",value:function e(t,r){this.setLeading(-r);this.moveText(t,r)}},{key:"addFontStyle",value:function e(t){if(!t.data){throw new Error("addFontStyle: No font data available, "+'ensure that the "fontExtraProperties" API parameter is set.')}if(!this.cssStyle){this.cssStyle=this.svgFactory.createElement("svg:style");this.cssStyle.setAttributeNS(null,"type","text/css");this.defs.appendChild(this.cssStyle)}var r=(0,M.createObjectURL)(t.data,t.mimetype,this.forceDataSchema);this.cssStyle.textContent+='@font-face { font-family: "'.concat(t.loadedName,'";')+" src: url(".concat(r,"); }\n")}},{key:"setFont",value:function e(t){var r=this.current;var n=this.commonObjs.get(t[0]);var a=t[1];r.font=n;if(this.embedFonts&&!n.missingFile&&!this.embeddedFonts[n.loadedName]){this.addFontStyle(n);this.embeddedFonts[n.loadedName]=n}r.fontMatrix=n.fontMatrix||M.FONT_IDENTITY_MATRIX;var i="normal";if(n.black){i="900"}else if(n.bold){i="bold"}var o=n.italic?"italic":"normal";if(a<0){a=-a;r.fontDirection=-1}else{r.fontDirection=1}r.fontSize=a;r.fontFamily=n.loadedName;r.fontWeight=i;r.fontStyle=o;r.tspan=this.svgFactory.createElement("svg:tspan");r.tspan.setAttributeNS(null,"y",O(-r.y));r.xcoords=[];r.ycoords=[]}},{key:"endText",value:function e(){var t;var r=this.current;if(r.textRenderingMode&M.TextRenderingMode.ADD_TO_PATH_FLAG&&(t=r.txtElement)!==null&&t!==void 0&&t.hasChildNodes()){r.element=r.txtElement;this.clip("nonzero");this.endPath()}}},{key:"setLineWidth",value:function e(t){if(t>0){this.current.lineWidth=t}}},{key:"setLineCap",value:function e(t){this.current.lineCap=b[t]}},{key:"setLineJoin",value:function e(t){this.current.lineJoin=_[t]}},{key:"setMiterLimit",value:function e(t){this.current.miterLimit=t}},{key:"setStrokeAlpha",value:function e(t){this.current.strokeAlpha=t}},{key:"setStrokeRGBColor",value:function e(t,r,n){this.current.strokeColor=M.Util.makeHexColor(t,r,n)}},{key:"setFillAlpha",value:function e(t){this.current.fillAlpha=t}},{key:"setFillRGBColor",value:function e(t,r,n){this.current.fillColor=M.Util.makeHexColor(t,r,n);this.current.tspan=this.svgFactory.createElement("svg:tspan");this.current.xcoords=[];this.current.ycoords=[]}},{key:"setStrokeColorN",value:function e(t){this.current.strokeColor=this._makeColorN_Pattern(t)}},{key:"setFillColorN",value:function e(t){this.current.fillColor=this._makeColorN_Pattern(t)}},{key:"shadingFill",value:function e(t){var r=this.viewport.width;var n=this.viewport.height;var a=M.Util.inverseTransform(this.transformMatrix);var i=M.Util.applyTransform([0,0],a);var o=M.Util.applyTransform([0,n],a);var s=M.Util.applyTransform([r,0],a);var u=M.Util.applyTransform([r,n],a);var l=Math.min(i[0],o[0],s[0],u[0]);var c=Math.min(i[1],o[1],s[1],u[1]);var f=Math.max(i[0],o[0],s[0],u[0]);var d=Math.max(i[1],o[1],s[1],u[1]);var h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x",l);h.setAttributeNS(null,"y",c);h.setAttributeNS(null,"width",f-l);h.setAttributeNS(null,"height",d-c);h.setAttributeNS(null,"fill",this._makeShadingPattern(t));if(this.current.fillAlpha<1){h.setAttributeNS(null,"fill-opacity",this.current.fillAlpha)}this._ensureTransformGroup().appendChild(h)}},{key:"_makeColorN_Pattern",value:function e(t){if(t[0]==="TilingPattern"){return this._makeTilingPattern(t)}return this._makeShadingPattern(t)}},{key:"_makeTilingPattern",value:function e(t){var r=t[1];var n=t[2];var a=t[3]||M.IDENTITY_MATRIX;var i=j(t[4],4),o=i[0],s=i[1],u=i[2],l=i[3];var c=t[5];var f=t[6];var d=t[7];var h="shading".concat(N++);var v=M.Util.normalizeRect([].concat(I(M.Util.applyTransform([o,s],a)),I(M.Util.applyTransform([u,l],a)))),p=j(v,4),y=p[0],m=p[1],g=p[2],b=p[3];var _=M.Util.singularValueDecompose2dScale(a),A=j(_,2),S=A[0],w=A[1];var k=c*S;var x=f*w;var C=this.svgFactory.createElement("svg:pattern");C.setAttributeNS(null,"id",h);C.setAttributeNS(null,"patternUnits","userSpaceOnUse");C.setAttributeNS(null,"width",k);C.setAttributeNS(null,"height",x);C.setAttributeNS(null,"x","".concat(y));C.setAttributeNS(null,"y","".concat(m));var P=this.svg;var T=this.transformMatrix;var R=this.current.fillColor;var E=this.current.strokeColor;var O=this.svgFactory.create(g-y,b-m);this.svg=O;this.transformMatrix=a;if(d===2){var F=M.Util.makeHexColor.apply(M.Util,I(r));this.current.fillColor=F;this.current.strokeColor=F}this.executeOpTree(this.convertOpList(n));this.svg=P;this.transformMatrix=T;this.current.fillColor=R;this.current.strokeColor=E;C.appendChild(O.childNodes[0]);this.defs.appendChild(C);return"url(#".concat(h,")")}},{key:"_makeShadingPattern",value:function e(t){if(typeof t==="string"){t=this.objs.get(t)}switch(t[0]){case"RadialAxial":var r="shading".concat(N++);var n=t[3];var a;switch(t[1]){case"axial":var i=t[4];var o=t[5];a=this.svgFactory.createElement("svg:linearGradient");a.setAttributeNS(null,"id",r);a.setAttributeNS(null,"gradientUnits","userSpaceOnUse");a.setAttributeNS(null,"x1",i[0]);a.setAttributeNS(null,"y1",i[1]);a.setAttributeNS(null,"x2",o[0]);a.setAttributeNS(null,"y2",o[1]);break;case"radial":var s=t[4];var u=t[5];var l=t[6];var c=t[7];a=this.svgFactory.createElement("svg:radialGradient");a.setAttributeNS(null,"id",r);a.setAttributeNS(null,"gradientUnits","userSpaceOnUse");a.setAttributeNS(null,"cx",u[0]);a.setAttributeNS(null,"cy",u[1]);a.setAttributeNS(null,"r",c);a.setAttributeNS(null,"fx",s[0]);a.setAttributeNS(null,"fy",s[1]);a.setAttributeNS(null,"fr",l);break;default:throw new Error("Unknown RadialAxial type: ".concat(t[1]))}var f=E(n),d;try{for(f.s();!(d=f.n()).done;){var h=d.value;var v=this.svgFactory.createElement("svg:stop");v.setAttributeNS(null,"offset",h[0]);v.setAttributeNS(null,"stop-color",h[1]);a.appendChild(v)}}catch(e){f.e(e)}finally{f.f()}this.defs.appendChild(a);return"url(#".concat(r,")");case"Mesh":(0,M.warn)("Unimplemented pattern Mesh");return null;case"Dummy":return"hotpink";default:throw new Error("Unknown IR type: ".concat(t[0]))}}},{key:"setDash",value:function e(t,r){this.current.dashArray=t;this.current.dashPhase=r}},{key:"constructPath",value:function e(t,r){var n=this.current;var a=n.x,i=n.y;var o=[];var s=0;var u=E(t),l;try{for(u.s();!(l=u.n()).done;){var c=l.value;switch(c|0){case M.OPS.rectangle:a=r[s++];i=r[s++];var f=r[s++];var d=r[s++];var h=a+f;var v=i+d;o.push("M",O(a),O(i),"L",O(h),O(i),"L",O(h),O(v),"L",O(a),O(v),"Z");break;case M.OPS.moveTo:a=r[s++];i=r[s++];o.push("M",O(a),O(i));break;case M.OPS.lineTo:a=r[s++];i=r[s++];o.push("L",O(a),O(i));break;case M.OPS.curveTo:a=r[s+4];i=r[s+5];o.push("C",O(r[s]),O(r[s+1]),O(r[s+2]),O(r[s+3]),O(a),O(i));s+=6;break;case M.OPS.curveTo2:o.push("C",O(a),O(i),O(r[s]),O(r[s+1]),O(r[s+2]),O(r[s+3]));a=r[s+2];i=r[s+3];s+=4;break;case M.OPS.curveTo3:a=r[s+2];i=r[s+3];o.push("C",O(r[s]),O(r[s+1]),O(a),O(i),O(a),O(i));s+=4;break;case M.OPS.closePath:o.push("Z");break}}}catch(e){u.e(e)}finally{u.f()}o=o.join(" ");if(n.path&&t.length>0&&t[0]!==M.OPS.rectangle&&t[0]!==M.OPS.moveTo){o=n.path.getAttributeNS(null,"d")+o}else{n.path=this.svgFactory.createElement("svg:path");this._ensureTransformGroup().appendChild(n.path)}n.path.setAttributeNS(null,"d",o);n.path.setAttributeNS(null,"fill","none");n.element=n.path;n.setCurrentPoint(a,i)}},{key:"endPath",value:function e(){var t=this.current;t.path=null;if(!this.pendingClip){return}if(!t.element){this.pendingClip=null;return}var r="clippath".concat(w++);var n=this.svgFactory.createElement("svg:clipPath");n.setAttributeNS(null,"id",r);n.setAttributeNS(null,"transform",F(this.transformMatrix));var a=t.element.cloneNode(true);if(this.pendingClip==="evenodd"){a.setAttributeNS(null,"clip-rule","evenodd")}else{a.setAttributeNS(null,"clip-rule","nonzero")}this.pendingClip=null;n.appendChild(a);this.defs.appendChild(n);if(t.activeClipUrl){t.clipGroup=null;var i=E(this.extraStack),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;s.clipGroup=null}}catch(e){i.e(e)}finally{i.f()}n.setAttributeNS(null,"clip-path",t.activeClipUrl)}t.activeClipUrl="url(#".concat(r,")");this.tgrp=null}},{key:"clip",value:function e(t){this.pendingClip=t}},{key:"closePath",value:function e(){var t=this.current;if(t.path){var r="".concat(t.path.getAttributeNS(null,"d"),"Z");t.path.setAttributeNS(null,"d",r)}}},{key:"setLeading",value:function e(t){this.current.leading=-t}},{key:"setTextRise",value:function e(t){this.current.textRise=t}},{key:"setTextRenderingMode",value:function e(t){this.current.textRenderingMode=t}},{key:"setHScale",value:function e(t){this.current.textHScale=t/100}},{key:"setRenderingIntent",value:function e(t){}},{key:"setFlatness",value:function e(t){}},{key:"setGState",value:function e(t){var r=E(t),n;try{for(r.s();!(n=r.n()).done;){var a=j(n.value,2),i=a[0],o=a[1];switch(i){case"LW":this.setLineWidth(o);break;case"LC":this.setLineCap(o);break;case"LJ":this.setLineJoin(o);break;case"ML":this.setMiterLimit(o);break;case"D":this.setDash(o[0],o[1]);break;case"RI":this.setRenderingIntent(o);break;case"FL":this.setFlatness(o);break;case"Font":this.setFont(o);break;case"CA":this.setStrokeAlpha(o);break;case"ca":this.setFillAlpha(o);break;default:(0,M.warn)("Unimplemented graphic state operator ".concat(i));break}}}catch(e){r.e(e)}finally{r.f()}}},{key:"fill",value:function e(){var t=this.current;if(t.element){t.element.setAttributeNS(null,"fill",t.fillColor);t.element.setAttributeNS(null,"fill-opacity",t.fillAlpha);this.endPath()}}},{key:"stroke",value:function e(){var t=this.current;if(t.element){this._setStrokeAttributes(t.element);t.element.setAttributeNS(null,"fill","none");this.endPath()}}},{key:"_setStrokeAttributes",value:function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var n=this.current;var a=n.dashArray;if(r!==1&&a.length>0){a=a.map(function(e){return r*e})}t.setAttributeNS(null,"stroke",n.strokeColor);t.setAttributeNS(null,"stroke-opacity",n.strokeAlpha);t.setAttributeNS(null,"stroke-miterlimit",O(n.miterLimit));t.setAttributeNS(null,"stroke-linecap",n.lineCap);t.setAttributeNS(null,"stroke-linejoin",n.lineJoin);t.setAttributeNS(null,"stroke-width",O(r*n.lineWidth)+"px");t.setAttributeNS(null,"stroke-dasharray",a.map(O).join(" "));t.setAttributeNS(null,"stroke-dashoffset",O(r*n.dashPhase)+"px")}},{key:"eoFill",value:function e(){if(this.current.element){this.current.element.setAttributeNS(null,"fill-rule","evenodd")}this.fill()}},{key:"fillStroke",value:function e(){this.stroke();this.fill()}},{key:"eoFillStroke",value:function e(){if(this.current.element){this.current.element.setAttributeNS(null,"fill-rule","evenodd")}this.fillStroke()}},{key:"closeStroke",value:function e(){this.closePath();this.stroke()}},{key:"closeFillStroke",value:function e(){this.closePath();this.fillStroke()}},{key:"closeEOFillStroke",value:function e(){this.closePath();this.eoFillStroke()}},{key:"paintSolidColorImageMask",value:function e(){var t=this.svgFactory.createElement("svg:rect");t.setAttributeNS(null,"x","0");t.setAttributeNS(null,"y","0");t.setAttributeNS(null,"width","1px");t.setAttributeNS(null,"height","1px");t.setAttributeNS(null,"fill",this.current.fillColor);this._ensureTransformGroup().appendChild(t)}},{key:"paintImageXObject",value:function e(t){var r=t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t);if(!r){(0,M.warn)("Dependent image with object ID ".concat(t," is not ready yet"));return}this.paintInlineImageXObject(r)}},{key:"paintInlineImageXObject",value:function e(t,r){var n=t.width;var a=t.height;var i=A(t,this.forceDataSchema,!!r);var o=this.svgFactory.createElement("svg:rect");o.setAttributeNS(null,"x","0");o.setAttributeNS(null,"y","0");o.setAttributeNS(null,"width",O(n));o.setAttributeNS(null,"height",O(a));this.current.element=o;this.clip("nonzero");var s=this.svgFactory.createElement("svg:image");s.setAttributeNS(g,"xlink:href",i);s.setAttributeNS(null,"x","0");s.setAttributeNS(null,"y",O(-a));s.setAttributeNS(null,"width",O(n)+"px");s.setAttributeNS(null,"height",O(a)+"px");s.setAttributeNS(null,"transform","scale(".concat(O(1/n)," ").concat(O(-1/a),")"));if(r){r.appendChild(s)}else{this._ensureTransformGroup().appendChild(s)}}},{key:"paintImageMaskXObject",value:function e(t){var r=this.current;var n=t.width;var a=t.height;var i=r.fillColor;r.maskId="mask".concat(k++);var o=this.svgFactory.createElement("svg:mask");o.setAttributeNS(null,"id",r.maskId);var s=this.svgFactory.createElement("svg:rect");s.setAttributeNS(null,"x","0");s.setAttributeNS(null,"y","0");s.setAttributeNS(null,"width",O(n));s.setAttributeNS(null,"height",O(a));s.setAttributeNS(null,"fill",i);s.setAttributeNS(null,"mask","url(#".concat(r.maskId,")"));this.defs.appendChild(o);this._ensureTransformGroup().appendChild(s);this.paintInlineImageXObject(t,o)}},{key:"paintFormXObjectBegin",value:function e(t,r){if(Array.isArray(t)&&t.length===6){this.transform(t[0],t[1],t[2],t[3],t[4],t[5])}if(r){var n=r[2]-r[0];var a=r[3]-r[1];var i=this.svgFactory.createElement("svg:rect");i.setAttributeNS(null,"x",r[0]);i.setAttributeNS(null,"y",r[1]);i.setAttributeNS(null,"width",O(n));i.setAttributeNS(null,"height",O(a));this.current.element=i;this.clip("nonzero");this.endPath()}}},{key:"paintFormXObjectEnd",value:function e(){}},{key:"_initialize",value:function e(t){var r=this.svgFactory.create(t.width,t.height);var n=this.svgFactory.createElement("svg:defs");r.appendChild(n);this.defs=n;var a=this.svgFactory.createElement("svg:g");a.setAttributeNS(null,"transform",F(t.transform));r.appendChild(a);this.svg=a;return r}},{key:"_ensureClipGroup",value:function e(){if(!this.current.clipGroup){var t=this.svgFactory.createElement("svg:g");t.setAttributeNS(null,"clip-path",this.current.activeClipUrl);this.svg.appendChild(t);this.current.clipGroup=t}return this.current.clipGroup}},{key:"_ensureTransformGroup",value:function e(){if(!this.tgrp){this.tgrp=this.svgFactory.createElement("svg:g");this.tgrp.setAttributeNS(null,"transform",F(this.transformMatrix));if(this.current.activeClipUrl){this._ensureClipGroup().appendChild(this.tgrp)}else{this.svg.appendChild(this.tgrp)}}return this.tgrp}}]);return a}()}},(e,t,r)=>{"use strict";function n(e){"@babel/helpers - typeof";if(typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"){n=function e(t){return typeof t}}else{n=function e(t){return t&&typeof Symbol==="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t}}return n(e)}Object.defineProperty(t,"__esModule",{value:true});t.PDFNodeStream=void 0;var a=i(r(2));var l=r(4);var c=r(154);function i(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function")}e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:true,configurable:true}});if(t)o(e,t)}function o(e,t){o=Object.setPrototypeOf||function e(t,r){t.__proto__=r;return t};return o(e,t)}function d(a){var i=h();return function e(){var t=v(a),r;if(i){var n=v(this).constructor;r=Reflect.construct(t,arguments,n)}else{r=t.apply(this,arguments)}return s(this,r)}}function s(e,t){if(t&&(n(t)==="object"||typeof t==="function")){return t}else if(t!==void 0){throw new TypeError("Derived constructors may only return object or undefined")}return u(e)}function u(e){if(e===void 0){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return e}function h(){if(typeof Reflect==="undefined"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy==="function")return true;try{Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}));return true}catch(e){return false}}function v(e){v=Object.setPrototypeOf?Object.getPrototypeOf:function e(t){return t.__proto__||Object.getPrototypeOf(t)};return v(e)}function p(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function y(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=s.apply(e,o);function a(e){p(n,t,r,a,i,"next",e)}function i(e){p(n,t,r,a,i,"throw",e)}a(undefined)})}}function m(t,e){var r=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=g(t))||e&&t&&typeof t.length==="number"){if(r)t=r;var n=0;var a=function e(){};return{s:a,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,o=false,s;return{s:function e(){r=r.call(t)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!i&&r["return"]!=null)r["return"]()}finally{if(o)throw s}}}}function g(e,t){if(!e)return;if(typeof e==="string")return b(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return b(e,t)}function b(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function _(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function A(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function S(e,t,r){if(t)A(e.prototype,t);if(r)A(e,r);return e}var w=require("fs");var k=require("http");var x=require("https");var C=require("url");var P=/^file:\/\/\/[a-zA-Z]:\//;function T(e){var t=C.parse(e);if(t.protocol==="file:"||t.host){return t}if(/^[a-z]:[/\\]/i.test(e)){return C.parse("file:///".concat(e))}if(!t.host){t.protocol="file:"}return t}var R=function(){function t(e){_(this,t);this.source=e;this.url=T(e.url);this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:";this.isFsUrl=this.url.protocol==="file:";this.httpHeaders=this.isHttp&&e.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}S(t,[{key:"_progressiveDataLength",get:function e(){var t,r;return(t=(r=this._fullRequestReader)===null||r===void 0?void 0:r._loaded)!==null&&t!==void 0?t:0}},{key:"getFullReader",value:function e(){(0,l.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once.");this._fullRequestReader=this.isFsUrl?new j(this):new M(this);return this._fullRequestReader}},{key:"getRangeReader",value:function e(t,r){if(r<=this._progressiveDataLength){return null}var n=this.isFsUrl?new L(this,t,r):new I(this,t,r);this._rangeRequestReaders.push(n);return n}},{key:"cancelAllRequests",value:function e(t){if(this._fullRequestReader){this._fullRequestReader.cancel(t)}var r=m(this._rangeRequestReaders.slice(0)),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.cancel(t)}}catch(e){r.e(e)}finally{r.f()}}}]);return t}();t.PDFNodeStream=R;var E=function(){function r(e){_(this,r);this._url=e.url;this._done=false;this._storedError=null;this.onProgress=null;var t=e.source;this._contentLength=t.length;this._loaded=0;this._filename=null;this._disableRange=t.disableRange||false;this._rangeChunkSize=t.rangeChunkSize;if(!this._rangeChunkSize&&!this._disableRange){this._disableRange=true}this._isStreamingSupported=!t.disableStream;this._isRangeSupported=!t.disableRange;this._readableStream=null;this._readCapability=(0,l.createPromiseCapability)();this._headersCapability=(0,l.createPromiseCapability)()}S(r,[{key:"headersReady",get:function e(){return this._headersCapability.promise}},{key:"filename",get:function e(){return this._filename}},{key:"contentLength",get:function e(){return this._contentLength}},{key:"isRangeSupported",get:function e(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}},{key:"read",value:function(){var e=y(a["default"].mark(function e(){var r,n;return a["default"].wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return this._readCapability.promise;case 2:if(!this._done){t.next=4;break}return t.abrupt("return",{value:undefined,done:true});case 4:if(!this._storedError){t.next=6;break}throw this._storedError;case 6:r=this._readableStream.read();if(!(r===null)){t.next=10;break}this._readCapability=(0,l.createPromiseCapability)();return t.abrupt("return",this.read());case 10:this._loaded+=r.length;if(this.onProgress){this.onProgress({loaded:this._loaded,total:this._contentLength})}n=new Uint8Array(r).buffer;return t.abrupt("return",{value:n,done:false});case 14:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}},{key:"_error",value:function e(t){this._storedError=t;this._readCapability.resolve()}},{key:"_setReadableStream",value:function e(t){var r=this;this._readableStream=t;t.on("readable",function(){r._readCapability.resolve()});t.on("end",function(){t.destroy();r._done=true;r._readCapability.resolve()});t.on("error",function(e){r._error(e)});if(!this._isStreamingSupported&&this._isRangeSupported){this._error(new l.AbortException("streaming is disabled"))}if(this._storedError){this._readableStream.destroy(this._storedError)}}}]);return r}();var O=function(){function r(e){_(this,r);this._url=e.url;this._done=false;this._storedError=null;this.onProgress=null;this._loaded=0;this._readableStream=null;this._readCapability=(0,l.createPromiseCapability)();var t=e.source;this._isStreamingSupported=!t.disableStream}S(r,[{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}},{key:"read",value:function(){var e=y(a["default"].mark(function e(){var r,n;return a["default"].wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return this._readCapability.promise;case 2:if(!this._done){t.next=4;break}return t.abrupt("return",{value:undefined,done:true});case 4:if(!this._storedError){t.next=6;break}throw this._storedError;case 6:r=this._readableStream.read();if(!(r===null)){t.next=10;break}this._readCapability=(0,l.createPromiseCapability)();return t.abrupt("return",this.read());case 10:this._loaded+=r.length;if(this.onProgress){this.onProgress({loaded:this._loaded})}n=new Uint8Array(r).buffer;return t.abrupt("return",{value:n,done:false});case 14:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}},{key:"_error",value:function e(t){this._storedError=t;this._readCapability.resolve()}},{key:"_setReadableStream",value:function e(t){var r=this;this._readableStream=t;t.on("readable",function(){r._readCapability.resolve()});t.on("end",function(){t.destroy();r._done=true;r._readCapability.resolve()});t.on("error",function(e){r._error(e)});if(this._storedError){this._readableStream.destroy(this._storedError)}}}]);return r}();function F(e,t){return{protocol:e.protocol,auth:e.auth,host:e.hostname,port:e.port,path:e.path,method:"GET",headers:t}}var M=function(e){f(r,e);var t=d(r);function r(s){var u;_(this,r);u=t.call(this,s);var e=function e(t){if(t.statusCode===404){var r=new l.MissingPDFException('Missing PDF "'.concat(u._url,'".'));u._storedError=r;u._headersCapability.reject(r);return}u._headersCapability.resolve();u._setReadableStream(t);var n=function e(t){return u._readableStream.headers[t.toLowerCase()]};var a=(0,c.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:s.isHttp,rangeChunkSize:u._rangeChunkSize,disableRange:u._disableRange}),i=a.allowRangeRequests,o=a.suggestedLength;u._isRangeSupported=i;u._contentLength=o||u._contentLength;u._filename=(0,c.extractFilenameFromHeader)(n)};u._request=null;if(u._url.protocol==="http:"){u._request=k.request(F(u._url,s.httpHeaders),e)}else{u._request=x.request(F(u._url,s.httpHeaders),e)}u._request.on("error",function(e){u._storedError=e;u._headersCapability.reject(e)});u._request.end();return u}return r}(E);var I=function(e){f(u,e);var s=d(u);function u(e,t,r){var n;_(this,u);n=s.call(this,e);n._httpHeaders={};for(var a in e.httpHeaders){var i=e.httpHeaders[a];if(typeof i==="undefined"){continue}n._httpHeaders[a]=i}n._httpHeaders.Range="bytes=".concat(t,"-").concat(r-1);var o=function e(t){if(t.statusCode===404){var r=new l.MissingPDFException('Missing PDF "'.concat(n._url,'".'));n._storedError=r;return}n._setReadableStream(t)};n._request=null;if(n._url.protocol==="http:"){n._request=k.request(F(n._url,n._httpHeaders),o)}else{n._request=x.request(F(n._url,n._httpHeaders),o)}n._request.on("error",function(e){n._storedError=e});n._request.end();return n}return u}(O);var j=function(e){f(a,e);var t=d(a);function a(e){var r;_(this,a);r=t.call(this,e);var n=decodeURIComponent(r._url.path);if(P.test(r._url.href)){n=n.replace(/^\//,"")}w.lstat(n,function(e,t){if(e){if(e.code==="ENOENT"){e=new l.MissingPDFException('Missing PDF "'.concat(n,'".'))}r._storedError=e;r._headersCapability.reject(e);return}r._contentLength=t.size;r._setReadableStream(w.createReadStream(n));r._headersCapability.resolve()});return r}return a}(E);var L=function(e){f(o,e);var i=d(o);function o(e,t,r){var n;_(this,o);n=i.call(this,e);var a=decodeURIComponent(n._url.path);if(P.test(n._url.href)){a=a.replace(/^\//,"")}n._setReadableStream(w.createReadStream(a,{start:t,end:r-1}));return n}return o}(O)},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.createResponseStatusError=s;t.extractFilenameFromHeader=o;t.validateRangeRequestCapabilities=i;t.validateResponseStatus=l;var u=r(4);var n=r(155);var a=r(1);function i(e){var t=e.getResponseHeader,r=e.isHttp,n=e.rangeChunkSize,a=e.disableRange;(0,u.assert)(n>0,"Range chunk size must be larger than zero");var i={allowRangeRequests:false,suggestedLength:undefined};var o=parseInt(t("Content-Length"),10);if(!Number.isInteger(o)){return i}i.suggestedLength=o;if(o<=2*n){return i}if(a||!r){return i}if(t("Accept-Ranges")!=="bytes"){return i}var s=t("Content-Encoding")||"identity";if(s!=="identity"){return i}i.allowRangeRequests=true;return i}function o(e){var t=e("Content-Disposition");if(t){var r=(0,n.getFilenameFromContentDispositionHeader)(t);if(r.includes("%")){try{r=decodeURIComponent(r)}catch(e){}}if((0,a.isPdfFile)(r)){return r}}return null}function s(e,t){if(e===404||e===0&&t.startsWith("file:")){return new u.MissingPDFException('Missing PDF "'+t+'".')}return new u.UnexpectedResponseException("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e)}function l(e){return e===200||e===206}},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.getFilenameFromContentDispositionHeader=u;var c=r(4);function m(e,t){return s(e)||o(e,t)||a(e,t)||n()}function n(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(!e)return;if(typeof e==="string")return i(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return i(e,t)}function i(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function o(e,t){var r=e==null?null:typeof Symbol!=="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(r==null)return;var n=[];var a=true;var i=false;var o,s;try{for(r=r.call(e);!(a=(o=r.next()).done);a=true){n.push(o.value);if(t&&n.length===t)break}}catch(e){i=true;s=e}finally{try{if(!a&&r["return"]!=null)r["return"]()}finally{if(i)throw s}}return n}function s(e){if(Array.isArray(e))return e}function u(e){var a=true;var t=v("filename\\*","i").exec(e);if(t){t=t[1];var r=p(t);r=unescape(r);r=y(r);r=l(r);return s(r)}t=u(e);if(t){var n=l(t);return s(n)}t=v("filename","i").exec(e);if(t){t=t[1];var i=p(t);i=l(i);return s(i)}function v(e,t){return new RegExp("(?:^|;)\\s*"+e+"\\s*=\\s*"+"("+'[^";\\s][^;\\s]*'+"|"+'"(?:[^"\\\\]|\\\\"?)+"?'+")",t)}function o(t,r){if(t){if(!/^[\x00-\xFF]+$/.test(r)){return r}try{var e=new TextDecoder(t,{fatal:true});var n=(0,c.stringToBytes)(r);r=e.decode(n);a=false}catch(e){if(/^utf-?8$/i.test(t)){try{r=decodeURIComponent(escape(r));a=false}catch(e){}}}}return r}function s(e){if(a&&/[\x80-\xff]/.test(e)){e=o("utf-8",e);if(a){e=o("iso-8859-1",e)}}return e}function u(e){var t=[];var r;var n=v("filename\\*((?!0\\d)\\d+)(\\*?)","ig");while((r=n.exec(e))!==null){var a=r,i=m(a,4),o=i[1],s=i[2],u=i[3];o=parseInt(o,10);if(o in t){if(o===0){break}continue}t[o]=[s,u]}var l=[];for(var c=0;c<t.length;++c){if(!(c in t)){break}var f=m(t[c],2),d=f[0],h=f[1];h=p(h);if(d){h=unescape(h);if(c===0){h=y(h)}}l.push(h)}return l.join("")}function p(e){if(e.startsWith('"')){var t=e.slice(1).split('\\"');for(var r=0;r<t.length;++r){var n=t[r].indexOf('"');if(n!==-1){t[r]=t[r].slice(0,n);t.length=r+1}t[r]=t[r].replace(/\\(.)/g,"$1")}e=t.join('"')}return e}function y(e){var t=e.indexOf("'");if(t===-1){return e}var r=e.slice(0,t);var n=e.slice(t+1);var a=n.replace(/^[^']*'/,"");return o(r,a)}function l(e){if(!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)){return e}return e.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(e,t,r,n){if(r==="q"||r==="Q"){n=n.replace(/_/g," ");n=n.replace(/=([0-9a-fA-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))});return o(t,n)}try{n=atob(n)}catch(e){}return o(t,n)})}return""}},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFNetworkStream=void 0;var i=n(r(2));var o=r(4);var s=r(154);function n(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function l(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=s.apply(e,o);function a(e){u(n,t,r,a,i,"next",e)}function i(e){u(n,t,r,a,i,"throw",e)}a(undefined)})}}function c(t,e){var r=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=f(t))||e&&t&&typeof t.length==="number"){if(r)t=r;var n=0;var a=function e(){};return{s:a,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,o=false,s;return{s:function e(){r=r.call(t)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!i&&r["return"]!=null)r["return"]()}finally{if(o)throw s}}}}function f(e,t){if(!e)return;if(typeof e==="string")return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}function a(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function v(e,t,r){if(t)h(e.prototype,t);if(r)h(e,r);return e}var p=200;var y=206;function m(e){var t=e.response;if(typeof t!=="string"){return t}var r=(0,o.stringToBytes)(t);return r.buffer}var g=function(){function r(e){var t=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};d(this,r);this.url=e;this.isHttp=/^https?:/i.test(e);this.httpHeaders=this.isHttp&&t.httpHeaders||Object.create(null);this.withCredentials=t.withCredentials||false;this.getXhr=t.getXhr||function e(){return new XMLHttpRequest};this.currXhrId=0;this.pendingRequests=Object.create(null)}v(r,[{key:"requestRange",value:function e(t,r,n){var a={begin:t,end:r};for(var i in n){a[i]=n[i]}return this.request(a)}},{key:"requestFull",value:function e(t){return this.request(t)}},{key:"request",value:function e(t){var r=this.getXhr();var n=this.currXhrId++;var a=this.pendingRequests[n]={xhr:r};r.open("GET",this.url);r.withCredentials=this.withCredentials;for(var i in this.httpHeaders){var o=this.httpHeaders[i];if(typeof o==="undefined"){continue}r.setRequestHeader(i,o)}if(this.isHttp&&"begin"in t&&"end"in t){r.setRequestHeader("Range","bytes=".concat(t.begin,"-").concat(t.end-1));a.expectedStatus=y}else{a.expectedStatus=p}r.responseType="arraybuffer";if(t.onError){r.onerror=function(e){t.onError(r.status)}}r.onreadystatechange=this.onStateChange.bind(this,n);r.onprogress=this.onProgress.bind(this,n);a.onHeadersReceived=t.onHeadersReceived;a.onDone=t.onDone;a.onError=t.onError;a.onProgress=t.onProgress;r.send(null);return n}},{key:"onProgress",value:function e(t,r){var n;var a=this.pendingRequests[t];if(!a){return}(n=a.onProgress)===null||n===void 0?void 0:n.call(a,r)}},{key:"onStateChange",value:function e(t,r){var n=this.pendingRequests[t];if(!n){return}var a=n.xhr;if(a.readyState>=2&&n.onHeadersReceived){n.onHeadersReceived();delete n.onHeadersReceived}if(a.readyState!==4){return}if(!(t in this.pendingRequests)){return}delete this.pendingRequests[t];if(a.status===0&&this.isHttp){var i;(i=n.onError)===null||i===void 0?void 0:i.call(n,a.status);return}var o=a.status||p;var s=o===p&&n.expectedStatus===y;if(!s&&o!==n.expectedStatus){var u;(u=n.onError)===null||u===void 0?void 0:u.call(n,a.status);return}var l=m(a);if(o===y){var c=a.getResponseHeader("Content-Range");var f=/bytes (\d+)-(\d+)\/(\d+)/.exec(c);n.onDone({begin:parseInt(f[1],10),chunk:l})}else if(l){n.onDone({begin:0,chunk:l})}else{var d;(d=n.onError)===null||d===void 0?void 0:d.call(n,a.status)}}},{key:"getRequestXhr",value:function e(t){return this.pendingRequests[t].xhr}},{key:"isPendingRequest",value:function e(t){return t in this.pendingRequests}},{key:"abortRequest",value:function e(t){var r=this.pendingRequests[t].xhr;delete this.pendingRequests[t];r.abort()}}]);return r}();var b=function(){function t(e){d(this,t);this._source=e;this._manager=new g(e.url,{httpHeaders:e.httpHeaders,withCredentials:e.withCredentials});this._rangeChunkSize=e.rangeChunkSize;this._fullRequestReader=null;this._rangeRequestReaders=[]}v(t,[{key:"_onRangeRequestReaderClosed",value:function e(t){var r=this._rangeRequestReaders.indexOf(t);if(r>=0){this._rangeRequestReaders.splice(r,1)}}},{key:"getFullReader",value:function e(){(0,o.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once.");this._fullRequestReader=new _(this._manager,this._source);return this._fullRequestReader}},{key:"getRangeReader",value:function e(t,r){var n=new A(this._manager,t,r);n.onClosed=this._onRangeRequestReaderClosed.bind(this);this._rangeRequestReaders.push(n);return n}},{key:"cancelAllRequests",value:function e(t){var r;(r=this._fullRequestReader)===null||r===void 0?void 0:r.cancel(t);var n=c(this._rangeRequestReaders.slice(0)),a;try{for(n.s();!(a=n.n()).done;){var i=a.value;i.cancel(t)}}catch(e){n.e(e)}finally{n.f()}}}]);return t}();t.PDFNetworkStream=b;var _=function(){function n(e,t){d(this,n);this._manager=e;var r={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url;this._fullRequestId=e.requestFull(r);this._headersReceivedCapability=(0,o.createPromiseCapability)();this._disableRange=t.disableRange||false;this._contentLength=t.length;this._rangeChunkSize=t.rangeChunkSize;if(!this._rangeChunkSize&&!this._disableRange){this._disableRange=true}this._isStreamingSupported=false;this._isRangeSupported=false;this._cachedChunks=[];this._requests=[];this._done=false;this._storedError=undefined;this._filename=null;this.onProgress=null}v(n,[{key:"_onHeadersReceived",value:function e(){var t=this._fullRequestId;var r=this._manager.getRequestXhr(t);var n=function e(t){return r.getResponseHeader(t)};var a=(0,s.validateRangeRequestCapabilities)({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange}),i=a.allowRangeRequests,o=a.suggestedLength;if(i){this._isRangeSupported=true}this._contentLength=o||this._contentLength;this._filename=(0,s.extractFilenameFromHeader)(n);if(this._isRangeSupported){this._manager.abortRequest(t)}this._headersReceivedCapability.resolve()}},{key:"_onDone",value:function e(t){if(t){if(this._requests.length>0){var r=this._requests.shift();r.resolve({value:t.chunk,done:false})}else{this._cachedChunks.push(t.chunk)}}this._done=true;if(this._cachedChunks.length>0){return}var n=c(this._requests),a;try{for(n.s();!(a=n.n()).done;){var i=a.value;i.resolve({value:undefined,done:true})}}catch(e){n.e(e)}finally{n.f()}this._requests.length=0}},{key:"_onError",value:function e(t){this._storedError=(0,s.createResponseStatusError)(t,this._url);this._headersReceivedCapability.reject(this._storedError);var r=c(this._requests),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.reject(this._storedError)}}catch(e){r.e(e)}finally{r.f()}this._requests.length=0;this._cachedChunks.length=0}},{key:"_onProgress",value:function e(t){var r;(r=this.onProgress)===null||r===void 0?void 0:r.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}},{key:"filename",get:function e(){return this._filename}},{key:"isRangeSupported",get:function e(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}},{key:"contentLength",get:function e(){return this._contentLength}},{key:"headersReady",get:function e(){return this._headersReceivedCapability.promise}},{key:"read",value:function(){var e=l(i["default"].mark(function e(){var r,n;return i["default"].wrap(function e(t){while(1){switch(t.prev=t.next){case 0:if(!this._storedError){t.next=2;break}throw this._storedError;case 2:if(!(this._cachedChunks.length>0)){t.next=5;break}r=this._cachedChunks.shift();return t.abrupt("return",{value:r,done:false});case 5:if(!this._done){t.next=7;break}return t.abrupt("return",{value:undefined,done:true});case 7:n=(0,o.createPromiseCapability)();this._requests.push(n);return t.abrupt("return",n.promise);case 10:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){this._done=true;this._headersReceivedCapability.reject(t);var r=c(this._requests),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.resolve({value:undefined,done:true})}}catch(e){r.e(e)}finally{r.f()}this._requests.length=0;if(this._manager.isPendingRequest(this._fullRequestId)){this._manager.abortRequest(this._fullRequestId)}this._fullRequestReader=null}}]);return n}();var A=function(){function a(e,t,r){d(this,a);this._manager=e;var n={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url;this._requestId=e.requestRange(t,r,n);this._requests=[];this._queuedChunk=null;this._done=false;this._storedError=undefined;this.onProgress=null;this.onClosed=null}v(a,[{key:"_close",value:function e(){var t;(t=this.onClosed)===null||t===void 0?void 0:t.call(this,this)}},{key:"_onDone",value:function e(t){var r=t.chunk;if(this._requests.length>0){var n=this._requests.shift();n.resolve({value:r,done:false})}else{this._queuedChunk=r}this._done=true;var a=c(this._requests),i;try{for(a.s();!(i=a.n()).done;){var o=i.value;o.resolve({value:undefined,done:true})}}catch(e){a.e(e)}finally{a.f()}this._requests.length=0;this._close()}},{key:"_onError",value:function e(t){this._storedError=(0,s.createResponseStatusError)(t,this._url);var r=c(this._requests),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.reject(this._storedError)}}catch(e){r.e(e)}finally{r.f()}this._requests.length=0;this._queuedChunk=null}},{key:"_onProgress",value:function e(t){if(!this.isStreamingSupported){var r;(r=this.onProgress)===null||r===void 0?void 0:r.call(this,{loaded:t.loaded})}}},{key:"isStreamingSupported",get:function e(){return false}},{key:"read",value:function(){var e=l(i["default"].mark(function e(){var r,n;return i["default"].wrap(function e(t){while(1){switch(t.prev=t.next){case 0:if(!this._storedError){t.next=2;break}throw this._storedError;case 2:if(!(this._queuedChunk!==null)){t.next=6;break}r=this._queuedChunk;this._queuedChunk=null;return t.abrupt("return",{value:r,done:false});case 6:if(!this._done){t.next=8;break}return t.abrupt("return",{value:undefined,done:true});case 8:n=(0,o.createPromiseCapability)();this._requests.push(n);return t.abrupt("return",n.promise);case 11:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){this._done=true;var r=c(this._requests),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.resolve({value:undefined,done:true})}}catch(e){r.e(e)}finally{r.f()}this._requests.length=0;if(this._manager.isPendingRequest(this._requestId)){this._manager.abortRequest(this._requestId)}this._close()}}]);return a}()},(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});t.PDFFetchStream=void 0;var s=n(r(2));var u=r(4);var l=r(154);function n(e){return e&&e.__esModule?e:{default:e}}function c(e,t,r,n,a,i,o){try{var s=e[i](o);var u=s.value}catch(e){r(e);return}if(s.done){t(u)}else{Promise.resolve(u).then(n,a)}}function a(s){return function(){var e=this,o=arguments;return new Promise(function(t,r){var n=s.apply(e,o);function a(e){c(n,t,r,a,i,"next",e)}function i(e){c(n,t,r,a,i,"throw",e)}a(undefined)})}}function i(t,e){var r=typeof Symbol!=="undefined"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=f(t))||e&&t&&typeof t.length==="number"){if(r)t=r;var n=0;var a=function e(){};return{s:a,n:function e(){if(n>=t.length)return{done:true};return{done:false,value:t[n++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i=true,o=false,s;return{s:function e(){r=r.call(t)},n:function e(){var t=r.next();i=t.done;return t},e:function e(t){o=true;s=t},f:function e(){try{if(!i&&r["return"]!=null)r["return"]()}finally{if(o)throw s}}}}function f(e,t){if(!e)return;if(typeof e==="string")return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor)r=e.constructor.name;if(r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}function o(e,t){if(t==null||t>e.length)t=e.length;for(var r=0,n=new Array(t);r<t;r++){n[r]=e[r]}return n}function d(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function h(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function v(e,t,r){if(t)h(e.prototype,t);if(r)h(e,r);return e}function p(e,t,r){return{method:"GET",headers:e,signal:r===null||r===void 0?void 0:r.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function y(e){var t=new Headers;for(var r in e){var n=e[r];if(typeof n==="undefined"){continue}t.append(r,n)}return t}var m=function(){function t(e){d(this,t);this.source=e;this.isHttp=/^https?:/i.test(e.url);this.httpHeaders=this.isHttp&&e.httpHeaders||{};this._fullRequestReader=null;this._rangeRequestReaders=[]}v(t,[{key:"_progressiveDataLength",get:function e(){var t,r;return(t=(r=this._fullRequestReader)===null||r===void 0?void 0:r._loaded)!==null&&t!==void 0?t:0}},{key:"getFullReader",value:function e(){(0,u.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once.");this._fullRequestReader=new g(this);return this._fullRequestReader}},{key:"getRangeReader",value:function e(t,r){if(r<=this._progressiveDataLength){return null}var n=new b(this,t,r);this._rangeRequestReaders.push(n);return n}},{key:"cancelAllRequests",value:function e(t){if(this._fullRequestReader){this._fullRequestReader.cancel(t)}var r=i(this._rangeRequestReaders.slice(0)),n;try{for(r.s();!(n=r.n()).done;){var a=n.value;a.cancel(t)}}catch(e){r.e(e)}finally{r.f()}}}]);return t}();t.PDFFetchStream=m;var g=function(){function r(e){var i=this;d(this,r);this._stream=e;this._reader=null;this._loaded=0;this._filename=null;var t=e.source;this._withCredentials=t.withCredentials||false;this._contentLength=t.length;this._headersCapability=(0,u.createPromiseCapability)();this._disableRange=t.disableRange||false;this._rangeChunkSize=t.rangeChunkSize;if(!this._rangeChunkSize&&!this._disableRange){this._disableRange=true}if(typeof AbortController!=="undefined"){this._abortController=new AbortController}this._isStreamingSupported=!t.disableStream;this._isRangeSupported=!t.disableRange;this._headers=y(this._stream.httpHeaders);var o=t.url;fetch(o,p(this._headers,this._withCredentials,this._abortController)).then(function(r){if(!(0,l.validateResponseStatus)(r.status)){throw(0,l.createResponseStatusError)(r.status,o)}i._reader=r.body.getReader();i._headersCapability.resolve();var e=function e(t){return r.headers.get(t)};var t=(0,l.validateRangeRequestCapabilities)({getResponseHeader:e,isHttp:i._stream.isHttp,rangeChunkSize:i._rangeChunkSize,disableRange:i._disableRange}),n=t.allowRangeRequests,a=t.suggestedLength;i._isRangeSupported=n;i._contentLength=a||i._contentLength;i._filename=(0,l.extractFilenameFromHeader)(e);if(!i._isStreamingSupported&&i._isRangeSupported){i.cancel(new u.AbortException("Streaming is disabled."))}})["catch"](this._headersCapability.reject);this.onProgress=null}v(r,[{key:"headersReady",get:function e(){return this._headersCapability.promise}},{key:"filename",get:function e(){return this._filename}},{key:"contentLength",get:function e(){return this._contentLength}},{key:"isRangeSupported",get:function e(){return this._isRangeSupported}},{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}},{key:"read",value:function(){var e=a(s["default"].mark(function e(){var r,n,a,i;return s["default"].wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return this._headersCapability.promise;case 2:t.next=4;return this._reader.read();case 4:r=t.sent;n=r.value;a=r.done;if(!a){t.next=9;break}return t.abrupt("return",{value:n,done:a});case 9:this._loaded+=n.byteLength;if(this.onProgress){this.onProgress({loaded:this._loaded,total:this._contentLength})}i=new Uint8Array(n).buffer;return t.abrupt("return",{value:i,done:false});case 13:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){if(this._reader){this._reader.cancel(t)}if(this._abortController){this._abortController.abort()}}}]);return r}();var b=function(){function o(e,t,r){var n=this;d(this,o);this._stream=e;this._reader=null;this._loaded=0;var a=e.source;this._withCredentials=a.withCredentials||false;this._readCapability=(0,u.createPromiseCapability)();this._isStreamingSupported=!a.disableStream;if(typeof AbortController!=="undefined"){this._abortController=new AbortController}this._headers=y(this._stream.httpHeaders);this._headers.append("Range","bytes=".concat(t,"-").concat(r-1));var i=a.url;fetch(i,p(this._headers,this._withCredentials,this._abortController)).then(function(e){if(!(0,l.validateResponseStatus)(e.status)){throw(0,l.createResponseStatusError)(e.status,i)}n._readCapability.resolve();n._reader=e.body.getReader()})["catch"](this._readCapability.reject);this.onProgress=null}v(o,[{key:"isStreamingSupported",get:function e(){return this._isStreamingSupported}},{key:"read",value:function(){var e=a(s["default"].mark(function e(){var r,n,a,i;return s["default"].wrap(function e(t){while(1){switch(t.prev=t.next){case 0:t.next=2;return this._readCapability.promise;case 2:t.next=4;return this._reader.read();case 4:r=t.sent;n=r.value;a=r.done;if(!a){t.next=9;break}return t.abrupt("return",{value:n,done:a});case 9:this._loaded+=n.byteLength;if(this.onProgress){this.onProgress({loaded:this._loaded})}i=new Uint8Array(n).buffer;return t.abrupt("return",{value:i,done:false});case 13:case"end":return t.stop()}}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},{key:"cancel",value:function e(t){if(this._reader){this._reader.cancel(t)}if(this._abortController){this._abortController.abort()}}}]);return o}()}];var __webpack_module_cache__={};function __w_pdfjs_require__(e){var t=__webpack_module_cache__[e];if(t!==undefined){return t.exports}var r=__webpack_module_cache__[e]={id:e,loaded:false,exports:{}};__webpack_modules__[e].call(r.exports,r,r.exports,__w_pdfjs_require__);r.loaded=true;return r.exports}(()=>{__w_pdfjs_require__.nmd=e=>{e.paths=[];if(!e.children)e.children=[];return e}})();var __webpack_exports__={};(()=>{"use strict";var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:true});Object.defineProperty(e,"AnnotationLayer",{enumerable:true,get:function e(){return a.AnnotationLayer}});Object.defineProperty(e,"AnnotationMode",{enumerable:true,get:function e(){return r.AnnotationMode}});Object.defineProperty(e,"CMapCompressionType",{enumerable:true,get:function e(){return r.CMapCompressionType}});Object.defineProperty(e,"GlobalWorkerOptions",{enumerable:true,get:function e(){return i.GlobalWorkerOptions}});Object.defineProperty(e,"InvalidPDFException",{enumerable:true,get:function e(){return r.InvalidPDFException}});Object.defineProperty(e,"LinkTarget",{enumerable:true,get:function e(){return t.LinkTarget}});Object.defineProperty(e,"LoopbackPort",{enumerable:true,get:function e(){return n.LoopbackPort}});Object.defineProperty(e,"MissingPDFException",{enumerable:true,get:function e(){return r.MissingPDFException}});Object.defineProperty(e,"OPS",{enumerable:true,get:function e(){return r.OPS}});Object.defineProperty(e,"PDFDataRangeTransport",{enumerable:true,get:function e(){return n.PDFDataRangeTransport}});Object.defineProperty(e,"PDFDateString",{enumerable:true,get:function e(){return t.PDFDateString}});Object.defineProperty(e,"PDFWorker",{enumerable:true,get:function e(){return n.PDFWorker}});Object.defineProperty(e,"PasswordResponses",{enumerable:true,get:function e(){return r.PasswordResponses}});Object.defineProperty(e,"PermissionFlag",{enumerable:true,get:function e(){return r.PermissionFlag}});Object.defineProperty(e,"PixelsPerInch",{enumerable:true,get:function e(){return t.PixelsPerInch}});Object.defineProperty(e,"RenderingCancelledException",{enumerable:true,get:function e(){return t.RenderingCancelledException}});Object.defineProperty(e,"SVGGraphics",{enumerable:true,get:function e(){return u.SVGGraphics}});Object.defineProperty(e,"UNSUPPORTED_FEATURES",{enumerable:true,get:function e(){return r.UNSUPPORTED_FEATURES}});Object.defineProperty(e,"UnexpectedResponseException",{enumerable:true,get:function e(){return r.UnexpectedResponseException}});Object.defineProperty(e,"Util",{enumerable:true,get:function e(){return r.Util}});Object.defineProperty(e,"VerbosityLevel",{enumerable:true,get:function e(){return r.VerbosityLevel}});Object.defineProperty(e,"XfaLayer",{enumerable:true,get:function e(){return l.XfaLayer}});Object.defineProperty(e,"addLinkAttributes",{enumerable:true,get:function e(){return t.addLinkAttributes}});Object.defineProperty(e,"build",{enumerable:true,get:function e(){return n.build}});Object.defineProperty(e,"createObjectURL",{enumerable:true,get:function e(){return r.createObjectURL}});Object.defineProperty(e,"createPromiseCapability",{enumerable:true,get:function e(){return r.createPromiseCapability}});Object.defineProperty(e,"createValidAbsoluteUrl",{enumerable:true,get:function e(){return r.createValidAbsoluteUrl}});Object.defineProperty(e,"getDocument",{enumerable:true,get:function e(){return n.getDocument}});Object.defineProperty(e,"getFilenameFromUrl",{enumerable:true,get:function e(){return t.getFilenameFromUrl}});Object.defineProperty(e,"getPdfFilenameFromUrl",{enumerable:true,get:function e(){return t.getPdfFilenameFromUrl}});Object.defineProperty(e,"getXfaPageViewport",{enumerable:true,get:function e(){return t.getXfaPageViewport}});Object.defineProperty(e,"isPdfFile",{enumerable:true,get:function e(){return t.isPdfFile}});Object.defineProperty(e,"loadScript",{enumerable:true,get:function e(){return t.loadScript}});Object.defineProperty(e,"removeNullCharacters",{enumerable:true,get:function e(){return r.removeNullCharacters}});Object.defineProperty(e,"renderTextLayer",{enumerable:true,get:function e(){return s.renderTextLayer}});Object.defineProperty(e,"shadow",{enumerable:true,get:function e(){return r.shadow}});Object.defineProperty(e,"version",{enumerable:true,get:function e(){return n.version}});var t=__w_pdfjs_require__(1);var r=__w_pdfjs_require__(4);var n=__w_pdfjs_require__(136);var a=__w_pdfjs_require__(148);var i=__w_pdfjs_require__(142);var o=__w_pdfjs_require__(6);var s=__w_pdfjs_require__(151);var u=__w_pdfjs_require__(152);var l=__w_pdfjs_require__(150);var c="2.12.313";var f="a2ae56f39";{if(o.isNodeJS){var d=__w_pdfjs_require__(153),h=d.PDFNodeStream;(0,n.setPDFNetworkStreamFactory)(function(e){return new h(e)})}else{var v=__w_pdfjs_require__(156),p=v.PDFNetworkStream;var y=__w_pdfjs_require__(157),m=y.PDFFetchStream;(0,n.setPDFNetworkStreamFactory)(function(e){if((0,t.isValidFetchUrl)(e.url)){return new m(e)}return new p(e)})}}})();return __webpack_exports__})()});